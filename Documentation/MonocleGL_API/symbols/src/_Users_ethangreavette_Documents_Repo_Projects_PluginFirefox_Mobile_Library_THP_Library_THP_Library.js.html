<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"> <style>
	.KEYW {color: #933;}
	.COMM {color: #bbb; font-style: italic;}
	.NUMB {color: #393;}
	.STRN {color: #393;}
	.REGX {color: #339;}
	.line {border-right: 1px dotted #666; color: #666; font-style: normal;}
	</style></head><body><pre><span class='line'>  1</span> <span class="COMM">/*! THM_circleVector.js */</span><span class="WHIT">
<span class='line'>  2</span> </span><span class="COMM">// ---------------------------------------------------------------------</span><span class="WHIT">
<span class='line'>  3</span> </span><span class="COMM">// A two dimensional vector for MGL</span><span class="WHIT">
<span class='line'>  4</span> </span><span class="COMM">// Author: Ethan Greavette</span><span class="WHIT">
<span class='line'>  5</span> </span><span class="COMM">// Created: 6/21/2011</span><span class="WHIT">
<span class='line'>  6</span> </span><span class="COMM">// Comments: A class for representing a polar angle and magnitude.</span><span class="WHIT">
<span class='line'>  7</span> </span><span class="COMM">// ---------------------------------------------------------------------</span><span class="WHIT">
<span class='line'>  8</span> 
<span class='line'>  9</span> </span><span class="COMM">/**
<span class='line'> 10</span> A class for representing a polar angle and magnitude.
<span class='line'> 11</span> @class circleVector
<span class='line'> 12</span> @param  {number} passRadial The magnitude of the vector
<span class='line'> 13</span> @param  {number} passTheta The angle of the vector
<span class='line'> 14</span> @return {void} Nothing
<span class='line'> 15</span> */</span><span class="WHIT">
<span class='line'> 16</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">circleVector</span><span class="PUNC">(</span><span class="NAME">passRadial</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">passTheta</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'> 17</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 18</span> </span><span class="WHIT">    </span><span class="NAME">this.radial</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 19</span> </span><span class="WHIT">	</span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 20</span> 
<span class='line'> 21</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'> 22</span> 	Change both values of this vector and check that they are valid.
<span class='line'> 23</span> 	@param  {number} passRadial The magnitude of the vector.
<span class='line'> 24</span> 	@param  {number} passTheta The angle of the vector.
<span class='line'> 25</span> 	@return {void} Nothing.
<span class='line'> 26</span> 	*/</span><span class="WHIT">
<span class='line'> 27</span> </span><span class="WHIT">	</span><span class="NAME">this.setVector</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">passRadial</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">passTheta</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 28</span> </span><span class="WHIT">		</span><span class="NAME">this.radial</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">passRadial</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 29</span> </span><span class="WHIT">		</span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">passTheta</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 30</span> </span><span class="WHIT">		</span><span class="NAME">this.checkAngles</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 31</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 32</span> 
<span class='line'> 33</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'> 34</span> 	Create a copy of this vector and return it.
<span class='line'> 35</span> 	@param {void} Nothing.
<span class='line'> 36</span> 	@return {object} Returns a new copy of this vector.
<span class='line'> 37</span> 	*/</span><span class="WHIT">
<span class='line'> 38</span> </span><span class="WHIT">	</span><span class="NAME">this.clone</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 39</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ret</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">circleVector</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 40</span> </span><span class="WHIT">		</span><span class="NAME">ret.setVector</span><span class="PUNC">(</span><span class="NAME">this.radial</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.theta</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 41</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">ret</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 42</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 43</span> 
<span class='line'> 44</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'> 45</span> 	Add the passed angle to the current angle and check to make sure it's valid.
<span class='line'> 46</span> 	@param  {number} passTheta A new angle to add to this current angle of the vector.
<span class='line'> 47</span> 	@return {void} Nothing.
<span class='line'> 48</span> 	*/</span><span class="WHIT">
<span class='line'> 49</span> </span><span class="WHIT">	</span><span class="NAME">this.addTheta</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">passTheta</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 50</span> </span><span class="WHIT">		</span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">passTheta</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 51</span> </span><span class="WHIT">		</span><span class="NAME">this.checkAngles</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 52</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 53</span> 
<span class='line'> 54</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'> 55</span> 	Ensure the theta angle is inbetween 0 and 360 degrees.
<span class='line'> 56</span> 	@param {void} Nothing.
<span class='line'> 57</span> 	@return {void} Nothing.
<span class='line'> 58</span> 	*/</span><span class="WHIT">
<span class='line'> 59</span> </span><span class="WHIT">	</span><span class="NAME">this.checkAngles</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 60</span> </span><span class="WHIT">		</span><span class="KEYW">while</span><span class="PUNC">(</span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">>=</span><span class="WHIT"> </span><span class="NUMB">360</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'> 61</span> </span><span class="WHIT">		</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 62</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">360</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 63</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">>=</span><span class="WHIT"> </span><span class="NUMB">360</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">360</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 64</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'> 65</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 66</span> 
<span class='line'> 67</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'> 68</span> 	Set this vector to the magnitude and angle of the passed points.
<span class='line'> 69</span> 	@param  {object} startPoint The start point of the new vector.
<span class='line'> 70</span> 	@param  {object} endPoint The end point of the new vector.
<span class='line'> 71</span> 	@return {void} Nothing.
<span class='line'> 72</span> 	*/</span><span class="WHIT">
<span class='line'> 73</span> </span><span class="WHIT">	</span><span class="NAME">this.getPolar</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">startPoint</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">endPoint</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 74</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ret</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 75</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">startPoint.x</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">endPoint.x</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 76</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NUMB">320</span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">startPoint.y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NUMB">320</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">endPoint.y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 77</span> 
<span class='line'> 78</span> </span><span class="WHIT">		</span><span class="COMM">// Get length</span><span class="WHIT">
<span class='line'> 79</span> </span><span class="WHIT">		</span><span class="NAME">radial</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">distancePoints</span><span class="PUNC">(</span><span class="NAME">startPoint</span><span class="PUNC">,</span><span class="NAME">endPoint</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 80</span> 
<span class='line'> 81</span> </span><span class="WHIT">		</span><span class="COMM">// do special cases first of 0, 90, 180, 270 angles</span><span class="WHIT">
<span class='line'> 82</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">startPoint.x</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">endPoint.x</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">startPoint.y</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">endPoint.y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">ret</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 83</span> 
<span class='line'> 84</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">startPoint.x</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">endPoint.x</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">startPoint.y</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">endPoint.y</span><span class="PUNC">)</span><span class="WHIT">  </span><span class="NAME">ret</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">90</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 85</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">startPoint.x</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">endPoint.x</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">startPoint.y</span><span class="WHIT"> </span><span class="PUNC">></span><span class="WHIT"> </span><span class="NAME">endPoint.y</span><span class="PUNC">)</span><span class="WHIT">  </span><span class="NAME">ret</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">270</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 86</span> 
<span class='line'> 87</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">startPoint.y</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">endPoint.y</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">startPoint.x</span><span class="WHIT"> </span><span class="PUNC">></span><span class="WHIT"> </span><span class="NAME">endPoint.x</span><span class="PUNC">)</span><span class="WHIT">  </span><span class="NAME">ret</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">180</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 88</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">startPoint.y</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">endPoint.y</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">startPoint.x</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">endPoint.x</span><span class="PUNC">)</span><span class="WHIT">  </span><span class="NAME">ret</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 89</span> 
<span class='line'> 90</span> </span><span class="WHIT">		</span><span class="COMM">// Check if we already have answer</span><span class="WHIT">
<span class='line'> 91</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">ret</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'> 92</span> </span><span class="WHIT">		</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 93</span> </span><span class="WHIT">			</span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">ret</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 94</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">ret</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 95</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'> 96</span> 
<span class='line'> 97</span> </span><span class="WHIT">		</span><span class="COMM">// test which side we are on</span><span class="WHIT">
<span class='line'> 98</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT">  </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'> 99</span> </span><span class="WHIT">			</span><span class="NAME">ret</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Math.atan</span><span class="PUNC">(</span><span class="NAME">y</span><span class="PUNC">/</span><span class="NAME">x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NUMB">180</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NAME">Math.PI</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>100</span> </span><span class="WHIT">		</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">></span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>101</span> </span><span class="WHIT">			</span><span class="NAME">ret</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">360</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">Math.atan</span><span class="PUNC">(</span><span class="NAME">y</span><span class="PUNC">/</span><span class="NAME">x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NUMB">180</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NAME">Math.PI</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>102</span> </span><span class="WHIT">		</span><span class="KEYW">else</span><span class="WHIT">
<span class='line'>103</span> </span><span class="WHIT">			</span><span class="NAME">ret</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">180</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">Math.atan</span><span class="PUNC">(</span><span class="NAME">y</span><span class="PUNC">/</span><span class="NAME">x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NUMB">180</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NAME">Math.PI</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>104</span> 
<span class='line'>105</span> </span><span class="WHIT">		</span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">ret</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>106</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">ret</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>107</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>108</span> 
<span class='line'>109</span> </span><span class="WHIT">	</span><span class="COMM">// Make sure the passed in values are defined</span><span class="WHIT">
<span class='line'>110</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">passRadial</span><span class="PUNC">===</span><span class="NAME">undefined</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>111</span> </span><span class="WHIT">		</span><span class="NAME">passRadial</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>112</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>113</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">passTheta</span><span class="PUNC">===</span><span class="NAME">undefined</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>114</span> </span><span class="WHIT">		</span><span class="NAME">passTheta</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>115</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>116</span> 
<span class='line'>117</span> </span><span class="WHIT">	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>118</span> </span><span class="WHIT">	</span><span class="NAME">this.setVector</span><span class="PUNC">(</span><span class="NAME">passRadial</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">passTheta</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>119</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>120</span> </span><span class="COMM">/*! THM_fastMath.js */</span><span class="WHIT">
<span class='line'>121</span> </span><span class="COMM">// ---------------------------------------------------------------------</span><span class="WHIT">
<span class='line'>122</span> </span><span class="COMM">// An optimized math library for MGL</span><span class="WHIT">
<span class='line'>123</span> </span><span class="COMM">// Author: Ethan Greavette</span><span class="WHIT">
<span class='line'>124</span> </span><span class="COMM">// Created: 6/21/2011</span><span class="WHIT">
<span class='line'>125</span> </span><span class="COMM">// Comments: Create a look up table for sine and cosine values</span><span class="WHIT">
<span class='line'>126</span> </span><span class="COMM">// ---------------------------------------------------------------------</span><span class="WHIT">
<span class='line'>127</span> 
<span class='line'>128</span> </span><span class="COMM">/**
<span class='line'>129</span> Create a look up table for sine and cosine values and wrap them into a class.
<span class='line'>130</span> @class THM_fastMath
<span class='line'>131</span> @return {void} Nothing
<span class='line'>132</span> @return {void} Nothing
<span class='line'>133</span> */</span><span class="WHIT">
<span class='line'>134</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">THM_fastMath</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>135</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">sinTable</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Array</span><span class="PUNC">(</span><span class="NUMB">3600</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>136</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">cosTable</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Array</span><span class="PUNC">(</span><span class="NUMB">3600</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>137</span> 
<span class='line'>138</span> </span><span class="WHIT">	</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">3600</span><span class="WHIT"> </span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>139</span> </span><span class="WHIT">		</span><span class="NAME">sinTable</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Math.sin</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">Math.PI</span><span class="PUNC">/</span><span class="NUMB">1800</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>140</span> </span><span class="WHIT">		</span><span class="NAME">cosTable</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Math.cos</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">Math.PI</span><span class="PUNC">/</span><span class="NUMB">1800</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>141</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>142</span> 
<span class='line'>143</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>144</span> 	Return the sine value of the passed angle.
<span class='line'>145</span> 	@param  {number} passAngle The angle to get the sine of.
<span class='line'>146</span> 	@return {number} The sine value of the passed angle.
<span class='line'>147</span> 	*/</span><span class="WHIT">
<span class='line'>148</span> </span><span class="WHIT">	</span><span class="NAME">this.sin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">passAngle</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>149</span> </span><span class="WHIT">		</span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Math.round</span><span class="PUNC">(</span><span class="NAME">passAngle</span><span class="PUNC">*</span><span class="NUMB">10</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>150</span> </span><span class="WHIT">		</span><span class="NAME">this.checkAngles</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>151</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">sinTable</span><span class="PUNC">[</span><span class="NAME">this.theta</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>152</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>153</span> 
<span class='line'>154</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>155</span> 	Return the cosine value of the passed angle.
<span class='line'>156</span> 	@param  {number} passAngle The angle to get the cosine of.
<span class='line'>157</span> 	@return {number} The cosine value of the passed angle.
<span class='line'>158</span> 	*/</span><span class="WHIT">
<span class='line'>159</span> </span><span class="WHIT">	</span><span class="NAME">this.cos</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">passAngle</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>160</span> </span><span class="WHIT">		</span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Math.round</span><span class="PUNC">(</span><span class="NAME">passAngle</span><span class="PUNC">*</span><span class="NUMB">10</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>161</span> </span><span class="WHIT">		</span><span class="NAME">this.checkAngles</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>162</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">cosTable</span><span class="PUNC">[</span><span class="NAME">this.theta</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>163</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>164</span> 
<span class='line'>165</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>166</span> 	Return the tangent value of the passed angle.
<span class='line'>167</span> 	@param  {number} passAngle The angle to get the tangent of.
<span class='line'>168</span> 	@return {number} The tangent value of the passed angle.
<span class='line'>169</span> 	*/</span><span class="WHIT">
<span class='line'>170</span> </span><span class="WHIT">	</span><span class="NAME">this.tan</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">passAngle</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>171</span> </span><span class="WHIT">		</span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Math.round</span><span class="PUNC">(</span><span class="NAME">passAngle</span><span class="PUNC">*</span><span class="NUMB">10</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>172</span> </span><span class="WHIT">		</span><span class="NAME">this.checkAngles</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>173</span> </span><span class="WHIT">		</span><span class="COMM">//Should return some arbitrary value if cosTable=0;</span><span class="WHIT">
<span class='line'>174</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">sinTable</span><span class="PUNC">[</span><span class="NAME">this.theta</span><span class="PUNC">]</span><span class="PUNC">/</span><span class="NAME">cosTable</span><span class="PUNC">[</span><span class="NAME">this.theta</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>175</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>176</span> 
<span class='line'>177</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>178</span> 	Ensure the theta angle is inbetween 0 and 360 degrees.
<span class='line'>179</span> 	@param {void} Nothing.
<span class='line'>180</span> 	@return {void} Nothing.
<span class='line'>181</span> 	*/</span><span class="WHIT">
<span class='line'>182</span> </span><span class="WHIT">	</span><span class="NAME">this.checkAngles</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>183</span> </span><span class="WHIT">		</span><span class="KEYW">while</span><span class="PUNC">(</span><span class="NAME">this.theta</span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">this.theta</span><span class="PUNC">>=</span><span class="WHIT"> </span><span class="NUMB">3600</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>184</span> </span><span class="WHIT">		</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>185</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">>=</span><span class="WHIT"> </span><span class="NUMB">3600</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>186</span> </span><span class="WHIT">				</span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">3600</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>187</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>188</span> </span><span class="WHIT">			</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>189</span> </span><span class="WHIT">				</span><span class="NAME">this.theta</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">3600</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>190</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>191</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>192</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>193</span> 
<span class='line'>194</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>195</span> 	Takes in a point and vector then traverses the point along vector and returns the new point.
<span class='line'>196</span> 	@param {object} passPoint The point to start with before the traversal.
<span class='line'>197</span> 	@param {object} passCircleVector The vector to traverse the passed point along.
<span class='line'>198</span> 	@return {object} The resulting point after the traversal.
<span class='line'>199</span> 	*/</span><span class="WHIT">
<span class='line'>200</span> </span><span class="WHIT">	</span><span class="NAME">this.moveVector2D</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">passPoint</span><span class="PUNC">,</span><span class="NAME">passCircleVector</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>201</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>202</span> </span><span class="WHIT">		</span><span class="NAME">passCircleVector.checkAngles</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>203</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">tempPoint</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Point</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>204</span> 
<span class='line'>205</span> </span><span class="WHIT">		</span><span class="NAME">tempPoint.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">passPoint.x</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">passCircleVector.radial</span><span class="PUNC">*</span><span class="NAME">this.sin</span><span class="PUNC">(</span><span class="NAME">passCircleVector.theta</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>206</span> </span><span class="WHIT">		</span><span class="NAME">tempPoint.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">passPoint.y</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">passCircleVector.radial</span><span class="PUNC">*</span><span class="NAME">this.cos</span><span class="PUNC">(</span><span class="NAME">passCircleVector.theta</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>207</span> 
<span class='line'>208</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">tempPoint</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>209</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>210</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>211</span> </span><span class="COMM">/*! osmosis.js */</span><span class="WHIT">
<span class='line'>212</span> </span><span class="COMM">// ---------------------------------------------------------------------</span><span class="WHIT">
<span class='line'>213</span> </span><span class="COMM">// Osmosis Objected Oriented Compatibility Layer for MGL</span><span class="WHIT">
<span class='line'>214</span> </span><span class="COMM">// Author: Anson MacKeracher, Ethan Greavette</span><span class="WHIT">
<span class='line'>215</span> </span><span class="COMM">// Created: 6/9/2010</span><span class="WHIT">
<span class='line'>216</span> </span><span class="COMM">// Comments: This "library" acts as an intermetiate layer between monocleGL</span><span class="WHIT">
<span class='line'>217</span> </span><span class="COMM">//           and the JavaScript that implements the demo. Use this library</span><span class="WHIT">
<span class='line'>218</span> </span><span class="COMM">//           to access the plugin in a more object oriented way.</span><span class="WHIT">
<span class='line'>219</span> </span><span class="COMM">// ---------------------------------------------------------------------</span><span class="WHIT">
<span class='line'>220</span> 
<span class='line'>221</span> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">DEBUG_MODE</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>222</span> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">targetURL</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"www.tophatmonocle.com"</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>223</span> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">node_map</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>224</span> 
<span class='line'>225</span> </span><span class="COMM">/**
<span class='line'>226</span> Trigger an event to a node
<span class='line'>227</span> @class monoclegl_trigger_event
<span class='line'>228</span> @param  {void} Nothing
<span class='line'>229</span> @return {void} Nothing
<span class='line'>230</span> */</span><span class="WHIT">
<span class='line'>231</span> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">monoclegl_trigger_event</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>232</span> </span><span class="WHIT">    </span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>233</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">args</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Array.prototype.slice.call</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>234</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">node_id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">args.shift</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>235</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">node</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">node_map</span><span class="PUNC">[</span><span class="NAME">node_id</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>236</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">node</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>237</span> </span><span class="WHIT">            </span><span class="NAME">setTimeout</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">node.trigger.apply</span><span class="PUNC">(</span><span class="NAME">node</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">args</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>238</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>239</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">error</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>240</span> </span><span class="WHIT">        </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"Error in trigger event.\n -> "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">error</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>241</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>242</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>243</span> </span><span class="COMM">/**
<span class='line'>244</span> Setup up monocleGL trigger events
<span class='line'>245</span> @class monoclegl_initialize
<span class='line'>246</span> @param  {object} plugin The monocleGL plugin object
<span class='line'>247</span> @return {void} Nothing
<span class='line'>248</span> */</span><span class="WHIT">
<span class='line'>249</span> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">monoclegl_initialize</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>250</span> </span><span class="WHIT">    </span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>251</span> </span><span class="WHIT">        </span><span class="NAME">plugin.initialize</span><span class="PUNC">(</span><span class="NAME">monoclegl_trigger_event</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>252</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">error</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>253</span> </span><span class="WHIT">        </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"Error initializing monocleGL.\n -> "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">error</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>254</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>255</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>256</span> 
<span class='line'>257</span> </span><span class="COMM">/**
<span class='line'>258</span> Safe debug logging
<span class='line'>259</span> @class logDebug
<span class='line'>260</span> @param  {string} passStr The debug string to print out to console
<span class='line'>261</span> @return {void} Nothing
<span class='line'>262</span> */</span><span class="WHIT">
<span class='line'>263</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="NAME">passStr</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>264</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">console</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">'undefined'</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">DEBUG_MODE</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>265</span> </span><span class="WHIT">        </span><span class="NAME">console.log</span><span class="PUNC">(</span><span class="NAME">passStr</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>266</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>267</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>268</span> 
<span class='line'>269</span> </span><span class="COMM">/**
<span class='line'>270</span> Safe error logging
<span class='line'>271</span> @class logError
<span class='line'>272</span> @param  {string} passStr The error string to print out to console
<span class='line'>273</span> @return {void} Nothing
<span class='line'>274</span> */</span><span class="WHIT">
<span class='line'>275</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="NAME">passStr</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>276</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">console</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">'undefined'</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>277</span> </span><span class="WHIT">        </span><span class="NAME">console.log</span><span class="PUNC">(</span><span class="NAME">passStr</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>278</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>279</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>280</span> 
<span class='line'>281</span> </span><span class="COMM">/**
<span class='line'>282</span> The abstract layer in between the plugin and JavaScript
<span class='line'>283</span> @class Osmosis
<span class='line'>284</span> @param  {void} Nothing
<span class='line'>285</span> @return {void} Nothing
<span class='line'>286</span> */</span><span class="WHIT">
<span class='line'>287</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">Osmosis</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>288</span> </span><span class="WHIT">    </span><span class="NAME">this.boolSubscribed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>289</span> </span><span class="WHIT">    </span><span class="NAME">this.boolCallbacks</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>290</span> 
<span class='line'>291</span> </span><span class="WHIT">    </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>292</span> </span><span class="WHIT">    </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>293</span> </span><span class="WHIT">    </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>294</span> </span><span class="WHIT">    </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>295</span> </span><span class="WHIT">	</span><span class="NAME">this.scale</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>296</span> </span><span class="WHIT">    </span><span class="NAME">this.rotation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>297</span> </span><span class="WHIT">    </span><span class="NAME">this.centerX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>298</span> </span><span class="WHIT">    </span><span class="NAME">this.centerY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>299</span> 
<span class='line'>300</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>301</span> 	This callback is called automatically by the plugin whenever a node position, rotation or scale changes
<span class='line'>302</span> 	@param  {number} x The new x position of the node
<span class='line'>303</span> 	@param  {number} y The new y position of the node
<span class='line'>304</span> 	@param  {number} width The new width of the node
<span class='line'>305</span> 	@param  {number} height The new height of the node
<span class='line'>306</span> 	@param  {number} scale The new scale of the node
<span class='line'>307</span> 	@param  {number} rotation The new rotation of the node
<span class='line'>308</span> 	@param  {number} centerX The new x position center point of the node
<span class='line'>309</span> 	@param  {number} centerY The new y position center point of the node
<span class='line'>310</span> 	@return {void} Nothing
<span class='line'>311</span> 	*/</span><span class="WHIT">
<span class='line'>312</span> </span><span class="WHIT">	</span><span class="NAME">this.updateCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scale</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rotation</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">centerX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">centerY</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>313</span> </span><span class="WHIT">        </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>314</span> </span><span class="WHIT">        </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>315</span> </span><span class="WHIT">        </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>316</span> </span><span class="WHIT">        </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>317</span> </span><span class="WHIT">        </span><span class="NAME">this.scale</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">scale</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>318</span> </span><span class="WHIT">        </span><span class="NAME">this.rotation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rotation</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>319</span> </span><span class="WHIT">        </span><span class="NAME">this.centerX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">centerX</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>320</span> </span><span class="WHIT">        </span><span class="NAME">this.centerY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">centerY</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>321</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>322</span> 
<span class='line'>323</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>324</span> 	This function returns an array of all the callbacks for this node of the passed in type
<span class='line'>325</span> 	@param  {string} type The type of callback we are interested in
<span class='line'>326</span> 	@return {array} Returns a list of callbacks of the passed in type
<span class='line'>327</span> 	*/</span><span class="WHIT">
<span class='line'>328</span> </span><span class="WHIT">	</span><span class="NAME">this.getCallbacksByType</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">type</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>329</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">type</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>330</span> </span><span class="WHIT">            </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"getCallbacksByType argument must be string type"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>331</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>332</span> 
<span class='line'>333</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.callbacks</span><span class="PUNC">[</span><span class="NAME">type</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>334</span> </span><span class="WHIT">            </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"No callbacks of type "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">type</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">" defined"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>335</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>336</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>337</span> 
<span class='line'>338</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.callbacks</span><span class="PUNC">[</span><span class="NAME">type</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>339</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>340</span> 
<span class='line'>341</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>342</span> 	Bind adds a new callback to this nodes callback list
<span class='line'>343</span> 	@param  {string} eventType The type bucket to add the callback to
<span class='line'>344</span> 	@param  {object} funcObject The functor (function pointer) that the callback uses
<span class='line'>345</span> 	@param  {object} global Reference to the global namespace (for future compatibility)
<span class='line'>346</span> 	@return {void} Nothing
<span class='line'>347</span> 	*/</span><span class="WHIT">
<span class='line'>348</span> </span><span class="WHIT">    </span><span class="NAME">this.bind</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">funcObject</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">global</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>349</span> </span><span class="WHIT">        </span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>350</span> </span><span class="WHIT">            </span><span class="COMM">// Inform MGL that we are listening for events of type eventType (pruned for duplicates)</span><span class="WHIT">
<span class='line'>351</span> </span><span class="WHIT">            </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.callbacks</span><span class="PUNC">[</span><span class="NAME">eventType</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">length</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>352</span> </span><span class="WHIT">                </span><span class="NAME">this.listen</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>353</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>354</span> 
<span class='line'>355</span> </span><span class="WHIT">            </span><span class="NAME">this.callbacks</span><span class="PUNC">[</span><span class="NAME">eventType</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">push</span><span class="PUNC">(</span><span class="NAME">funcObject</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>356</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">error</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>357</span> </span><span class="WHIT">            </span><span class="COMM">//debugger;</span><span class="WHIT">
<span class='line'>358</span> </span><span class="WHIT">            </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"Unable to bind callback of type "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">eventType</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">".\n -> "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">error</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>359</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>360</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>361</span> 
<span class='line'>362</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>363</span> 	Listen lets the plugin know when it's interest in an event type
<span class='line'>364</span> 	@param  {string} eventType The type of callback we are interested in
<span class='line'>365</span> 	@return {void} Nothing
<span class='line'>366</span> 	*/</span><span class="WHIT">
<span class='line'>367</span> </span><span class="WHIT">    </span><span class="NAME">this.listen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">eventType</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>368</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.listen</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">eventType</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>369</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>370</span> 
<span class='line'>371</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>372</span> 	Trigger is usualy called by the plugin to notify a node that a event has occured
<span class='line'>373</span> 	@param  {void} Nothing
<span class='line'>374</span> 	@return {void} Nothing
<span class='line'>375</span> 	*/</span><span class="WHIT">
<span class='line'>376</span> </span><span class="WHIT">    </span><span class="NAME">this.trigger</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>377</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">args</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Array.prototype.slice.call</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>378</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">event_type</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">args.shift</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>379</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">cb_list</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getCallbacksByType</span><span class="PUNC">(</span><span class="NAME">event_type</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>380</span> 
<span class='line'>381</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">number</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">cb_list.length</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>382</span> </span><span class="WHIT">        </span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">number</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>383</span> </span><span class="WHIT">            </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">cb_list</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"object"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>384</span> </span><span class="WHIT">                </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">cb_obj</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>385</span> </span><span class="WHIT">                </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">cb_func</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>386</span> 
<span class='line'>387</span> </span><span class="WHIT">                </span><span class="COMM">// Tweener events have a special tween_id to keep track of their associated callbacks</span><span class="WHIT">
<span class='line'>388</span> </span><span class="WHIT">                </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">event_type</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"tween_finished"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>389</span> </span><span class="WHIT">                    </span><span class="COMM">// Check if the event's tween_id matches the callback's tween_id</span><span class="WHIT">
<span class='line'>390</span> </span><span class="WHIT">                    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">tween_id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">args.shift</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>391</span> </span><span class="WHIT">                    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">cb_list</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">tween_id</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">tween_id</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>392</span> </span><span class="WHIT">                        </span><span class="COMM">// Only call functions listening for this tween</span><span class="WHIT">
<span class='line'>393</span> </span><span class="WHIT">                        </span><span class="NAME">cb_obj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">cb_list</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">obj</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>394</span> </span><span class="WHIT">                        </span><span class="NAME">cb_func</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">cb_list</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">func</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>395</span> </span><span class="WHIT">                        </span><span class="NAME">cb_obj</span><span class="PUNC">[</span><span class="NAME">cb_func</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">apply</span><span class="PUNC">(</span><span class="NAME">cb_obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">args</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>396</span> 
<span class='line'>397</span> </span><span class="WHIT">                        </span><span class="COMM">// Remove the callback from the callback list</span><span class="WHIT">
<span class='line'>398</span> </span><span class="WHIT">                        </span><span class="NAME">cb_list.splice</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>399</span> 
<span class='line'>400</span> </span><span class="WHIT">                        </span><span class="NAME">i</span><span class="PUNC">--</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>401</span> </span><span class="WHIT">                        </span><span class="NAME">number</span><span class="PUNC">--</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>402</span> </span><span class="WHIT">                    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>403</span> </span><span class="WHIT">                    </span><span class="KEYW">continue</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>404</span> </span><span class="WHIT">                </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>405</span> 
<span class='line'>406</span> </span><span class="WHIT">                </span><span class="COMM">// Physics events have an associated "other" node</span><span class="WHIT">
<span class='line'>407</span> </span><span class="WHIT">                </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">event_type</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"physics_collision"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>408</span> </span><span class="WHIT">                    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">other_node</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">args.shift</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>409</span> </span><span class="WHIT">                    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">cb_list</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">node</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">other_node</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>410</span> </span><span class="WHIT">                        </span><span class="COMM">// Only call functions listening for collisions between these nodes</span><span class="WHIT">
<span class='line'>411</span> </span><span class="WHIT">                        </span><span class="NAME">cb_obj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">cb_list</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">obj</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>412</span> </span><span class="WHIT">                        </span><span class="NAME">cb_func</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">cb_list</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">func</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>413</span> </span><span class="WHIT">                        </span><span class="NAME">cb_obj</span><span class="PUNC">[</span><span class="NAME">cb_func</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">apply</span><span class="PUNC">(</span><span class="NAME">cb_obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">args</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>414</span> </span><span class="WHIT">                    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>415</span> </span><span class="WHIT">                    </span><span class="KEYW">continue</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>416</span> </span><span class="WHIT">                </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>417</span> 
<span class='line'>418</span> </span><span class="WHIT">                </span><span class="COMM">// All other callbacks are executed in the following way</span><span class="WHIT">
<span class='line'>419</span> </span><span class="WHIT">                </span><span class="NAME">cb_obj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">cb_list</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">obj</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>420</span> </span><span class="WHIT">                </span><span class="NAME">cb_func</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">cb_list</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">func</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>421</span> </span><span class="WHIT">                </span><span class="NAME">cb_obj</span><span class="PUNC">[</span><span class="NAME">cb_func</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">apply</span><span class="PUNC">(</span><span class="NAME">cb_obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">args</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>422</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">cb_list</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"function"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>423</span> </span><span class="WHIT">                </span><span class="NAME">cb_list</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">apply</span><span class="PUNC">(</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">args</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>424</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>425</span> </span><span class="WHIT">                </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"Callback function object: "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">cb_list</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">" is invalid at index: "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>426</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>427</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>428</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>429</span> 
<span class='line'>430</span> 
<span class='line'>431</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>432</span> 	Init function sets up the 'preemptive' position callback. This callback is called before impressionist calls Drop callbacks, Animation finished callbacks, drop down changed callbacks, etc. We maintain consistency in the JavaScript through the liberal use of this callback mechanism.
<span class='line'>433</span> 	@param  {void} Nothing
<span class='line'>434</span> 	@return {void} Nothing
<span class='line'>435</span> 	*/</span><span class="WHIT">
<span class='line'>436</span> </span><span class="WHIT">	</span><span class="NAME">this.init</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>437</span> </span><span class="WHIT">        </span><span class="COMM">// Add this node's instance to the node map</span><span class="WHIT">
<span class='line'>438</span> </span><span class="WHIT">        </span><span class="NAME">node_map</span><span class="PUNC">[</span><span class="NAME">this.id</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>439</span> 
<span class='line'>440</span> </span><span class="WHIT">        </span><span class="COMM">// Initialize callback list</span><span class="WHIT">
<span class='line'>441</span> </span><span class="WHIT">        </span><span class="NAME">this.callbacks</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>442</span> </span><span class="WHIT">            </span><span class="COMM">// TODO: Add more callback types!</span><span class="WHIT">
<span class='line'>443</span> </span><span class="WHIT">            </span><span class="STRN">"mouse_down"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>444</span> </span><span class="WHIT">            </span><span class="STRN">"mouse_up"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>445</span> </span><span class="WHIT">            </span><span class="STRN">"mouse_over"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>446</span> </span><span class="WHIT">            </span><span class="STRN">"mouse_moved"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>447</span> </span><span class="WHIT">            </span><span class="STRN">"mouse_out"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>448</span> </span><span class="WHIT">            </span><span class="STRN">"mouse_drag"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>449</span> </span><span class="WHIT">            </span><span class="STRN">"mouse_drag_start"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>450</span> </span><span class="WHIT">            </span><span class="STRN">"mouse_drag_enter"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>451</span> </span><span class="WHIT">            </span><span class="STRN">"mouse_drag_exit"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>452</span> </span><span class="WHIT">            </span><span class="STRN">"mouse_drop"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>453</span> </span><span class="WHIT">            </span><span class="STRN">"position_changed"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>454</span> </span><span class="WHIT">            </span><span class="STRN">"text_changed"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>455</span> </span><span class="WHIT">            </span><span class="STRN">"tween_finished"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>456</span> </span><span class="WHIT">            </span><span class="STRN">"enter_pressed"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>457</span> </span><span class="WHIT">            </span><span class="STRN">"focus_changed"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>458</span> </span><span class="WHIT">            </span><span class="STRN">"drop_down_changed"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>459</span> </span><span class="WHIT">            </span><span class="STRN">"preload_update"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>460</span> </span><span class="WHIT">            </span><span class="STRN">"preload_complete"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>461</span> </span><span class="WHIT">            </span><span class="STRN">"physics_collision"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="WHIT">
<span class='line'>462</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>463</span> 
<span class='line'>464</span> </span><span class="WHIT">        </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"position_changed"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"updateCallback"</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>465</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>466</span> 
<span class='line'>467</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>468</span> 	getID is an accessor function returns the node ID plugin number of this node
<span class='line'>469</span> 	@param  {void} Nothing
<span class='line'>470</span> 	@return {string} The id number of this node
<span class='line'>471</span> 	*/</span><span class="WHIT">
<span class='line'>472</span> </span><span class="WHIT">    </span><span class="NAME">this.getId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.id</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>473</span> 
<span class='line'>474</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>475</span> 	Sets the x and y position of this node
<span class='line'>476</span> 	@param  {number} x The new x position of this node
<span class='line'>477</span> 	@param  {number} y The new y position of this node
<span class='line'>478</span> 	@return {void} Nothing
<span class='line'>479</span> 	*/</span><span class="WHIT">
<span class='line'>480</span> </span><span class="WHIT">    </span><span class="NAME">this.setPosition</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>481</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"number"</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"number"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>482</span> </span><span class="WHIT">            </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"Invalid coordinates supplied for "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>483</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>484</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>485</span> 
<span class='line'>486</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.checkId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>487</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>488</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>489</span> 
<span class='line'>490</span> </span><span class="WHIT">        </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>491</span> </span><span class="WHIT">        </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>492</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.positionIs</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>493</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>494</span> 
<span class='line'>495</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>496</span> 	Sets the width and height dimensions of this node
<span class='line'>497</span> 	@param  {number} width The new width dimension of this node
<span class='line'>498</span> 	@param  {number} height The new height dimension of this node
<span class='line'>499</span> 	@return {void} Nothing
<span class='line'>500</span> 	*/</span><span class="WHIT">
<span class='line'>501</span> </span><span class="WHIT">    </span><span class="NAME">this.setDimensions</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>502</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">width</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"number"</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">height</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"number"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>503</span> </span><span class="WHIT">            </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"Invalid height or width supplied for "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>504</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>505</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>506</span> 
<span class='line'>507</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.checkId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>508</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>509</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>510</span> 
<span class='line'>511</span> </span><span class="WHIT">        </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>512</span> </span><span class="WHIT">        </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>513</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.positionIs</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>514</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>515</span> 
<span class='line'>516</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>517</span> 	Sets the scale of this node with 1.0 being 1:1 ratio
<span class='line'>518</span> 	@param  {number} scale The new scale of this node
<span class='line'>519</span> 	@param  {number} centerX The new x position center point of the node
<span class='line'>520</span> 	@param  {number} centerY The new y position center point of the node
<span class='line'>521</span> 	@return {void} Nothing
<span class='line'>522</span> 	*/</span><span class="WHIT">
<span class='line'>523</span> </span><span class="WHIT">    </span><span class="NAME">this.setScale</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">scale</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">centerX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">centerY</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>524</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.checkId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>525</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>526</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>527</span> 
<span class='line'>528</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">scale</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">'undefined'</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>529</span> </span><span class="WHIT">            </span><span class="NAME">this.scale</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">scale</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>530</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>531</span> 
<span class='line'>532</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">centerX</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">'undefined'</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>533</span> </span><span class="WHIT">            </span><span class="NAME">this.centerX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">centerX</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>534</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>535</span> 
<span class='line'>536</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">centerY</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">'undefined'</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>537</span> </span><span class="WHIT">            </span><span class="NAME">this.centerY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">centerY</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>538</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>539</span> 
<span class='line'>540</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.orientationIs</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.scale</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.rotation</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.centerX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.centerY</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>541</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>542</span> 
<span class='line'>543</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>544</span> 	Sets the rotation of this node in degrees
<span class='line'>545</span> 	@param  {number} rotation The new rotation of this node
<span class='line'>546</span> 	@param  {number} centerX The new x position center point of the node
<span class='line'>547</span> 	@param  {number} centerY The new y position center point of the node
<span class='line'>548</span> 	@return {void} Nothing
<span class='line'>549</span> 	*/</span><span class="WHIT">
<span class='line'>550</span> </span><span class="WHIT">	</span><span class="NAME">this.setRotation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">rotation</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">centerX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">centerY</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>551</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.checkId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>552</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>553</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>554</span> 
<span class='line'>555</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">rotation</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">'undefined'</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>556</span> </span><span class="WHIT">            </span><span class="NAME">this.rotation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rotation</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>557</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>558</span> 
<span class='line'>559</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">centerX</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">'undefined'</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>560</span> </span><span class="WHIT">            </span><span class="NAME">this.centerX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">centerX</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>561</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>562</span> 
<span class='line'>563</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">centerY</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">'undefined'</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>564</span> </span><span class="WHIT">            </span><span class="NAME">this.centerY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">centerY</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>565</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>566</span> 
<span class='line'>567</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.orientationIs</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.scale</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.rotation</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.centerX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.centerY</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>568</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>569</span> 
<span class='line'>570</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>571</span> 	Sets the color of this node in openGL color format
<span class='line'>572</span> 	@param  {number} r The new amount of red in the node (range 0 to 1)
<span class='line'>573</span> 	@param  {number} g The new amount of green in the node (range 0 to 1)
<span class='line'>574</span> 	@param  {number} b The new amount of blue in the node (range 0 to 1)
<span class='line'>575</span> 	@param  {number} a The new amount of alpha in the node (range 0 to 1)
<span class='line'>576</span> 	@return {void} Nothing
<span class='line'>577</span> 	*/</span><span class="WHIT">
<span class='line'>578</span> </span><span class="WHIT">    </span><span class="NAME">this.setColor</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">r</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">b</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">a</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>579</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">r</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"number"</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">g</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"number"</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">b</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"number"</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">a</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"number"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>580</span> </span><span class="WHIT">            </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"Invalid RGBA values provided"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>581</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>582</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>583</span> 
<span class='line'>584</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.checkId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>585</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>586</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>587</span> 
<span class='line'>588</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.colorIs</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">r</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">b</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>589</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>590</span> 
<span class='line'>591</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>592</span> 	Toggle the visibility of this node from off to on and on to off
<span class='line'>593</span> 	@param  {void} Nothing
<span class='line'>594</span> 	@return {void} Nothing
<span class='line'>595</span> 	*/</span><span class="WHIT">
<span class='line'>596</span> </span><span class="WHIT">    </span><span class="NAME">this.toggleVisibility</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>597</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.toggleVisibility</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>598</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>599</span> 
<span class='line'>600</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>601</span> 	Set the visibility of this node to pass in boolean
<span class='line'>602</span> 	@param  {boolean} visibility Set true to show node and false to hide node
<span class='line'>603</span> 	@return {void} Nothing
<span class='line'>604</span> 	*/</span><span class="WHIT">
<span class='line'>605</span> </span><span class="WHIT">    </span><span class="NAME">this.setVisibility</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">visibility</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>606</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setVisibility</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">visibility</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>607</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>608</span> 
<span class='line'>609</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>610</span> 	Add a child to a layer in the display list
<span class='line'>611</span> 	@param  {object} child The node to be added to this layer
<span class='line'>612</span> 	@return {void} Nothing
<span class='line'>613</span> 	*/</span><span class="WHIT">
<span class='line'>614</span> </span><span class="WHIT">    </span><span class="NAME">this.addChild</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">child</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>615</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">child</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>616</span> </span><span class="WHIT">            </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"trying to add undefined child"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>617</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>618</span> 
<span class='line'>619</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">this</span><span class="WHIT"> </span><span class="KEYW">instanceof</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>620</span> </span><span class="WHIT">            </span><span class="COMM">// error</span><span class="WHIT">
<span class='line'>621</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>622</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>623</span> 
<span class='line'>624</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">child</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">this.id</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">child.id</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">this.id</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>625</span> </span><span class="WHIT">            </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"Error in addChild. Node "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.id</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">" cannot be a child of itself!"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>626</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>627</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>628</span> 
<span class='line'>629</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">child</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>630</span> </span><span class="WHIT">            </span><span class="NAME">this.plugin.addChild</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">child</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>631</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>632</span> </span><span class="WHIT">            </span><span class="NAME">this.plugin.addChild</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">child.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>633</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>634</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>635</span> 
<span class='line'>636</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>637</span> 	Remove a child from a layer in the display list
<span class='line'>638</span> 	@param  {object} child The node to be removed from this layer
<span class='line'>639</span> 	@return {void} Nothing
<span class='line'>640</span> 	*/</span><span class="WHIT">
<span class='line'>641</span> </span><span class="WHIT">    </span><span class="NAME">this.removeChild</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">child</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>642</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">this</span><span class="WHIT"> </span><span class="KEYW">instanceof</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>643</span> </span><span class="WHIT">            </span><span class="COMM">// TODO: error</span><span class="WHIT">
<span class='line'>644</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>645</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>646</span> 
<span class='line'>647</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">child</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>648</span> </span><span class="WHIT">            </span><span class="NAME">this.plugin.removeChild</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">child</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>649</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>650</span> </span><span class="WHIT">            </span><span class="NAME">this.plugin.removeChild</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">child.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>651</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>652</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>653</span> 
<span class='line'>654</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>655</span> 	Move a node from one location to another over a specfied amount of time
<span class='line'>656</span> 	@param  {number} x The new absolute x position for the node to move to
<span class='line'>657</span> 	@param  {number} y The new absolute y position for the node to move to
<span class='line'>658</span> 	@param  {number} duration The amount of time in seconds it will take to move the node
<span class='line'>659</span> 	@return {void} Nothing
<span class='line'>660</span> 	@deprecated Use the addTween command instead
<span class='line'>661</span> 	*/</span><span class="WHIT">
<span class='line'>662</span> </span><span class="WHIT">    </span><span class="NAME">this.addMoveTo</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">duration</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>663</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.addTween</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"x:"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">",y:"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">",time:"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">duration</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>664</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>665</span> 
<span class='line'>666</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>667</span> 	Move a node from one location to another over a specfied amount of time
<span class='line'>668</span> 	@param  {number} x The new realitive x position for the node to move by
<span class='line'>669</span> 	@param  {number} y The new realitive y position for the node to move by
<span class='line'>670</span> 	@param  {number} duration The amount of time in seconds it will take to move the node
<span class='line'>671</span> 	@return {void} Nothing
<span class='line'>672</span> 	@deprecated Use the addTween command instead
<span class='line'>673</span> 	*/</span><span class="WHIT">
<span class='line'>674</span> </span><span class="WHIT">	</span><span class="NAME">this.addMoveBy</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">duration</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>675</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">rel_x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>676</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">rel_y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>677</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.addTween</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"x:"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">rel_x</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">",y:"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">rel_y</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">",time:"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">duration</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>678</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>679</span> 
<span class='line'>680</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>681</span> 	Rotate a node from one angle to another over a specfied amount of time
<span class='line'>682</span> 	@param  {number} angle The new absolute angle for the node to rotate to
<span class='line'>683</span> 	@param  {number} duration The amount of time in seconds it will take to rotate the node
<span class='line'>684</span> 	@return {void} Nothing
<span class='line'>685</span> 	@deprecated Use the addTween command instead
<span class='line'>686</span> 	*/</span><span class="WHIT">
<span class='line'>687</span> </span><span class="WHIT">    </span><span class="NAME">this.addRotateTo</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">angle</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">duration</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>688</span> 
<span class='line'>689</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>690</span> 	Rotate a node from one angle to another over a specfied amount of time
<span class='line'>691</span> 	@param  {number} angle The new realitive angle for the node to rotate by
<span class='line'>692</span> 	@param  {number} duration The amount of time in seconds it will take to rotate the node
<span class='line'>693</span> 	@return {void} Nothing
<span class='line'>694</span> 	@deprecated Use the addTween command instead
<span class='line'>695</span> 	*/</span><span class="WHIT">
<span class='line'>696</span> </span><span class="WHIT">    </span><span class="NAME">this.addRotateBy</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">angle</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">duration</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>697</span> 
<span class='line'>698</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>699</span> 	Scale a node from one ratio to another over a specfied amount of time
<span class='line'>700</span> 	@param  {number} scale The new absolute scale for the node to scale to
<span class='line'>701</span> 	@param  {number} duration The amount of time in seconds it will take to scale the node
<span class='line'>702</span> 	@return {void} Nothing
<span class='line'>703</span> 	@deprecated Use the addTween command instead
<span class='line'>704</span> 	*/</span><span class="WHIT">
<span class='line'>705</span> </span><span class="WHIT">    </span><span class="NAME">this.addScaleTo</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">scale</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">duration</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>706</span> 
<span class='line'>707</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>708</span> 	Scale a node from one ratio to another over a specfied amount of time
<span class='line'>709</span> 	@param  {number} scale The new realitive scale for the node to scale by
<span class='line'>710</span> 	@param  {number} duration The amount of time in seconds it will take to scale the node
<span class='line'>711</span> 	@return {void} Nothing
<span class='line'>712</span> 	@deprecated Use the addTween command instead
<span class='line'>713</span> 	*/</span><span class="WHIT">
<span class='line'>714</span> </span><span class="WHIT">    </span><span class="NAME">this.addScaleBy</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">scale</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">duration</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>715</span> 
<span class='line'>716</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>717</span> 	Add a tween command to the node to change it's members over time.
<span class='line'>718</span> 	@param  {string} command The command to send to the plugin
<span class='line'>719</span> 	@param  {object} obj (optional) The object for JavaScript to call the callback on
<span class='line'>720</span> 	@param  {string} callback (optional) The name of the function to call when a callback occurs
<span class='line'>721</span> 	@return {void} Nothing
<span class='line'>722</span> 	*/</span><span class="WHIT">
<span class='line'>723</span> </span><span class="WHIT">    </span><span class="NAME">this.addTween</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">command</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>724</span> </span><span class="WHIT">   		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">'undefined'</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">'undefined'</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>725</span> </span><span class="WHIT">            </span><span class="NAME">this.plugin.addTween</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">command</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>726</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>727</span> </span><span class="WHIT">			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">tween_id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.plugin.addTween</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">command</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>728</span> </span><span class="WHIT">            </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"tween_finished"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"tween_id"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">tween_id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>729</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>730</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>731</span> 
<span class='line'>732</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>733</span> 	Remove all the tweens for this node.  Any animations in mid action will stop.
<span class='line'>734</span> 	@param  {void} Nothing
<span class='line'>735</span> 	@return {void} Nothing
<span class='line'>736</span> 	*/</span><span class="WHIT">
<span class='line'>737</span> </span><span class="WHIT">   	</span><span class="NAME">this.removeTween</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>738</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.removeTween</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>739</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>740</span> 
<span class='line'>741</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>742</span> 	Pause all the tweens for this node.
<span class='line'>743</span> 	@param  {void} Nothing
<span class='line'>744</span> 	@return {void} Nothing
<span class='line'>745</span> 	*/</span><span class="WHIT">
<span class='line'>746</span> </span><span class="WHIT">	</span><span class="NAME">this.pauseTween</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>747</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.pauseTween</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>748</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>749</span> 
<span class='line'>750</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>751</span> 	Resume all the tweens for this node.
<span class='line'>752</span> 	@param  {void} Nothing
<span class='line'>753</span> 	@return {void} Nothing
<span class='line'>754</span> 	*/</span><span class="WHIT">
<span class='line'>755</span> </span><span class="WHIT">   	</span><span class="NAME">this.resumeTween</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>756</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.resumeTween</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>757</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>758</span> 
<span class='line'>759</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>760</span> 	Add physics properties to this node
<span class='line'>761</span> 	@param  {string} command The command to send to the plugin
<span class='line'>762</span> 	@return {void} Nothing
<span class='line'>763</span> 	*/</span><span class="WHIT">
<span class='line'>764</span> </span><span class="WHIT">   	</span><span class="NAME">this.addPhysics</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">command</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>765</span> </span><span class="WHIT">    		</span><span class="NAME">this.plugin.addPhysics</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">command</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>766</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>767</span> 
<span class='line'>768</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>769</span> 	Add a joint constraint between this node and the passed child node
<span class='line'>770</span> 	@param  {object} child The child node to constrain with this node
<span class='line'>771</span> 	@param  {string} command The command to send to the plugin
<span class='line'>772</span> 	@return {void} Nothing
<span class='line'>773</span> 	*/</span><span class="WHIT">
<span class='line'>774</span> </span><span class="WHIT">	</span><span class="NAME">this.addJoint</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">child</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">command</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>775</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">child</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"NULL"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>776</span> </span><span class="WHIT">   			</span><span class="NAME">this.plugin.addJoint</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">child</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">command</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>777</span> </span><span class="WHIT">   		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>778</span> </span><span class="WHIT">   			</span><span class="NAME">this.plugin.addJoint</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">child.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">command</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>779</span> </span><span class="WHIT">   		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>780</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>781</span> 
<span class='line'>782</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>783</span> 	Add a callback to be trigger when two nodes collide
<span class='line'>784</span> 	@param  {object} nodeB The node to trigger a callback when it collides with this node
<span class='line'>785</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>786</span> 	@param  {string} callback The name of the function to call when a callback occurs
<span class='line'>787</span> 	@return {void} Nothing
<span class='line'>788</span> 	*/</span><span class="WHIT">
<span class='line'>789</span> </span><span class="WHIT">   	</span><span class="NAME">this.addCollision</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">nodeB</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">object</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>790</span> </span><span class="WHIT">        </span><span class="COMM">// Bind this callback</span><span class="WHIT">
<span class='line'>791</span> </span><span class="WHIT">        </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"physics_collision"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"node"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">nodeB.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">object</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>792</span> </span><span class="WHIT">        </span><span class="COMM">// Listen for physics collision events</span><span class="WHIT">
<span class='line'>793</span> </span><span class="WHIT">        </span><span class="NAME">this.listen</span><span class="PUNC">(</span><span class="STRN">"physics_collision"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>794</span> </span><span class="WHIT">        </span><span class="COMM">// Let the physics engine know that we are interested in these events</span><span class="WHIT">
<span class='line'>795</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.addCollision</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">nodeB.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>796</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>797</span> 
<span class='line'>798</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>799</span> 	Applies a force and velocity to this node
<span class='line'>800</span> 	@param  {number} fX The new x-axis force to be applied to this node
<span class='line'>801</span> 	@param  {number} fY The new y-axis force to be applied to this node
<span class='line'>802</span> 	@param  {number} vX The new x-axis velocity to be applied to this node
<span class='line'>803</span> 	@param  {number} vY The new y-axis velocity to be applied to this node
<span class='line'>804</span> 	@return {void} Nothing
<span class='line'>805</span> 	*/</span><span class="WHIT">
<span class='line'>806</span> </span><span class="WHIT">   	</span><span class="NAME">this.applyForce</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">fX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">fY</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">vX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">vY</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>807</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.applyForce</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">fX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">fY</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">vX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">vY</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>808</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>809</span> 
<span class='line'>810</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>811</span> 	Remove all physics properities from this node
<span class='line'>812</span> 	@param  {void} Nothing
<span class='line'>813</span> 	@return {void} Nothing
<span class='line'>814</span> 	*/</span><span class="WHIT">
<span class='line'>815</span> </span><span class="WHIT">   	</span><span class="NAME">this.removePhysics</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>816</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.removePhysics</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>817</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>818</span> 
<span class='line'>819</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>820</span> 	Remove the joint constraint between this node and the child node
<span class='line'>821</span> 	@param  {object} child The node to remove the joint from
<span class='line'>822</span> 	@return {void} Nothing
<span class='line'>823</span> 	*/</span><span class="WHIT">
<span class='line'>824</span> </span><span class="WHIT">   	</span><span class="NAME">this.removeJoint</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">child</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>825</span> </span><span class="WHIT">   		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">child</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"NULL"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>826</span> </span><span class="WHIT">   			</span><span class="NAME">this.plugin.removeJoint</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">child</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">command</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>827</span> </span><span class="WHIT">   		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>828</span> </span><span class="WHIT">   			</span><span class="NAME">this.plugin.removeJoint</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">child.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">command</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>829</span> </span><span class="WHIT">   		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>830</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>831</span> 
<span class='line'>832</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>833</span> 	Remove the collision between this node and nodeB
<span class='line'>834</span> 	@param  {object} nodeB The node to remove collision callback from
<span class='line'>835</span> 	@return {void} Nothing
<span class='line'>836</span> 	*/</span><span class="WHIT">
<span class='line'>837</span> </span><span class="WHIT">   	</span><span class="NAME">this.removeCollision</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">nodeB</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>838</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.removeCollision</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">nodeB.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>839</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>840</span> 
<span class='line'>841</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>842</span> 	Used to get the current position of a node from the plugin
<span class='line'>843</span> 	@param  {void} Nothing
<span class='line'>844</span> 	@return {void} Nothing
<span class='line'>845</span> 	@deprecated Plugin automatically updates JavaScript of position changes in the node
<span class='line'>846</span> 	*/</span><span class="WHIT">
<span class='line'>847</span> </span><span class="WHIT">    </span><span class="NAME">this.getPosition</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>848</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.plugin.getPosition</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>849</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>850</span> 
<span class='line'>851</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>852</span> 	Used to update the current position of a node from the plugin
<span class='line'>853</span> 	@param  {void} Nothing
<span class='line'>854</span> 	@return {void} Nothing
<span class='line'>855</span> 	@deprecated Plugin automatically updates JavaScript of position changes in the node
<span class='line'>856</span> 	*/</span><span class="WHIT">
<span class='line'>857</span> </span><span class="WHIT">    </span><span class="NAME">this.update</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>858</span> 
<span class='line'>859</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>860</span> 	Checks if this object has an ID meaning it's a legit node
<span class='line'>861</span> 	@param  {void} Nothing
<span class='line'>862</span> 	@return {boolean} True if a valid object and false otherwise
<span class='line'>863</span> 	*/</span><span class="WHIT">
<span class='line'>864</span> </span><span class="WHIT">    </span><span class="NAME">this.checkId</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>865</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>866</span> </span><span class="WHIT">            </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"Method called on uninitialized object: "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>867</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>868</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>869</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>870</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>871</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>872</span> 
<span class='line'>873</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>874</span> 	Add a callback to be triggered whenever this node has started being dragged.
<span class='line'>875</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>876</span> 	@param  {string} callback The name of the function to call when a callback occurs
<span class='line'>877</span> 	@return {void} Nothing
<span class='line'>878</span> 	*/</span><span class="WHIT">
<span class='line'>879</span> </span><span class="WHIT">    </span><span class="NAME">this.addDragStartCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>880</span> </span><span class="WHIT">        </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"mouse_drag_start"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>881</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>882</span> 
<span class='line'>883</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>884</span> 	Add a callback to be triggered each time the mouse drags this node to a new location. Warning: Called often so will cause poor preformence on a mobile device if used heavily.
<span class='line'>885</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>886</span> 	@param  {string} callback The name of the function to call when a callback occurs
<span class='line'>887</span> 	@return {void} Nothing
<span class='line'>888</span> 	*/</span><span class="WHIT">
<span class='line'>889</span> </span><span class="WHIT">    </span><span class="NAME">this.addDragCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>890</span> </span><span class="WHIT">        </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"mouse_drag"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>891</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>892</span> 
<span class='line'>893</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>894</span> 	Add a callback to be triggered whenever this node has finished being dragged.
<span class='line'>895</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>896</span> 	@param  {string} callback The name of the function to call when a callback occurs
<span class='line'>897</span> 	@return {void} Nothing
<span class='line'>898</span> 	*/</span><span class="WHIT">
<span class='line'>899</span> </span><span class="WHIT">    </span><span class="NAME">this.addDropCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>900</span> </span><span class="WHIT">        </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"mouse_drop"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>901</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>902</span> 
<span class='line'>903</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>904</span> 	Add a callback to be triggered whenever this node has another node dragged over it.
<span class='line'>905</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>906</span> 	@param  {string} callback The name of the function to call when a callback occurs
<span class='line'>907</span> 	@return {void} Nothing
<span class='line'>908</span> 	*/</span><span class="WHIT">
<span class='line'>909</span> </span><span class="WHIT">    </span><span class="NAME">this.addDragEnterCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>910</span> </span><span class="WHIT">        </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"mouse_drag_enter"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>911</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>912</span> 
<span class='line'>913</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>914</span> 	Add a callback to be triggered whenever this node has another node dragged out of it.
<span class='line'>915</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>916</span> 	@param  {string} callback The name of the function to call when a callback occurs
<span class='line'>917</span> 	@return {void} Nothing
<span class='line'>918</span> 	*/</span><span class="WHIT">
<span class='line'>919</span> </span><span class="WHIT">    </span><span class="NAME">this.addDragExitCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>920</span> </span><span class="WHIT">        </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"mouse_drag_exit"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>921</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>922</span> 
<span class='line'>923</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>924</span> 	Enables this node to be draggable
<span class='line'>925</span> 	@param  {boolean} draggable If true then this node is draggable and not if false.
<span class='line'>926</span> 	@return {void} Nothing
<span class='line'>927</span> 	*/</span><span class="WHIT">
<span class='line'>928</span> </span><span class="WHIT">    </span><span class="NAME">this.setDraggable</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">draggable</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>929</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setDraggable</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">draggable</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>930</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>931</span> 
<span class='line'>932</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>933</span> 	Sets a drop target for this node
<span class='line'>934</span> 	@param  {object} dropTarget The node which will trigger drop target events.
<span class='line'>935</span> 	@return {void} Nothing
<span class='line'>936</span> 	*/</span><span class="WHIT">
<span class='line'>937</span> </span><span class="WHIT">    </span><span class="NAME">this.setDropTarget</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">dropTarget</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>938</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setDropTarget</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">dropTarget</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>939</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>940</span> 
<span class='line'>941</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>942</span> 	Notifies the plugin that this node wants to recieve events.
<span class='line'>943</span> 	@param  {void} Nothing
<span class='line'>944</span> 	@return {void} Nothing
<span class='line'>945</span> 	*/</span><span class="WHIT">
<span class='line'>946</span> </span><span class="WHIT">    </span><span class="NAME">this.subscribe</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>947</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.boolSubscribed</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.plugin.subscribe</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>948</span> </span><span class="WHIT">        </span><span class="NAME">this.boolSubscribed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>949</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>950</span> 
<span class='line'>951</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>952</span> 	Notifies the plugin that this node does not want to recieve events.
<span class='line'>953</span> 	@param  {void} Nothing
<span class='line'>954</span> 	@return {void} Nothing
<span class='line'>955</span> 	*/</span><span class="WHIT">
<span class='line'>956</span> </span><span class="WHIT">    </span><span class="NAME">this.unsubscribe</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>957</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.boolSubscribed</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.plugin.unsubscribe</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>958</span> </span><span class="WHIT">        </span><span class="NAME">this.boolSubscribed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>959</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>960</span> 
<span class='line'>961</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>962</span> 	Add a callback to be triggered whenever this node has the mouse move over it. Warning: Called often so will cause poor preformence on a mobile device if used heavily.
<span class='line'>963</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>964</span> 	@param  {string} func The name of the function to call when a callback occurs
<span class='line'>965</span> 	@return {void} Nothing
<span class='line'>966</span> 	*/</span><span class="WHIT">
<span class='line'>967</span> </span><span class="WHIT">    </span><span class="NAME">this.moveCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">func</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>968</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"object"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>969</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>970</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>971</span> </span><span class="WHIT">        </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"mouse_moved"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">func</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>972</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>973</span> 
<span class='line'>974</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>975</span> 	Add a callback to be triggered whenever this node has the mouse click down on it.
<span class='line'>976</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>977</span> 	@param  {string} func The name of the function to call when a callback occurs
<span class='line'>978</span> 	@return {void} Nothing
<span class='line'>979</span> 	*/</span><span class="WHIT">
<span class='line'>980</span> </span><span class="WHIT">    </span><span class="NAME">this.downCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">func</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>981</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"object"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>982</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>983</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>984</span> </span><span class="WHIT">        </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"mouse_down"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">func</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>985</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>986</span> 
<span class='line'>987</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>988</span> 	Add a callback to be triggered whenever this node has the mouse move over it. This function is a one shot call.
<span class='line'>989</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>990</span> 	@param  {string} func The name of the function to call when a callback occurs
<span class='line'>991</span> 	@return {void} Nothing
<span class='line'>992</span> 	*/</span><span class="WHIT">
<span class='line'>993</span> </span><span class="WHIT">    </span><span class="NAME">this.overCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">func</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>994</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"object"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>995</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>996</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>997</span> </span><span class="WHIT">        </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"mouse_over"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">func</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>998</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>999</span> 
<span class='line'>1000</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1001</span> 	Add a callback to be triggered whenever this node has the mouse move out of it. This function is a one shot call.
<span class='line'>1002</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>1003</span> 	@param  {string} func The name of the function to call when a callback occurs
<span class='line'>1004</span> 	@return {void} Nothing
<span class='line'>1005</span> 	*/</span><span class="WHIT">
<span class='line'>1006</span> </span><span class="WHIT">    </span><span class="NAME">this.outCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">func</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1007</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"object"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1008</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1009</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1010</span> </span><span class="WHIT">        </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"mouse_out"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">func</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1011</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1012</span> 
<span class='line'>1013</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>1014</span> 	Add a callback to be triggered whenever this node has the mouse release the mouse button over it.
<span class='line'>1015</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>1016</span> 	@param  {string} func The name of the function to call when a callback occurs
<span class='line'>1017</span> 	@return {void} Nothing
<span class='line'>1018</span> 	*/</span><span class="WHIT">
<span class='line'>1019</span> </span><span class="WHIT">    </span><span class="NAME">this.upCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">func</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1020</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"object"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1021</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1022</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1023</span> </span><span class="WHIT">        </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"mouse_up"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">func</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1024</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1025</span> 
<span class='line'>1026</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1027</span> 	Add a callback to be triggered whenever this node has the mouse click and release the mouse button over it.
<span class='line'>1028</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>1029</span> 	@param  {string} func The name of the function to call when a callback occurs
<span class='line'>1030</span> 	@return {void} Nothing
<span class='line'>1031</span> 	*/</span><span class="WHIT">
<span class='line'>1032</span> </span><span class="WHIT">    </span><span class="NAME">this.clickCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">func</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1033</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"object"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1034</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1035</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1036</span> </span><span class="WHIT">        </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"mouse_up"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">func</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1037</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1038</span> 
<span class='line'>1039</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1040</span> 	Set the drag region of this node
<span class='line'>1041</span> 	@param  {number} x The x positon of the drag region
<span class='line'>1042</span> 	@param  {number} y The y positon of the drag region
<span class='line'>1043</span> 	@param  {number} width The width of the drag region
<span class='line'>1044</span> 	@param  {number} height The height of the drag region
<span class='line'>1045</span> 	@return {void} Nothing
<span class='line'>1046</span> 	*/</span><span class="WHIT">
<span class='line'>1047</span> </span><span class="WHIT">    </span><span class="NAME">this.setDragRegion</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1048</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setDragRegion</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1049</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1050</span> 
<span class='line'>1051</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>1052</span> 	Enables this node to be draggable
<span class='line'>1053</span> 	@param  {mouser} passMouse The object for the mouse position if javascript
<span class='line'>1054</span> 	@param  {boolean} passCenter If true then position the node so the mouse is always in the center
<span class='line'>1055</span> 	@param  {rectangle} passRect Set the drag region for the node
<span class='line'>1056</span> 	@param  {boolean} passGhost If true the display the dragged sprite as semi-transparent sprite while being dragged
<span class='line'>1057</span> 	@return {void} Nothing
<span class='line'>1058</span> 	@deprecated Use setDraggable and setDragRegion instead
<span class='line'>1059</span> 	*/</span><span class="WHIT">
<span class='line'>1060</span> </span><span class="WHIT">	</span><span class="NAME">this.setDrag</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">passMouse</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">passCenter</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">passRect</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">passGhost</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1061</span> 
<span class='line'>1062</span> </span><span class="WHIT">		</span><span class="COMM">// Optional parameter for centering the sprite on the mouse</span><span class="WHIT">
<span class='line'>1063</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">passMouse</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"undefined"</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">passMouse</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1064</span> 
<span class='line'>1065</span> </span><span class="WHIT">		</span><span class="COMM">// Optional parameter for centering the sprite on the mouse</span><span class="WHIT">
<span class='line'>1066</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">passCenter</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"undefined"</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">passCenter</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1067</span> 
<span class='line'>1068</span> </span><span class="WHIT">		</span><span class="COMM">// Optional parameter for keeping the sprite inside the rectangle</span><span class="WHIT">
<span class='line'>1069</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">passRect</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"undefined"</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">passRect</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Rectangle</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">480</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">320</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1070</span> 
<span class='line'>1071</span> </span><span class="WHIT">		</span><span class="COMM">// Optional parameter for making a ghost of the image before dragging it.</span><span class="WHIT">
<span class='line'>1072</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">passGhost</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"undefined"</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">passGhost</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1073</span> 
<span class='line'>1074</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.boolCallbacks</span><span class="PUNC">)</span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1075</span> </span><span class="WHIT">			</span><span class="NAME">this.setDraggable</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1076</span> </span><span class="WHIT">            </span><span class="NAME">this.setDragRegion</span><span class="PUNC">(</span><span class="NAME">passRect.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">passRect.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">passRect.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">passRect.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1077</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1078</span> </span><span class="WHIT">		</span><span class="NAME">this.boolCallbacks</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1079</span> </span><span class="WHIT">        </span><span class="NAME">this.subscribe</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1080</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1081</span> 
<span class='line'>1082</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1083</span> 	Stop this node from being draggable
<span class='line'>1084</span> 	@param  {void} Nothing
<span class='line'>1085</span> 	@return {void} Nothing
<span class='line'>1086</span> 	*/</span><span class="WHIT">
<span class='line'>1087</span> </span><span class="WHIT">	</span><span class="NAME">this.clearDrag</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1088</span> </span><span class="WHIT">		</span><span class="NAME">this.unsubscribe</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1089</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1090</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1091</span> 
<span class='line'>1092</span> </span><span class="COMM">/**
<span class='line'>1093</span> The abstract layer in between the Osmosis and Sprites
<span class='line'>1094</span> @class BaseSprite
<span class='line'>1095</span> @augments Osmosis
<span class='line'>1096</span> @param  {object} plugin The monocleGL plugin object
<span class='line'>1097</span> @param  {string} url The URL location of the image resource to download
<span class='line'>1098</span> @param  {number} x The x position of the sprite
<span class='line'>1099</span> @param  {number} y The y position of the sprite
<span class='line'>1100</span> @param  {number} width The width of the sprite
<span class='line'>1101</span> @param  {number} height The height of the sprite
<span class='line'>1102</span> @return {void} Nothing
<span class='line'>1103</span> */</span><span class="WHIT">
<span class='line'>1104</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">BaseSprite</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">url</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1105</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1106</span> 	Set the shape of the sprite to be either circle or square
<span class='line'>1107</span> 	@param  {string} shape Use "square" for a rectanglar sprite and "circle" for a circlar sprite
<span class='line'>1108</span> 	@return {void} Nothing
<span class='line'>1109</span> 	@deprecated Not used anymore
<span class='line'>1110</span> 	*/</span><span class="WHIT">
<span class='line'>1111</span> </span><span class="WHIT">    </span><span class="NAME">this.setShape</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">shape</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1112</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">shape</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1113</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1114</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1115</span> 
<span class='line'>1116</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.checkId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1117</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1118</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1119</span> 
<span class='line'>1120</span> </span><span class="WHIT">        </span><span class="COMM">// TODO: Check if shape parameter is a _valid_ string ("circle" or "square")</span><span class="WHIT">
<span class='line'>1121</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.shape</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">shape</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1122</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1123</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1124</span> 
<span class='line'>1125</span> </span><span class="COMM">/**
<span class='line'>1126</span> The class for sprite nodes
<span class='line'>1127</span> @class Sprite
<span class='line'>1128</span> @augments BaseSprite
<span class='line'>1129</span> @param  {object} plugin The monocleGL plugin object
<span class='line'>1130</span> @param  {string} url The URL location of the image resource to download
<span class='line'>1131</span> @param  {number} x The x position of the sprite
<span class='line'>1132</span> @param  {number} y The y position of the sprite
<span class='line'>1133</span> @param  {number} width The width of the sprite
<span class='line'>1134</span> @param  {number} height The height of the sprite
<span class='line'>1135</span> @return {void} Nothing
<span class='line'>1136</span> */</span><span class="WHIT">
<span class='line'>1137</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">url</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1138</span> </span><span class="WHIT">    </span><span class="COMM">// Initialize everything</span><span class="WHIT">
<span class='line'>1139</span> </span><span class="WHIT">	</span><span class="NAME">this.plugin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1140</span> </span><span class="WHIT">	</span><span class="NAME">this.url</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">url</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1141</span> </span><span class="WHIT">    </span><span class="NAME">this.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin.newSprite</span><span class="PUNC">(</span><span class="NAME">url</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1142</span> 
<span class='line'>1143</span> </span><span class="WHIT">	</span><span class="COMM">// Optional parameter default to default to 0</span><span class="WHIT">
<span class='line'>1144</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1145</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1146</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">width</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1147</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">height</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1148</span> 
<span class='line'>1149</span> </span><span class="WHIT">    </span><span class="NAME">this.init</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1150</span> 
<span class='line'>1151</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin.positionIs</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1152</span> 
<span class='line'>1153</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1154</span> 	Sets a new image to be used for this sprite
<span class='line'>1155</span> 	@param  {string} url The URL location of the image resource to download
<span class='line'>1156</span> 	@return {void} Nothing
<span class='line'>1157</span> 	*/</span><span class="WHIT">
<span class='line'>1158</span> </span><span class="WHIT">    </span><span class="NAME">this.setUrl</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">url</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1159</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setUrl</span><span class="PUNC">(</span><span class="NAME">this.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">url</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1160</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1161</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1162</span> 
<span class='line'>1163</span> </span><span class="COMM">/**
<span class='line'>1164</span> The class for layer overlay nodes
<span class='line'>1165</span> @class Layer
<span class='line'>1166</span> @augments Osmosis
<span class='line'>1167</span> @param  {object} plugin The monocleGL plugin object
<span class='line'>1168</span> @param  {number} x The x position of the sprite
<span class='line'>1169</span> @param  {number} y The y position of the sprite
<span class='line'>1170</span> @param  {number} width The width of the sprite
<span class='line'>1171</span> @param  {number} height The height of the sprite
<span class='line'>1172</span> @return {void} Nothing
<span class='line'>1173</span> */</span><span class="WHIT">
<span class='line'>1174</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">Layer</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1175</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1176</span> </span><span class="WHIT">    </span><span class="NAME">this.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin.newLayer</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1177</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1178</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1179</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">width</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1180</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1181</span> </span><span class="WHIT">    </span><span class="NAME">this.init</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1182</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin.positionIs</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1183</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1184</span> 
<span class='line'>1185</span> </span><span class="COMM">/**
<span class='line'>1186</span> The class for scene with quiz functions
<span class='line'>1187</span> @class Scene
<span class='line'>1188</span> @augments Osmosis
<span class='line'>1189</span> @param  {object} passPlugin The monocleGL plugin object
<span class='line'>1190</span> @param  {boolean} passStep Weather or not the question is a step questions (deprecated)
<span class='line'>1191</span> @return {void} Nothing
<span class='line'>1192</span> */</span><span class="WHIT">
<span class='line'>1193</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">Scene</span><span class="PUNC">(</span><span class="NAME">passPlugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">passStep</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1194</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">passPlugin</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1195</span> </span><span class="WHIT">    </span><span class="NAME">this.strInstruction</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1196</span> 
<span class='line'>1197</span> </span><span class="WHIT">    </span><span class="COMM">// Question status flags</span><span class="WHIT">
<span class='line'>1198</span> </span><span class="WHIT">    </span><span class="NAME">this.tries</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1199</span> </span><span class="WHIT">    </span><span class="NAME">this.correct</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1200</span> </span><span class="WHIT">    </span><span class="NAME">this.completed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1201</span> </span><span class="WHIT">    </span><span class="NAME">this.serverStatus</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1202</span> </span><span class="WHIT">    </span><span class="NAME">this.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.plugin.newScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1203</span> 
<span class='line'>1204</span> </span><span class="WHIT">    </span><span class="NAME">this.bgLayer</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Layer</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">480</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">320</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1205</span> </span><span class="WHIT">    </span><span class="NAME">this.bgLayer.setColor</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1206</span> 
<span class='line'>1207</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1208</span> 	Default initQuiz callback to be replaced by the developer
<span class='line'>1209</span> 	@param  {void} Nothing
<span class='line'>1210</span> 	@return {void} Nothing
<span class='line'>1211</span> 	*/</span><span class="WHIT">
<span class='line'>1212</span> </span><span class="WHIT">    </span><span class="NAME">this.initQuiz</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1213</span> </span><span class="WHIT">    	</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"initQuiz() default callback"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1214</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1215</span> 
<span class='line'>1216</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>1217</span> 	Default loadQuiz callback to be replaced by the developer
<span class='line'>1218</span> 	@param  {void} Nothing
<span class='line'>1219</span> 	@return {void} Nothing
<span class='line'>1220</span> 	*/</span><span class="WHIT">
<span class='line'>1221</span> </span><span class="WHIT">    </span><span class="NAME">this.loadQuiz</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1222</span> </span><span class="WHIT">    	</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"loadQuiz() default callback"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1223</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1224</span> 
<span class='line'>1225</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>1226</span> 	Default checkAnswer callback to be replaced by the developer
<span class='line'>1227</span> 	@param  {void} Nothing
<span class='line'>1228</span> 	@return {void} Nothing
<span class='line'>1229</span> 	*/</span><span class="WHIT">
<span class='line'>1230</span> </span><span class="WHIT">    </span><span class="NAME">this.checkAnswer</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1231</span> </span><span class="WHIT">    	</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"checkAnswer() default callback"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1232</span> </span><span class="WHIT">    	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1233</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1234</span> 
<span class='line'>1235</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>1236</span> 	Default resetQuiz callback to be replaced by the developer
<span class='line'>1237</span> 	@param  {void} Nothing
<span class='line'>1238</span> 	@return {void} Nothing
<span class='line'>1239</span> 	*/</span><span class="WHIT">
<span class='line'>1240</span> </span><span class="WHIT">    </span><span class="NAME">this.resetQuiz</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1241</span> </span><span class="WHIT">    	</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"resetQuiz() default callback"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1242</span> </span><span class="WHIT">    	</span><span class="NAME">this.loadQuiz</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1243</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1244</span> 
<span class='line'>1245</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>1246</span> 	Default showCorrectAnswer callback to be replaced by the developer
<span class='line'>1247</span> 	@param  {void} Nothing
<span class='line'>1248</span> 	@return {void} Nothing
<span class='line'>1249</span> 	*/</span><span class="WHIT">
<span class='line'>1250</span> </span><span class="WHIT">    </span><span class="NAME">this.showCorrectAnswer</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1251</span> </span><span class="WHIT">    	</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"showCorrectAnswer() default callback"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1252</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1253</span> 
<span class='line'>1254</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>1255</span> 	Default cleanUp callback to be replaced by the developer
<span class='line'>1256</span> 	@param  {void} Nothing
<span class='line'>1257</span> 	@return {void} Nothing
<span class='line'>1258</span> 	*/</span><span class="WHIT">
<span class='line'>1259</span> </span><span class="WHIT">    </span><span class="NAME">this.cleanUp</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1260</span> </span><span class="WHIT">    	</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"cleanUp() default callback"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1261</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1262</span> 
<span class='line'>1263</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>1264</span> 	Adds this scene to the plugin.
<span class='line'>1265</span> 	@param  {void} Nothing
<span class='line'>1266</span> 	@return {void} Nothing
<span class='line'>1267</span> 	*/</span><span class="WHIT">
<span class='line'>1268</span> </span><span class="WHIT">    </span><span class="NAME">this.addScene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1269</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.addScene</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1270</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1271</span> 
<span class='line'>1272</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1273</span> 	Changes to the next scene in the plugin.
<span class='line'>1274</span> 	@param  {void} Nothing
<span class='line'>1275</span> 	@return {void} Nothing
<span class='line'>1276</span> 	*/</span><span class="WHIT">
<span class='line'>1277</span> </span><span class="WHIT">    </span><span class="NAME">this.nextScene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1278</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.nextScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1279</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1280</span> 
<span class='line'>1281</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1282</span> 	Changes to the previous scene in the plugin.
<span class='line'>1283</span> 	@param  {void} Nothing
<span class='line'>1284</span> 	@return {void} Nothing
<span class='line'>1285</span> 	*/</span><span class="WHIT">
<span class='line'>1286</span> </span><span class="WHIT">    </span><span class="NAME">this.prevScene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1287</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.prevScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1288</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1289</span> 
<span class='line'>1290</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1291</span> 	Sets the current scene to this one.
<span class='line'>1292</span> 	@param  {void} Nothing
<span class='line'>1293</span> 	@return {void} Nothing
<span class='line'>1294</span> 	*/</span><span class="WHIT">
<span class='line'>1295</span> </span><span class="WHIT">    </span><span class="NAME">this.setScene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1296</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setScene</span><span class="PUNC">(</span><span class="NAME">this.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1297</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1298</span> 
<span class='line'>1299</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1300</span> 	Sets the number of tries for this scene.
<span class='line'>1301</span> 	@param  {number} tries The number of tries for this scene
<span class='line'>1302</span> 	@return {void} Nothing
<span class='line'>1303</span> 	*/</span><span class="WHIT">
<span class='line'>1304</span> </span><span class="WHIT">    </span><span class="NAME">this.setTries</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">tries</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1305</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">tries</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"number"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1306</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1307</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1308</span> </span><span class="WHIT">        </span><span class="NAME">this.tries</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">tries</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1309</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1310</span> 
<span class='line'>1311</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1312</span> 	Decrements the number of tries by one.
<span class='line'>1313</span> 	@param  {void} Nothing
<span class='line'>1314</span> 	@return {void} Nothing
<span class='line'>1315</span> 	*/</span><span class="WHIT">
<span class='line'>1316</span> </span><span class="WHIT">    </span><span class="NAME">this.decrementTries</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1317</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="PUNC">(</span><span class="NAME">this.tries</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1318</span> </span><span class="WHIT">            </span><span class="NAME">this.tries</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.tries</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1319</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1320</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1321</span> 
<span class='line'>1322</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1323</span> 	Gets the number of tries for this scene.
<span class='line'>1324</span> 	@param  {void} Nothing
<span class='line'>1325</span> 	@return {number} The number of tries for this scene
<span class='line'>1326</span> 	*/</span><span class="WHIT">
<span class='line'>1327</span> </span><span class="WHIT">    </span><span class="NAME">this.getTries</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.tries</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1328</span> 
<span class='line'>1329</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1330</span> 	Sets if the scene is correct
<span class='line'>1331</span> 	@param  {boolean} correct True if this scene is correct and false otherwise
<span class='line'>1332</span> 	@return {void} Nothing
<span class='line'>1333</span> 	*/</span><span class="WHIT">
<span class='line'>1334</span> </span><span class="WHIT">    </span><span class="NAME">this.setCorrect</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">correct</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1335</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">correct</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"boolean"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1336</span> </span><span class="WHIT">            </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"correct must have a value of type 'boolean'"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1337</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1338</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1339</span> </span><span class="WHIT">        </span><span class="NAME">this.correct</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">correct</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1340</span> </span><span class="WHIT">        </span><span class="NAME">this.completed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1341</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1342</span> 
<span class='line'>1343</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1344</span> 	Gets if the scene is correct
<span class='line'>1345</span> 	@param  {void} Nothing
<span class='line'>1346</span> 	@return {boolean} True if this scene is correct and false otherwise
<span class='line'>1347</span> 	*/</span><span class="WHIT">
<span class='line'>1348</span> </span><span class="WHIT">    </span><span class="NAME">this.getCorrect</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.correct</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1349</span> 
<span class='line'>1350</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1351</span> 	Sets if the scene is completed
<span class='line'>1352</span> 	@param  {boolean} completed True if this scene is completed and false otherwise
<span class='line'>1353</span> 	@return {void} Nothing
<span class='line'>1354</span> 	*/</span><span class="WHIT">
<span class='line'>1355</span> </span><span class="WHIT">    </span><span class="NAME">this.setCompleted</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">completed</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1356</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">completed</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"boolean"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1357</span> </span><span class="WHIT">            </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"completed must have a value of type 'boolean'"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1358</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1359</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1360</span> </span><span class="WHIT">        </span><span class="NAME">this.completed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">completed</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1361</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1362</span> 
<span class='line'>1363</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1364</span> 	Gets if the scene is completed
<span class='line'>1365</span> 	@param  {void} Nothing
<span class='line'>1366</span> 	@return {boolean} True if this scene is completed and false otherwise
<span class='line'>1367</span> 	*/</span><span class="WHIT">
<span class='line'>1368</span> </span><span class="WHIT">    </span><span class="NAME">this.getCompleted</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.completed</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1369</span> 
<span class='line'>1370</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1371</span> 	Sets if the scene status has been recieved by the server
<span class='line'>1372</span> 	@param  {boolean} serverStatus True if this scenes status has been recieved by the server and false otherwise
<span class='line'>1373</span> 	@return {void} Nothing
<span class='line'>1374</span> 	*/</span><span class="WHIT">
<span class='line'>1375</span> </span><span class="WHIT">    </span><span class="NAME">this.setServerStatus</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">serverStatus</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1376</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">serverStatus</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"boolean"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1377</span> </span><span class="WHIT">            </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"serverStatus must have a value of type 'boolean'"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1378</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1379</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1380</span> </span><span class="WHIT">        </span><span class="NAME">this.serverStatus</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">serverStatus</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1381</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1382</span> 
<span class='line'>1383</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1384</span> 	Gets if the scene status has been recieved by the server
<span class='line'>1385</span> 	@param  {void} Nothing
<span class='line'>1386</span> 	@return {boolean} True if this scenes status has been recieved by the server and false otherwise
<span class='line'>1387</span> 	*/</span><span class="WHIT">
<span class='line'>1388</span> </span><span class="WHIT">    </span><span class="NAME">this.getServerStatus</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.serverStatus</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1389</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1390</span> 
<span class='line'>1391</span> </span><span class="COMM">/**
<span class='line'>1392</span> The class for the base definations of labels and textboxes
<span class='line'>1393</span> @class BaseLabel
<span class='line'>1394</span> @augments Osmosis
<span class='line'>1395</span> @param  {void} Nothing
<span class='line'>1396</span> @return {void} Nothing
<span class='line'>1397</span> */</span><span class="WHIT">
<span class='line'>1398</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">BaseLabel</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1399</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1400</span> 	Sets the string that will be displayed
<span class='line'>1401</span> 	@param  {string} text The string to be displayed inside label/textbox.
<span class='line'>1402</span> 	@return {void} Nothing
<span class='line'>1403</span> 	*/</span><span class="WHIT">
<span class='line'>1404</span> </span><span class="WHIT">    </span><span class="NAME">this.setText</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">text</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1405</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">text</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1406</span> </span><span class="WHIT">            </span><span class="NAME">this.text</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">text</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1407</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1408</span> </span><span class="WHIT">            </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">str</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1409</span> </span><span class="WHIT">            </span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">el</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">text</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1410</span> </span><span class="WHIT">                </span><span class="NAME">str</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">str</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">text</span><span class="PUNC">[</span><span class="NAME">el</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1411</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1412</span> </span><span class="WHIT">            </span><span class="NAME">this.text</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">str</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1413</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1414</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.captionIs</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.text</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1415</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1416</span> 
<span class='line'>1417</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1418</span> 	Sets the text caption color of this node in openGL color format.
<span class='line'>1419</span> 	@param  {number} r The new amount of red in the node (range 0 to 1).
<span class='line'>1420</span> 	@param  {number} g The new amount of green in the node (range 0 to 1).
<span class='line'>1421</span> 	@param  {number} b The new amount of blue in the node (range 0 to 1).
<span class='line'>1422</span> 	@param  {number} a The new amount of alpha in the node (range 0 to 1).
<span class='line'>1423</span> 	@return {void} Nothing
<span class='line'>1424</span> 	*/</span><span class="WHIT">
<span class='line'>1425</span> </span><span class="WHIT">    </span><span class="NAME">this.setCaptionColor</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">r</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">b</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">a</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1426</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.captionColorIs</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">r</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">b</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1427</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1428</span> 
<span class='line'>1429</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1430</span> 	Sets the text to wrap once it reach the length of the label/textbox.
<span class='line'>1431</span> 	@param  {boolean} wrap If true the text will wrap around and otherwise the text will continue to the right until finished.
<span class='line'>1432</span> 	@return {void} Nothing
<span class='line'>1433</span> 	*/</span><span class="WHIT">
<span class='line'>1434</span> </span><span class="WHIT">    </span><span class="NAME">this.setWrap</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">wrap</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1435</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">wrap</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"boolean"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1436</span> </span><span class="WHIT">            </span><span class="COMM">// error...</span><span class="WHIT">
<span class='line'>1437</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1438</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1439</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.wrapText</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wrap</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1440</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1441</span> 
<span class='line'>1442</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1443</span> 	Tells the plugin to attach a key listener event to this node.
<span class='line'>1444</span> 	@param  {void} Nothing
<span class='line'>1445</span> 	@return {void} Nothing
<span class='line'>1446</span> 	*/</span><span class="WHIT">
<span class='line'>1447</span> </span><span class="WHIT">    </span><span class="NAME">this.addKeyListener</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1448</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.addKeyListener</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1449</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1450</span> 
<span class='line'>1451</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1452</span> 	Set this label/textbox to use the bold font included in the plugin
<span class='line'>1453</span> 	@param  {boolean} bold If true set the font to be bold otherwise set it regular.
<span class='line'>1454</span> 	@return {void} Nothing
<span class='line'>1455</span> 	*/</span><span class="WHIT">
<span class='line'>1456</span> </span><span class="WHIT">    </span><span class="NAME">this.setBold</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">bold</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1457</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">bold</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"boolean"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1458</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1459</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1460</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setBold</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bold</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1461</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1462</span> 
<span class='line'>1463</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1464</span> 	Set this label/textbox to use the italic font included in the plugin
<span class='line'>1465</span> 	@param  {boolean} italic If true set the font to be italic otherwise set it regular.
<span class='line'>1466</span> 	@return {void} Nothing
<span class='line'>1467</span> 	*/</span><span class="WHIT">
<span class='line'>1468</span> </span><span class="WHIT">    </span><span class="NAME">this.setItalic</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">italic</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1469</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">italic</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"boolean"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1470</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1471</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1472</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setItalic</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">italic</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1473</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1474</span> 
<span class='line'>1475</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1476</span> 	Set the anchor of this label to be left, right or centered.
<span class='line'>1477</span> 	@param  {string} anchor Side the alignment of the label to be "left", "right" or "center"
<span class='line'>1478</span> 	@return {void} Nothing
<span class='line'>1479</span> 	*/</span><span class="WHIT">
<span class='line'>1480</span> </span><span class="WHIT">    </span><span class="NAME">this.setAnchor</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">anchor</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1481</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">anchor</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1482</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1483</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1484</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setAnchor</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">anchor</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1485</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1486</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1487</span> 
<span class='line'>1488</span> </span><span class="COMM">/**
<span class='line'>1489</span> The class for a dynamic label of text
<span class='line'>1490</span> @class Label
<span class='line'>1491</span> @augments BaseLabel
<span class='line'>1492</span> @param  {object} passPlugin The monocleGL plugin object.
<span class='line'>1493</span> @param  {string} text The string to be displayed in the label.
<span class='line'>1494</span> @param	{number} size The in points of the font used.
<span class='line'>1495</span> @param  {number} x The x position of the label.
<span class='line'>1496</span> @param  {number} y The y position of the label.
<span class='line'>1497</span> @param  {number} width The width of the label.
<span class='line'>1498</span> @param  {number} height The height of the label.
<span class='line'>1499</span> @return {void} Nothing
<span class='line'>1500</span> */</span><span class="WHIT">
<span class='line'>1501</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">Label</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">text</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">size</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1502</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1503</span> </span><span class="WHIT">    </span><span class="NAME">this.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.plugin.newLabel</span><span class="PUNC">(</span><span class="NAME">text</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">size</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1504</span> </span><span class="WHIT">    </span><span class="NAME">this.text</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">text</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1505</span> </span><span class="WHIT">	</span><span class="NAME">this.pntOffset</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Point</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1506</span> 
<span class='line'>1507</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1508</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1509</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">width</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1510</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1511</span> </span><span class="WHIT">    </span><span class="NAME">this.init</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1512</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin.positionIs</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1513</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1514</span> 
<span class='line'>1515</span> </span><span class="COMM">/**
<span class='line'>1516</span> The class for a dynamic textbox
<span class='line'>1517</span> @class TextBox
<span class='line'>1518</span> @augments BaseLabel
<span class='line'>1519</span> @param  {object} passPlugin The monocleGL plugin object.
<span class='line'>1520</span> @param  {string} text The string to be displayed in the textbox.
<span class='line'>1521</span> @param	{number} size The in points of the font used.
<span class='line'>1522</span> @param  {number} x The x position of the textbox.
<span class='line'>1523</span> @param  {number} y The y position of the textbox.
<span class='line'>1524</span> @param  {number} width The width of the textbox.
<span class='line'>1525</span> @param  {number} height The height of the textbox.
<span class='line'>1526</span> @return {void} Nothing
<span class='line'>1527</span> */</span><span class="WHIT">
<span class='line'>1528</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">TextBox</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">text</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">size</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1529</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1530</span> </span><span class="WHIT">    </span><span class="NAME">this.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin.newTextBox</span><span class="PUNC">(</span><span class="NAME">text</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">size</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1531</span> </span><span class="WHIT">    </span><span class="NAME">this.text</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">text</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1532</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1533</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1534</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">width</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1535</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1536</span> </span><span class="WHIT">    </span><span class="NAME">this.init</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1537</span> </span><span class="WHIT">    </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"text_changed"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"updateText"</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1538</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin.positionIs</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1539</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin.addKeyListener</span><span class="PUNC">(</span><span class="NAME">this.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1540</span> 
<span class='line'>1541</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1542</span> 	An automatically setup callback that triggers whenever the text changes.
<span class='line'>1543</span> 	@param  {string} text The string displayed in the textbox.
<span class='line'>1544</span> 	@return {void} Nothing
<span class='line'>1545</span> 	*/</span><span class="WHIT">
<span class='line'>1546</span> </span><span class="WHIT">    </span><span class="NAME">this.updateText</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">text</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1547</span> </span><span class="WHIT">        </span><span class="NAME">this.text</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">text</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1548</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1549</span> 
<span class='line'>1550</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1551</span> 	Add a callback to be triggered whenever this node recieves an enter callback
<span class='line'>1552</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>1553</span> 	@param  {string} func The name of the function to call when a callback occurs
<span class='line'>1554</span> 	@return {void} Nothing
<span class='line'>1555</span> 	*/</span><span class="WHIT">
<span class='line'>1556</span> </span><span class="WHIT">    </span><span class="NAME">this.addEnterCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">func</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1557</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"object"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1558</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1559</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1560</span> </span><span class="WHIT">        </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"enter_pressed"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">func</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1561</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1562</span> 
<span class='line'>1563</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1564</span> 	Add a callback to be triggered whenever this node recieves or looses focus
<span class='line'>1565</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>1566</span> 	@param  {string} func The name of the function to call when a callback occurs
<span class='line'>1567</span> 	@return {void} Nothing
<span class='line'>1568</span> 	*/</span><span class="WHIT">
<span class='line'>1569</span> </span><span class="WHIT">    </span><span class="NAME">this.addFocusChangedCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">func</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1570</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"object"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1571</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1572</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1573</span> </span><span class="WHIT">        </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"focus_changed"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">func</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1574</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1575</span> 
<span class='line'>1576</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1577</span> 	Allow textboxes to recieve events if set to be true
<span class='line'>1578</span> 	@param  {boolean} interaction If true allow interaction with textbox else block interaction
<span class='line'>1579</span> 	@return {void} Nothing
<span class='line'>1580</span> 	*/</span><span class="WHIT">
<span class='line'>1581</span> </span><span class="WHIT">    </span><span class="NAME">this.setInteraction</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">interaction</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1582</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">interaction</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"boolean"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1583</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1584</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1585</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setTextBoxInteraction</span><span class="PUNC">(</span><span class="NAME">this.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">interaction</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1586</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1587</span> 
<span class='line'>1588</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1589</span> 	Return the text value of the textbox
<span class='line'>1590</span> 	@param  {void} Nothing
<span class='line'>1591</span> 	@return {string} The string current inside the textbox
<span class='line'>1592</span> 	*/</span><span class="WHIT">
<span class='line'>1593</span> </span><span class="WHIT">    </span><span class="NAME">this.getText</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1594</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.text</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1595</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1596</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1597</span> 
<span class='line'>1598</span> </span><span class="COMM">/**
<span class='line'>1599</span> The class for the interactive button node with one of the presets "submit", "answer", "nextScene", "prevScene", "refresh", "explore", "ok", "ready", "smallArrowDown", "smallArrowLeft", "smallArrowRight" and "smallArrowUp".
<span class='line'>1600</span> @class Button
<span class='line'>1601</span> @augments Sprite
<span class='line'>1602</span> @param  {object} passPlugin The monocleGL plugin object.
<span class='line'>1603</span> @param  {string} type The type of button to be displayed.
<span class='line'>1604</span> @param  {number} x The x position of the button.
<span class='line'>1605</span> @param  {number} y The y position of the button.
<span class='line'>1606</span> @param  {number} width The width of the button.
<span class='line'>1607</span> @param  {number} height The height of the button.
<span class='line'>1608</span> @return {void} Nothing
<span class='line'>1609</span> */</span><span class="WHIT">
<span class='line'>1610</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">Button</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">type</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1611</span> </span><span class="WHIT">    </span><span class="COMM">// Initialize everything</span><span class="WHIT">
<span class='line'>1612</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1613</span> </span><span class="WHIT">    </span><span class="NAME">this.type</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">type</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1614</span> </span><span class="WHIT">    </span><span class="NAME">this.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin.newButton</span><span class="PUNC">(</span><span class="NAME">type</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1615</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1616</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1617</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">width</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1618</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1619</span> </span><span class="WHIT">    </span><span class="NAME">this.init</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1620</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin.positionIs</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1621</span> 
<span class='line'>1622</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1623</span> 	Allows button to recieve events if set to be true.
<span class='line'>1624</span> 	@param  {boolean} active If true allow interaction and display the active state button otherwise disable interaction and display the inactive state.
<span class='line'>1625</span> 	@return {void} Nothing
<span class='line'>1626</span> 	*/</span><span class="WHIT">
<span class='line'>1627</span> </span><span class="WHIT">    </span><span class="NAME">this.setActive</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">active</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1628</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">active</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"boolean"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1629</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1630</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1631</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setButtonActive</span><span class="PUNC">(</span><span class="NAME">this.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">active</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1632</span> 
<span class='line'>1633</span> </span><span class="WHIT">        </span><span class="COMM">// Restore the button's subscribed/unsubscribed state</span><span class="WHIT">
<span class='line'>1634</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">active</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1635</span> </span><span class="WHIT">            </span><span class="NAME">this.subscribe</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1636</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">active</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1637</span> </span><span class="WHIT">            </span><span class="NAME">this.unsubscribe</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1638</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1639</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1640</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1641</span> 
<span class='line'>1642</span> </span><span class="COMM">/**
<span class='line'>1643</span> The class for the interactive button node
<span class='line'>1644</span> @class Primitive
<span class='line'>1645</span> @augments Osmosis
<span class='line'>1646</span> @param  {object} passPlugin The monocleGL plugin object.
<span class='line'>1647</span> @param  {string} shape The type of primitive to be displayed ("rectangle", "circle" or "line").
<span class='line'>1648</span> @param  {number} x The x position of the primitive.
<span class='line'>1649</span> @param  {number} y The y position of the primitive.
<span class='line'>1650</span> @param  {number} width The width of the primitive.
<span class='line'>1651</span> @param  {number} height The height of the primitive.
<span class='line'>1652</span> @return {void} Nothing
<span class='line'>1653</span> */</span><span class="WHIT">
<span class='line'>1654</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">Primitive</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">shape</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1655</span> </span><span class="WHIT">    </span><span class="COMM">// Initialize everything</span><span class="WHIT">
<span class='line'>1656</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1657</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">shape</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1658</span> </span><span class="WHIT">        </span><span class="COMM">// TODO: Error</span><span class="WHIT">
<span class='line'>1659</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1660</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1661</span> 
<span class='line'>1662</span> </span><span class="WHIT">    </span><span class="NAME">this.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin.newPrimitive</span><span class="PUNC">(</span><span class="NAME">shape</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1663</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1664</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1665</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">width</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1666</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1667</span> </span><span class="WHIT">    </span><span class="NAME">this.init</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1668</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin.positionIs</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1669</span> 
<span class='line'>1670</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1671</span> 	Set the postion and dimensions of this primitive.
<span class='line'>1672</span> 	@param  {number} x1 The x position of the primitive.
<span class='line'>1673</span> 	@param  {number} y1 The y position of the primitive.
<span class='line'>1674</span> 	@param  {number} x2 The new width of the primitive.
<span class='line'>1675</span> 	@param  {number} y2 The new height of the primitive.
<span class='line'>1676</span> 	@return {void} Nothing
<span class='line'>1677</span> 	*/</span><span class="WHIT">
<span class='line'>1678</span> </span><span class="WHIT">    </span><span class="NAME">this.setPoints</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">x1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y2</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1679</span> </span><span class="WHIT">        </span><span class="NAME">this.setPosition</span><span class="PUNC">(</span><span class="NAME">x1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1680</span> </span><span class="WHIT">        </span><span class="NAME">this.setDimensions</span><span class="PUNC">(</span><span class="NAME">x2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1681</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1682</span> 
<span class='line'>1683</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1684</span> 	Set the corner radius of a rectangle.
<span class='line'>1685</span> 	@param  {number} radius The corner radius of a rectangle in pixels.
<span class='line'>1686</span> 	@return {void} Nothing
<span class='line'>1687</span> 	*/</span><span class="WHIT">
<span class='line'>1688</span> </span><span class="WHIT">    </span><span class="NAME">this.setCornerRadius</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">radius</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1689</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setRectangleCornerRadius</span><span class="PUNC">(</span><span class="NAME">this.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">radius</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1690</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1691</span> 
<span class='line'>1692</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1693</span> 	Set the border width of a rectangle.
<span class='line'>1694</span> 	@param  {number} width The border width of a rectangle in pixels.
<span class='line'>1695</span> 	@return {void} Nothing
<span class='line'>1696</span> 	*/</span><span class="WHIT">
<span class='line'>1697</span> </span><span class="WHIT">    </span><span class="NAME">this.setBorderWidth</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">width</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1698</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setBorderWidth</span><span class="PUNC">(</span><span class="NAME">this.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1699</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1700</span> 
<span class='line'>1701</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1702</span> 	Set the color of the rectangles border in openGL color format.
<span class='line'>1703</span> 	@param  {number} r The new amount of red in the node (range 0 to 1).
<span class='line'>1704</span> 	@param  {number} g The new amount of green in the node (range 0 to 1).
<span class='line'>1705</span> 	@param  {number} b The new amount of blue in the node (range 0 to 1).
<span class='line'>1706</span> 	@param  {number} a The new amount of alpha in the node (range 0 to 1).
<span class='line'>1707</span> 	@return {void} Nothing
<span class='line'>1708</span> 	*/</span><span class="WHIT">
<span class='line'>1709</span> </span><span class="WHIT">    </span><span class="NAME">this.setBorderColor</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">r</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">b</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">a</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1710</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setBorderColor</span><span class="PUNC">(</span><span class="NAME">this.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">r</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">b</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1711</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1712</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1713</span> 
<span class='line'>1714</span> </span><span class="COMM">/**
<span class='line'>1715</span> The class drawing a thickness adjustable line
<span class='line'>1716</span> @class Line
<span class='line'>1717</span> @augments Osmosis
<span class='line'>1718</span> @param  {object} passPlugin The monocleGL plugin object.
<span class='line'>1719</span> @param  {number} x The x1 position of the line.
<span class='line'>1720</span> @param  {number} y The y1 position of the line.
<span class='line'>1721</span> @param  {number} width The x2 position of the line.
<span class='line'>1722</span> @param  {number} height The y2 position of the line.
<span class='line'>1723</span> @return {void} Nothing
<span class='line'>1724</span> */</span><span class="WHIT">
<span class='line'>1725</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">Line</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1726</span> </span><span class="WHIT">    </span><span class="COMM">// Initialize everything</span><span class="WHIT">
<span class='line'>1727</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1728</span> </span><span class="WHIT">    </span><span class="NAME">this.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin.newPrimitive</span><span class="PUNC">(</span><span class="STRN">"line"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1729</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1730</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1731</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">width</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1732</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1733</span> </span><span class="WHIT">    </span><span class="NAME">this.init</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1734</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin.positionIs</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1735</span> 
<span class='line'>1736</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1737</span> 	Set the thicknes of the line.
<span class='line'>1738</span> 	@param  {number} thickness The line thickness in pixels.
<span class='line'>1739</span> 	@return {void} Nothing
<span class='line'>1740</span> 	*/</span><span class="WHIT">
<span class='line'>1741</span> </span><span class="WHIT">    </span><span class="NAME">this.setThickness</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">thickness</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1742</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setLineThickness</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">thickness</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1743</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1744</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1745</span> 
<span class='line'>1746</span> </span><span class="COMM">/**
<span class='line'>1747</span> The class for an interactive scrollbar node
<span class='line'>1748</span> @class ScrollBar
<span class='line'>1749</span> @augments Osmosis
<span class='line'>1750</span> @param  {object} passPlugin The monocleGL plugin object.
<span class='line'>1751</span> @param  {number} x The x position of the scrollbar.
<span class='line'>1752</span> @param  {number} y The y position of the scrollbar.
<span class='line'>1753</span> @param  {number} width The width of the scrollbar.
<span class='line'>1754</span> @param  {number} height The height of the scrollbar.
<span class='line'>1755</span> @return {void} Nothing
<span class='line'>1756</span> */</span><span class="WHIT">
<span class='line'>1757</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">ScrollBar</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1758</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1759</span> </span><span class="WHIT">    </span><span class="NAME">this.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin.newScrollBar</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1760</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1761</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1762</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">width</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1763</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1764</span> </span><span class="WHIT">    </span><span class="NAME">this.init</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1765</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin.positionIs</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1766</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1767</span> 
<span class='line'>1768</span> </span><span class="COMM">/**
<span class='line'>1769</span> The class for an interactive drop down menu node
<span class='line'>1770</span> @class DropDown
<span class='line'>1771</span> @augments Osmosis
<span class='line'>1772</span> @param  {object} passPlugin The monocleGL plugin object.
<span class='line'>1773</span> @param  {number} x The x position of the drop down menu.
<span class='line'>1774</span> @param  {number} y The y position of the drop down menu.
<span class='line'>1775</span> @param  {number} width The width of the drop down menu.
<span class='line'>1776</span> @param  {number} height The height of the drop down menu (Note this is the extended length, when retracted the drop down is 20 pixels).
<span class='line'>1777</span> @return {void} Nothing
<span class='line'>1778</span> */</span><span class="WHIT">
<span class='line'>1779</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">DropDown</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1780</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1781</span> </span><span class="WHIT">    </span><span class="NAME">this.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin.newDropDown</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1782</span> </span><span class="WHIT">    </span><span class="NAME">this.text</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1783</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1784</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1785</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">width</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1786</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1787</span> </span><span class="WHIT">    </span><span class="NAME">this.init</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1788</span> </span><span class="WHIT">    </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"text_changed"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"updateText"</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1789</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin.positionIs</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1790</span> 
<span class='line'>1791</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1792</span> 	An automatically setup callback that triggers whenever the text changes.
<span class='line'>1793</span> 	@param  {string} text The string displayed in the textbox.
<span class='line'>1794</span> 	@return {void} Nothing
<span class='line'>1795</span> 	*/</span><span class="WHIT">
<span class='line'>1796</span> </span><span class="WHIT">	</span><span class="NAME">this.updateText</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">text</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1797</span> </span><span class="WHIT">        </span><span class="NAME">this.text</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">text</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1798</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1799</span> 
<span class='line'>1800</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1801</span> 	Add an option to the drop down menu.
<span class='line'>1802</span> 	@param  {string} text The new option to be added to the menu.
<span class='line'>1803</span> 	@return {void} Nothing
<span class='line'>1804</span> 	*/</span><span class="WHIT">
<span class='line'>1805</span> </span><span class="WHIT">    </span><span class="NAME">this.addOption</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">option</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1806</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">option</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1807</span> </span><span class="WHIT">            </span><span class="COMM">//TODO: error</span><span class="WHIT">
<span class='line'>1808</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1809</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1810</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.text</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1811</span> </span><span class="WHIT">            </span><span class="NAME">this.text</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">option</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1812</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1813</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.addOptionToDropDown</span><span class="PUNC">(</span><span class="NAME">this.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">option</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1814</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1815</span> 
<span class='line'>1816</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1817</span> 	Add a callback to be triggered whenever this node changes it's selected option.
<span class='line'>1818</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>1819</span> 	@param  {string} func The name of the function to call when a callback occurs
<span class='line'>1820</span> 	@return {void} Nothing
<span class='line'>1821</span> 	*/</span><span class="WHIT">
<span class='line'>1822</span> </span><span class="WHIT">    </span><span class="NAME">this.addChangedCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1823</span> </span><span class="WHIT">        </span><span class="NAME">this.bind</span><span class="PUNC">(</span><span class="STRN">"drop_down_changed"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1824</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1825</span> 
<span class='line'>1826</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1827</span> 	Removes the callback thats triggered whenever this node changes it's selected option.
<span class='line'>1828</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>1829</span> 	@param  {string} func The name of the function to call when a callback occurs
<span class='line'>1830</span> 	@return {void} Nothing
<span class='line'>1831</span> 	*/</span><span class="WHIT">
<span class='line'>1832</span> </span><span class="WHIT">    </span><span class="NAME">this.removeChangedCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1833</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.removeDropDownCallback</span><span class="PUNC">(</span><span class="NAME">this.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1834</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1835</span> 
<span class='line'>1836</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1837</span> 	Removes all the callbacks on this node.
<span class='line'>1838</span> 	@param  {void} Nothing
<span class='line'>1839</span> 	@return {void} Nothing
<span class='line'>1840</span> 	*/</span><span class="WHIT">
<span class='line'>1841</span> </span><span class="WHIT">    </span><span class="NAME">this.removeAllCallbacks</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1842</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.removeAllDropDownCallbacks</span><span class="PUNC">(</span><span class="NAME">this.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1843</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1844</span> 
<span class='line'>1845</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1846</span> 	Sets the default option for the drop down menu.
<span class='line'>1847</span> 	@param  {string} option The prexisting option that the drop down menu defaults too.
<span class='line'>1848</span> 	@return {void} Nothing
<span class='line'>1849</span> 	*/</span><span class="WHIT">
<span class='line'>1850</span> </span><span class="WHIT">    </span><span class="NAME">this.setDefaultOption</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">option</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1851</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">option</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1852</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1853</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1854</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setDefaultDropDownOption</span><span class="PUNC">(</span><span class="NAME">this.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">option</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1855</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1856</span> 
<span class='line'>1857</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1858</span> 	Return the text value of the drop down menu
<span class='line'>1859</span> 	@param  {void} Nothing
<span class='line'>1860</span> 	@return {string} The string current inside the drop down menu
<span class='line'>1861</span> 	*/</span><span class="WHIT">
<span class='line'>1862</span> </span><span class="WHIT">    </span><span class="NAME">this.getText</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1863</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.text</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1864</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1865</span> 
<span class='line'>1866</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1867</span> 	Sets the text value of the drop down menu
<span class='line'>1868</span> 	@param  {string} The string current inside the drop down menu
<span class='line'>1869</span> 	@return {void} Nothing
<span class='line'>1870</span> 	*/</span><span class="WHIT">
<span class='line'>1871</span> </span><span class="WHIT">    </span><span class="NAME">this.setText</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">text</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1872</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.plugin.setDropDownText</span><span class="PUNC">(</span><span class="NAME">this.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">text</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1873</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1874</span> 
<span class='line'>1875</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1876</span> 	Sets the background color of this node in openGL color format.
<span class='line'>1877</span> 	@param  {number} r The new amount of red in the node (range 0 to 1).
<span class='line'>1878</span> 	@param  {number} g The new amount of green in the node (range 0 to 1).
<span class='line'>1879</span> 	@param  {number} b The new amount of blue in the node (range 0 to 1).
<span class='line'>1880</span> 	@param  {number} a The new amount of alpha in the node (range 0 to 1).
<span class='line'>1881</span> 	@return {void} Nothing
<span class='line'>1882</span> 	*/</span><span class="WHIT">
<span class='line'>1883</span> </span><span class="WHIT">    </span><span class="NAME">this.setColor</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">r</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">b</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">a</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1884</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.colorIs</span><span class="PUNC">(</span><span class="NAME">this.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">r</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">b</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1885</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1886</span> 
<span class='line'>1887</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1888</span> 	Sets the text caption color of this node in openGL color format.
<span class='line'>1889</span> 	@param  {number} r The new amount of red in the node (range 0 to 1).
<span class='line'>1890</span> 	@param  {number} g The new amount of green in the node (range 0 to 1).
<span class='line'>1891</span> 	@param  {number} b The new amount of blue in the node (range 0 to 1).
<span class='line'>1892</span> 	@param  {number} a The new amount of alpha in the node (range 0 to 1).
<span class='line'>1893</span> 	@return {void} Nothing
<span class='line'>1894</span> 	*/</span><span class="WHIT">
<span class='line'>1895</span> </span><span class="WHIT">    </span><span class="NAME">this.setTextColor</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">r</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">b</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">a</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1896</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setDropDownTextColor</span><span class="PUNC">(</span><span class="NAME">this.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">r</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">b</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1897</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1898</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1899</span> 
<span class='line'>1900</span> </span><span class="COMM">/**
<span class='line'>1901</span> The class drawing a thickness adjustable bezier line
<span class='line'>1902</span> @class Bezier
<span class='line'>1903</span> @augments Osmosis
<span class='line'>1904</span> @param  {object} plugin The monocleGL plugin object.
<span class='line'>1905</span> @param  {array} points Set the points of the Bezier (in a flat array) Example: var points = new Array(x1, y1, x2, y2, x3, y3, ...);
<span class='line'>1906</span> @return {void} Nothing
<span class='line'>1907</span> */</span><span class="WHIT">
<span class='line'>1908</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">Bezier</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">points</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1909</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1910</span> </span><span class="WHIT">    </span><span class="NAME">this.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin.newBezier</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1911</span> 
<span class='line'>1912</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1913</span> 	Change the points in the bezier curve to the ones passed in.
<span class='line'>1914</span> 	@param  {array} points Set the points of the Bezier (in a flat array) Example: var points = new Array(x1, y1, x2, y2, x3, y3, ...);
<span class='line'>1915</span> 	@return {void} Nothing
<span class='line'>1916</span> 	*/</span><span class="WHIT">
<span class='line'>1917</span> </span><span class="WHIT">    </span><span class="NAME">this.setPoints</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">points</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1918</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">points.constructor.toString</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">indexOf</span><span class="PUNC">(</span><span class="STRN">"Array"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="COMM">// Object is an array</span><span class="WHIT">
<span class='line'>1919</span> </span><span class="WHIT">            </span><span class="NAME">this.plugin.setBezierPoints</span><span class="PUNC">(</span><span class="NAME">this.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">points</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1920</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1921</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1922</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1923</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1924</span> </span><span class="WHIT">    </span><span class="NAME">this.setPoints</span><span class="PUNC">(</span><span class="NAME">points</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1925</span> 
<span class='line'>1926</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1927</span> 	Set the thicknes of the bezier line.
<span class='line'>1928</span> 	@param  {number} thickness The line thickness in pixels.
<span class='line'>1929</span> 	@return {void} Nothing
<span class='line'>1930</span> 	*/</span><span class="WHIT">
<span class='line'>1931</span> </span><span class="WHIT">    </span><span class="NAME">this.setThickness</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">thickness</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1932</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">thickness</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">"number"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1933</span> </span><span class="WHIT">            </span><span class="NAME">this.plugin.setBezierThickness</span><span class="PUNC">(</span><span class="NAME">thickness</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1934</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1935</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1936</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1937</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1938</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1939</span> 
<span class='line'>1940</span> </span><span class="COMM">/**
<span class='line'>1941</span> The class drawing toggable checkboxes
<span class='line'>1942</span> @class Checkbox
<span class='line'>1943</span> @augments Osmosis
<span class='line'>1944</span> @param  {object} plugin The monocleGL plugin object.
<span class='line'>1945</span> @param  {string} txt The string to be displayed in the checkbox.
<span class='line'>1946</span> @param  {number} x The x position of the checkbox.
<span class='line'>1947</span> @param  {number} y The y position of the checkbox.
<span class='line'>1948</span> @param  {number} width The width of the checkbox.
<span class='line'>1949</span> @param  {number} height The height of the checkbox.
<span class='line'>1950</span> @return {void} Nothing
<span class='line'>1951</span> */</span><span class="WHIT">
<span class='line'>1952</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">Checkbox</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">txt</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1953</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1954</span> 
<span class='line'>1955</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">txt</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.txt</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"Checkbox"</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.txt</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">txt</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1956</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1957</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1958</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">width</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1959</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1960</span> 
<span class='line'>1961</span> </span><span class="WHIT">	</span><span class="COMM">// This boolean flag is the status of the check box</span><span class="WHIT">
<span class='line'>1962</span> </span><span class="WHIT">	</span><span class="NAME">this.selected</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1963</span> 
<span class='line'>1964</span> </span><span class="WHIT">	</span><span class="COMM">// Create a background label to add all the sprites and callbacks to</span><span class="WHIT">
<span class='line'>1965</span> </span><span class="WHIT">   	</span><span class="NAME">this.lblBG</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Label</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1966</span> </span><span class="WHIT">	</span><span class="NAME">this.lblBG.downCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"mouseClick"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1967</span> </span><span class="WHIT">   	</span><span class="NAME">this.lblBG.setColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1968</span> </span><span class="WHIT">    </span><span class="NAME">this.lblBG.setCaptionColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1969</span> </span><span class="WHIT">	</span><span class="NAME">this.lblBG.subscribe</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1970</span> 
<span class='line'>1971</span> </span><span class="WHIT">    </span><span class="COMM">// Set this object ID to be the same as the background label ID</span><span class="WHIT">
<span class='line'>1972</span> </span><span class="WHIT">   	</span><span class="NAME">this.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.lblBG.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1973</span> 
<span class='line'>1974</span> </span><span class="WHIT">	</span><span class="COMM">// Create the empty checkbox sprite</span><span class="WHIT">
<span class='line'>1975</span> </span><span class="WHIT">   	</span><span class="NAME">this.sprBox</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"checkbox.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1976</span> 
<span class='line'>1977</span> </span><span class="WHIT">	</span><span class="COMM">// Create the checkmark sprite and make invisible</span><span class="WHIT">
<span class='line'>1978</span> </span><span class="WHIT">   	</span><span class="NAME">this.sprCheck</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"check.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1979</span> </span><span class="WHIT">   	</span><span class="NAME">this.sprCheck.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1980</span> 
<span class='line'>1981</span> </span><span class="WHIT">	</span><span class="COMM">// Figure out the y offset based on the height</span><span class="WHIT">
<span class='line'>1982</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">txtY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1983</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">></span><span class="WHIT"> </span><span class="NUMB">16</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">txtY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">0.005</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1984</span> 
<span class='line'>1985</span> </span><span class="WHIT">	</span><span class="COMM">// Create the label which display the checkbox's text</span><span class="WHIT">
<span class='line'>1986</span> </span><span class="WHIT">   	</span><span class="NAME">this.lblTxt</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Label</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.txt</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">0.8</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">txtY</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1987</span> </span><span class="WHIT">	</span><span class="NAME">this.lblTxt.setColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1988</span> </span><span class="WHIT">    </span><span class="NAME">this.lblTxt.setCaptionColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1989</span> 
<span class='line'>1990</span> </span><span class="WHIT">	</span><span class="COMM">// Add everything to the background label</span><span class="WHIT">
<span class='line'>1991</span> </span><span class="WHIT">   	</span><span class="NAME">this.lblBG.addChild</span><span class="PUNC">(</span><span class="NAME">this.sprBox</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1992</span> </span><span class="WHIT">   	</span><span class="NAME">this.lblBG.addChild</span><span class="PUNC">(</span><span class="NAME">this.sprCheck</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1993</span> </span><span class="WHIT">   	</span><span class="NAME">this.lblBG.addChild</span><span class="PUNC">(</span><span class="NAME">this.lblTxt</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1994</span> 
<span class='line'>1995</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>1996</span> 	The callback that gets triggered whenever user clicks on the checkbox
<span class='line'>1997</span> 	@param  {number} x The x position of the mouse
<span class='line'>1998</span> 	@param  {number} y The y position of the mouse
<span class='line'>1999</span> 	@return {void} Nothing
<span class='line'>2000</span> 	*/</span><span class="WHIT">
<span class='line'>2001</span> </span><span class="WHIT">	</span><span class="NAME">this.mouseClick</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2002</span> </span><span class="WHIT">		</span><span class="NAME">this.setSelected</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.selected</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2003</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2004</span> 
<span class='line'>2005</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2006</span> 	Set the selected flag and checkmark visibility.
<span class='line'>2007</span> 	@param  {boolean} bool If true then set the checkmark to be visible and set invisibile
<span class='line'>2008</span> 	@return {void} Nothing
<span class='line'>2009</span> 	*/</span><span class="WHIT">
<span class='line'>2010</span> </span><span class="WHIT">	</span><span class="NAME">this.setSelected</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">bool</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2011</span> </span><span class="WHIT">		</span><span class="NAME">this.selected</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">bool</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2012</span> </span><span class="WHIT">		</span><span class="NAME">this.sprCheck.setVisibility</span><span class="PUNC">(</span><span class="NAME">this.selected</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2013</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2014</span> 
<span class='line'>2015</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2016</span> 	Get the selected flag of the checkbox.
<span class='line'>2017</span> 	@param  {void} Nothing
<span class='line'>2018</span> 	@return {boolean} If true then checkbox is selected and will show false otherwise
<span class='line'>2019</span> 	*/</span><span class="WHIT">
<span class='line'>2020</span> </span><span class="WHIT">	</span><span class="NAME">this.getSelected</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2021</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.selected</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2022</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2023</span> 
<span class='line'>2024</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2025</span> 	Get the text for checkbox.
<span class='line'>2026</span> 	@param  {void} Nothing
<span class='line'>2027</span> 	@return {string} The displayed text next to the checkbox
<span class='line'>2028</span> 	*/</span><span class="WHIT">
<span class='line'>2029</span> </span><span class="WHIT">    </span><span class="NAME">this.getText</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2030</span> </span><span class="WHIT">    		</span><span class="NAME">this.txt</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.lblTxt.getText</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2031</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.txt</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2032</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2033</span> 
<span class='line'>2034</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2035</span> 	Set the text for checkbox.
<span class='line'>2036</span> 	@param  {string} The displayed text next to the checkbox
<span class='line'>2037</span> 	@return {void} Nothing
<span class='line'>2038</span> 	*/</span><span class="WHIT">
<span class='line'>2039</span> </span><span class="WHIT">    </span><span class="NAME">this.setText</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">text</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2040</span> </span><span class="WHIT">  		</span><span class="NAME">this.txt</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">text</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2041</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.lblTxt.setText</span><span class="PUNC">(</span><span class="NAME">this.txt</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2042</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2043</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2044</span> 
<span class='line'>2045</span> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">arrRadioList</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Array</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2046</span> </span><span class="COMM">/**
<span class='line'>2047</span> The class drawing toggable radio buttons.
<span class='line'>2048</span> @class RadioButton
<span class='line'>2049</span> @augments Osmosis
<span class='line'>2050</span> @param  {object} plugin The monocleGL plugin object.
<span class='line'>2051</span> @param  {string} txt The string to be displayed in the radio button.
<span class='line'>2052</span> @param  {string} group The string use to group radio buttons together.
<span class='line'>2053</span> @param  {number} x The x position of the radio button.
<span class='line'>2054</span> @param  {number} y The y position of the radio button.
<span class='line'>2055</span> @param  {number} width The width of the radio button.
<span class='line'>2056</span> @param  {number} height The height of the radio button.
<span class='line'>2057</span> @return {void} Nothing
<span class='line'>2058</span> */</span><span class="WHIT">
<span class='line'>2059</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">RadioButton</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">txt</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">group</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2060</span> </span><span class="WHIT">	</span><span class="NAME">this.plugin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2061</span> 
<span class='line'>2062</span> </span><span class="WHIT">	</span><span class="COMM">// Add the radio button to the global list</span><span class="WHIT">
<span class='line'>2063</span> </span><span class="WHIT">    </span><span class="NAME">arrRadioList.push</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2064</span> 
<span class='line'>2065</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">txt</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.txt</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"RadioButton"</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.txt</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">txt</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2066</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">group</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.group</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"default"</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.group</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">group</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2067</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2068</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2069</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">width</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2070</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2071</span> 
<span class='line'>2072</span> </span><span class="WHIT">	</span><span class="COMM">// This boolean flag is the status of the check box</span><span class="WHIT">
<span class='line'>2073</span> </span><span class="WHIT">	</span><span class="NAME">this.selected</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2074</span> 
<span class='line'>2075</span> </span><span class="WHIT">	</span><span class="COMM">// Create a background label to add all the sprites and callbacks to</span><span class="WHIT">
<span class='line'>2076</span> </span><span class="WHIT">   	</span><span class="NAME">this.lblBG</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Label</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2077</span> </span><span class="WHIT">	</span><span class="NAME">this.lblBG.downCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"mouseClick"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2078</span> </span><span class="WHIT">   	</span><span class="NAME">this.lblBG.setColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2079</span> </span><span class="WHIT">    </span><span class="NAME">this.lblBG.setCaptionColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2080</span> </span><span class="WHIT">	</span><span class="NAME">this.lblBG.subscribe</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2081</span> 
<span class='line'>2082</span> </span><span class="WHIT">    </span><span class="COMM">// Set this object ID to be the same as the background label ID</span><span class="WHIT">
<span class='line'>2083</span> </span><span class="WHIT">   	</span><span class="NAME">this.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.lblBG.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2084</span> 
<span class='line'>2085</span> </span><span class="WHIT">	</span><span class="COMM">// Create the empty checkbox sprite</span><span class="WHIT">
<span class='line'>2086</span> </span><span class="WHIT">	</span><span class="COMM">// TODO Remove the http:// when the plugin has the images internally</span><span class="WHIT">
<span class='line'>2087</span> </span><span class="WHIT">   	</span><span class="NAME">this.sprOff</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"radioOff.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2088</span> 
<span class='line'>2089</span> </span><span class="WHIT">	</span><span class="COMM">// Create the checkmark sprite and make invisible</span><span class="WHIT">
<span class='line'>2090</span> </span><span class="WHIT">   	</span><span class="NAME">this.sprOn</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"radioOn.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2091</span> </span><span class="WHIT">   	</span><span class="NAME">this.sprOn.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2092</span> 
<span class='line'>2093</span> </span><span class="WHIT">	</span><span class="COMM">// Figure out the y offset based on the height</span><span class="WHIT">
<span class='line'>2094</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">txtY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2095</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">></span><span class="WHIT"> </span><span class="NUMB">16</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">txtY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">0.005</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2096</span> 
<span class='line'>2097</span> </span><span class="WHIT">	</span><span class="COMM">// Create the label which display the checkbox's text</span><span class="WHIT">
<span class='line'>2098</span> </span><span class="WHIT">   	</span><span class="NAME">this.lblTxt</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Label</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.txt</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">0.8</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">txtY</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2099</span> </span><span class="WHIT">	</span><span class="NAME">this.lblTxt.setColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2100</span> </span><span class="WHIT">    </span><span class="NAME">this.lblTxt.setCaptionColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2101</span> 
<span class='line'>2102</span> </span><span class="WHIT">	</span><span class="COMM">// Add everything to the background label</span><span class="WHIT">
<span class='line'>2103</span> </span><span class="WHIT">   	</span><span class="NAME">this.lblBG.addChild</span><span class="PUNC">(</span><span class="NAME">this.sprOff</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2104</span> </span><span class="WHIT">   	</span><span class="NAME">this.lblBG.addChild</span><span class="PUNC">(</span><span class="NAME">this.sprOn</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2105</span> </span><span class="WHIT">   	</span><span class="NAME">this.lblBG.addChild</span><span class="PUNC">(</span><span class="NAME">this.lblTxt</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2106</span> 
<span class='line'>2107</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2108</span> 	The callback that gets triggered whenever user clicks on the radio button.
<span class='line'>2109</span> 	@param  {number} x The x position of the mouse.
<span class='line'>2110</span> 	@param  {number} y The y position of the mouse.
<span class='line'>2111</span> 	@return {void} Nothing
<span class='line'>2112</span> 	*/</span><span class="WHIT">
<span class='line'>2113</span> </span><span class="WHIT">	</span><span class="NAME">this.mouseClick</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2114</span> </span><span class="WHIT">		</span><span class="NAME">this.setSelected</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2115</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2116</span> 
<span class='line'>2117</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2118</span> 	Set the selected flag and radio circle visibility.  This function will unselect any other radio buttons in the same group.
<span class='line'>2119</span> 	@param  {boolean} bool If true then set the radio circle to be visible and set invisibile.
<span class='line'>2120</span> 	@return {void} Nothing
<span class='line'>2121</span> 	*/</span><span class="WHIT">
<span class='line'>2122</span> </span><span class="WHIT">	</span><span class="NAME">this.setSelected</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">bool</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2123</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">bool</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2124</span> </span><span class="WHIT">			</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">arrRadioList.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2125</span> </span><span class="WHIT">				</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arrRadioList</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">group</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">this.group</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2126</span> </span><span class="WHIT">					</span><span class="NAME">arrRadioList</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">selected</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2127</span> </span><span class="WHIT">					</span><span class="NAME">arrRadioList</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">sprOn.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2128</span> </span><span class="WHIT">					</span><span class="NAME">arrRadioList</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">sprOff.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2129</span> </span><span class="WHIT">				</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2130</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2131</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2132</span> 
<span class='line'>2133</span> </span><span class="WHIT">		</span><span class="NAME">this.selected</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">bool</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2134</span> </span><span class="WHIT">		</span><span class="NAME">this.sprOn.setVisibility</span><span class="PUNC">(</span><span class="NAME">this.selected</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2135</span> </span><span class="WHIT">		</span><span class="NAME">this.sprOff.setVisibility</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.selected</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2136</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2137</span> 
<span class='line'>2138</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2139</span> 	Get the selected flag for this radio button.
<span class='line'>2140</span> 	@param  {void} Nothing
<span class='line'>2141</span> 	@return {boolean} If true then radio button is selected and will show false otherwise.
<span class='line'>2142</span> 	*/</span><span class="WHIT">
<span class='line'>2143</span> </span><span class="WHIT">	</span><span class="NAME">this.getSelected</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2144</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.selected</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2145</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2146</span> 
<span class='line'>2147</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2148</span> 	Get the text for the radio button.
<span class='line'>2149</span> 	@param  {void} Nothing
<span class='line'>2150</span> 	@return {string} The displayed text next to the radio button.
<span class='line'>2151</span> 	*/</span><span class="WHIT">
<span class='line'>2152</span> </span><span class="WHIT">    </span><span class="NAME">this.getText</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2153</span> </span><span class="WHIT">    		</span><span class="NAME">this.txt</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.lblTxt.getText</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2154</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.txt</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2155</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2156</span> 
<span class='line'>2157</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2158</span> 	Set the text for the radio button.
<span class='line'>2159</span> 	@param  {string} The displayed text next for the radio button.
<span class='line'>2160</span> 	@return {void} Nothing
<span class='line'>2161</span> 	*/</span><span class="WHIT">
<span class='line'>2162</span> </span><span class="WHIT">    </span><span class="NAME">this.setText</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">text</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2163</span> </span><span class="WHIT">  		</span><span class="NAME">this.txt</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">text</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2164</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.lblTxt.setText</span><span class="PUNC">(</span><span class="NAME">this.txt</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2165</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2166</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2167</span> 
<span class='line'>2168</span> </span><span class="COMM">/**
<span class='line'>2169</span> A wrapper class for accessing the physics object.
<span class='line'>2170</span> @class Physics
<span class='line'>2171</span> @param  {object} plugin The monocleGL plugin object.
<span class='line'>2172</span> @return {void} Nothing
<span class='line'>2173</span> */</span><span class="WHIT">
<span class='line'>2174</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">Physics</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2175</span> </span><span class="WHIT">	</span><span class="NAME">this.plugin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2176</span> 
<span class='line'>2177</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2178</span> 	Set the enviromental varibles for this scene.
<span class='line'>2179</span> 	@param  {string} command The command to send to the plugin.
<span class='line'>2180</span> 	@return {void} Nothing
<span class='line'>2181</span> 	*/</span><span class="WHIT">
<span class='line'>2182</span> </span><span class="WHIT">	</span><span class="NAME">this.setEnvironment</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">command</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2183</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.setEnvironment</span><span class="PUNC">(</span><span class="NAME">command</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2184</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2185</span> 
<span class='line'>2186</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2187</span> 	Add physics properties to this node.
<span class='line'>2188</span> 	@param  {object} node The node to add physics too.
<span class='line'>2189</span> 	@param  {string} command The command to send to the plugin.
<span class='line'>2190</span> 	@return {void} Nothing
<span class='line'>2191</span> 	*/</span><span class="WHIT">
<span class='line'>2192</span> </span><span class="WHIT">   	</span><span class="NAME">this.addPhysics</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">node</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">command</span><span class="PUNC">)</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2193</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.addPhysics</span><span class="PUNC">(</span><span class="NAME">node.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">command</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2194</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2195</span> 
<span class='line'>2196</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2197</span> 	Creates a named invisible physics line.
<span class='line'>2198</span> 	@param  {string} name The name used for referencing the physics line.
<span class='line'>2199</span> 	@param  {number} x1 The x1 position of the segment.
<span class='line'>2200</span> 	@param  {number} y1 The y1 position of the segment.
<span class='line'>2201</span> 	@param  {number} x2 The x2 position of the segment.
<span class='line'>2202</span> 	@param  {number} y2 The y2 position of the segment.
<span class='line'>2203</span> 	@return {void} Nothing
<span class='line'>2204</span> 	*/</span><span class="WHIT">
<span class='line'>2205</span> </span><span class="WHIT">	</span><span class="NAME">this.addSegment</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">name</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y2</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2206</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.addSegment</span><span class="PUNC">(</span><span class="NAME">name</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2207</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2208</span> 
<span class='line'>2209</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2210</span> 	Add a joint constraint between the parent node and the child node.
<span class='line'>2211</span> 	@param  {object} parent The parent node to constrain with the child node.
<span class='line'>2212</span> 	@param  {object} child The child node to constrain with the parent node.
<span class='line'>2213</span> 	@param  {string} command The command to send to the plugin.
<span class='line'>2214</span> 	@return {void} Nothing
<span class='line'>2215</span> 	*/</span><span class="WHIT">
<span class='line'>2216</span> </span><span class="WHIT">   	</span><span class="NAME">this.addJoint</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">parent</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">child</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">command</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2217</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">parent</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"NULL"</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">child</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"NULL"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2218</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2219</span> </span><span class="WHIT">   		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">parent</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"NULL"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2220</span> </span><span class="WHIT">   			</span><span class="NAME">this.plugin.addJoint</span><span class="PUNC">(</span><span class="NAME">parent</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">child.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">command</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2221</span> </span><span class="WHIT">   		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">child</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"NULL"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2222</span> </span><span class="WHIT">   			</span><span class="NAME">this.plugin.addJoint</span><span class="PUNC">(</span><span class="NAME">parent.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">child</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">command</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2223</span> </span><span class="WHIT">   		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2224</span> </span><span class="WHIT">   			</span><span class="NAME">this.plugin.addJoint</span><span class="PUNC">(</span><span class="NAME">parent.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">child.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">command</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2225</span> </span><span class="WHIT">   		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2226</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2227</span> 
<span class='line'>2228</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2229</span> 	Add a callback to be trigger when two nodes collide
<span class='line'>2230</span> 	@param  {object} nodeA The node to trigger a callback when it collides with node B
<span class='line'>2231</span> 	@param  {object} nodeB The node to trigger a callback when node A collides with this node
<span class='line'>2232</span> 	@param  {object} obj The object for JavaScript to call the callback on
<span class='line'>2233</span> 	@param  {string} callback The name of the function to call when a callback occurs
<span class='line'>2234</span> 	@return {void} Nothing
<span class='line'>2235</span> 	*/</span><span class="WHIT">
<span class='line'>2236</span> </span><span class="WHIT">   	</span><span class="NAME">this.addCollision</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">nodeA</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">nodeB</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">object</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2237</span> </span><span class="WHIT">        </span><span class="COMM">// Bind this callback</span><span class="WHIT">
<span class='line'>2238</span> </span><span class="WHIT">        </span><span class="NAME">nodeA.bind</span><span class="PUNC">(</span><span class="STRN">"physics_collision"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"node"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">nodeB.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">object</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2239</span> </span><span class="WHIT">        </span><span class="COMM">// Listen for physics collision events</span><span class="WHIT">
<span class='line'>2240</span> </span><span class="WHIT">        </span><span class="NAME">nodeA.listen</span><span class="PUNC">(</span><span class="STRN">"physics_collision"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2241</span> </span><span class="WHIT">        </span><span class="COMM">// Let the physics engine know that we are interested in these events</span><span class="WHIT">
<span class='line'>2242</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.addCollision</span><span class="PUNC">(</span><span class="NAME">nodeA.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">nodeB.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2243</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2244</span> 
<span class='line'>2245</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2246</span> 	Applies a force and velocity to this node.
<span class='line'>2247</span> 	@param  {object} node The node to add a force or velocity too.
<span class='line'>2248</span> 	@param  {number} fX The new x-axis force to be applied to this node.
<span class='line'>2249</span> 	@param  {number} fY The new y-axis force to be applied to this node.
<span class='line'>2250</span> 	@param  {number} vX The new x-axis velocity to be applied to this node.
<span class='line'>2251</span> 	@param  {number} vY The new y-axis velocity to be applied to this node.
<span class='line'>2252</span> 	@return {void} Nothing
<span class='line'>2253</span> 	*/</span><span class="WHIT">
<span class='line'>2254</span> </span><span class="WHIT">   	</span><span class="NAME">this.applyForce</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">node</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">fX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">fY</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">vX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">vY</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2255</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.addSegment</span><span class="PUNC">(</span><span class="NAME">node.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">fX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">fY</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">vX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">vY</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2256</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2257</span> 
<span class='line'>2258</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2259</span> 	Remove all physics properities from the passed node.
<span class='line'>2260</span> 	@param  {object} node The node to remove physics from.
<span class='line'>2261</span> 	@return {void} Nothing
<span class='line'>2262</span> 	*/</span><span class="WHIT">
<span class='line'>2263</span> </span><span class="WHIT">   	</span><span class="NAME">this.removePhysics</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">node</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2264</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.removePhysics</span><span class="PUNC">(</span><span class="NAME">node.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2265</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2266</span> 
<span class='line'>2267</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2268</span> 	Removes a named invisible physic line
<span class='line'>2269</span> 	@param  {string} name The name of physics line(s) to remove
<span class='line'>2270</span> 	@return {void} Nothing
<span class='line'>2271</span> 	*/</span><span class="WHIT">
<span class='line'>2272</span> </span><span class="WHIT">	</span><span class="NAME">this.removeSegment</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">name</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2273</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.removeSegment</span><span class="PUNC">(</span><span class="NAME">name</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2274</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2275</span> 
<span class='line'>2276</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2277</span> 	Remove the joint constraint between the parent and child node.
<span class='line'>2278</span> 	@param  {object} parent The parent node to remove the constrain from.
<span class='line'>2279</span> 	@param  {object} child The child node to remove the constrain from.
<span class='line'>2280</span> 	@return {void} Nothing
<span class='line'>2281</span> 	*/</span><span class="WHIT">
<span class='line'>2282</span> </span><span class="WHIT">   	</span><span class="NAME">this.removeJoint</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">parent</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">child</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2283</span> </span><span class="WHIT">   		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">parent</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"NULL"</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">child</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"NULL"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2284</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2285</span> </span><span class="WHIT">   		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">parent</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"NULL"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2286</span> </span><span class="WHIT">   			</span><span class="NAME">this.plugin.removeJoint</span><span class="PUNC">(</span><span class="NAME">parent</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">child.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2287</span> </span><span class="WHIT">   		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">child</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"NULL"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2288</span> </span><span class="WHIT">   			</span><span class="NAME">this.plugin.removeJoint</span><span class="PUNC">(</span><span class="NAME">parent.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">child</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2289</span> </span><span class="WHIT">   		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2290</span> </span><span class="WHIT">   			</span><span class="NAME">this.plugin.removeJoint</span><span class="PUNC">(</span><span class="NAME">parent.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">child.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2291</span> </span><span class="WHIT">   		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2292</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2293</span> 
<span class='line'>2294</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2295</span> 	Remove the joint constraint between nodeA and nodeB.
<span class='line'>2296</span> 	@param  {object} nodeA The node pair to remove collision callback from
<span class='line'>2297</span> 	@param  {object} nodeB The node pair to remove collision callback from
<span class='line'>2298</span> 	@return {void} Nothing
<span class='line'>2299</span> 	*/</span><span class="WHIT">
<span class='line'>2300</span> </span><span class="WHIT">   	</span><span class="NAME">this.removeCollision</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">nodeA</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">nodeB</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2301</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.removeCollision</span><span class="PUNC">(</span><span class="NAME">nodeA.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">nodeB.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2302</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2303</span> 
<span class='line'>2304</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2305</span> 	Remove all physics properities from everything.
<span class='line'>2306</span> 	@param  {void} Nothing
<span class='line'>2307</span> 	@return {void} Nothing
<span class='line'>2308</span> 	*/</span><span class="WHIT">
<span class='line'>2309</span> </span><span class="WHIT">   	</span><span class="NAME">this.removeAllPhysics</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2310</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.removeAllPhysics</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2311</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2312</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2313</span> 
<span class='line'>2314</span> </span><span class="COMM">/**
<span class='line'>2315</span> A wrapper class for accessing the tweener object.
<span class='line'>2316</span> @class Tweener
<span class='line'>2317</span> @param  {object} plugin The monocleGL plugin object.
<span class='line'>2318</span> @return {void} Nothing
<span class='line'>2319</span> */</span><span class="WHIT">
<span class='line'>2320</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">Tweener</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2321</span> </span><span class="WHIT">	</span><span class="NAME">this.plugin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2322</span> 
<span class='line'>2323</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2324</span> 	Add a tween command to the node to change it's members over time.
<span class='line'>2325</span> 	@param  {object} node The node to add the tween to.
<span class='line'>2326</span> 	@param  {string} command The command to send to the plugin
<span class='line'>2327</span> 	@param  {object} obj (optional) The object for JavaScript to call the callback on
<span class='line'>2328</span> 	@param  {string} callback (optional) The name of the function to call when a callback occurs
<span class='line'>2329</span> 	@return {void} Nothing
<span class='line'>2330</span> 	*/</span><span class="WHIT">
<span class='line'>2331</span> </span><span class="WHIT">	</span><span class="NAME">this.addTween</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">node</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">command</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2332</span> </span><span class="WHIT">   		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">tween_id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.plugin.addTween</span><span class="PUNC">(</span><span class="NAME">node.id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">command</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2333</span> </span><span class="WHIT">        </span><span class="NAME">node.bind</span><span class="PUNC">(</span><span class="STRN">"tween_finished"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="STRN">"tween_id"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">tween_id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"obj"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"func"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2334</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2335</span> 
<span class='line'>2336</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2337</span> 	Remove all the tweens for this node.  Any animations in mid action will stop.
<span class='line'>2338</span> 	@param  {object} node The node to remove tween from.
<span class='line'>2339</span> 	@return {void} Nothing
<span class='line'>2340</span> 	*/</span><span class="WHIT">
<span class='line'>2341</span> </span><span class="WHIT">   	</span><span class="NAME">this.removeTween</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">node</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2342</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.removeTween</span><span class="PUNC">(</span><span class="NAME">node.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2343</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2344</span> 
<span class='line'>2345</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2346</span> 	Pause all the tweens for this node.
<span class='line'>2347</span> 	@param  {object} node The node to pause the current tweens.
<span class='line'>2348</span> 	@return {void} Nothing
<span class='line'>2349</span> 	*/</span><span class="WHIT">
<span class='line'>2350</span> </span><span class="WHIT">	</span><span class="NAME">this.pauseTween</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">node</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2351</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.pauseTween</span><span class="PUNC">(</span><span class="NAME">node.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2352</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2353</span> 
<span class='line'>2354</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2355</span> 	Resume all the tweens for this node.
<span class='line'>2356</span> 	@param  {object} node The node to resume the current tweens.
<span class='line'>2357</span> 	@return {void} Nothing
<span class='line'>2358</span> 	*/</span><span class="WHIT">
<span class='line'>2359</span> </span><span class="WHIT">   	</span><span class="NAME">this.resumeTween</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">node</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2360</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.resumeTween</span><span class="PUNC">(</span><span class="NAME">node.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2361</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2362</span> 
<span class='line'>2363</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2364</span> 	Remove all the tweens from every node.
<span class='line'>2365</span> 	@param  {void} Nothing
<span class='line'>2366</span> 	@return {void} Nothing
<span class='line'>2367</span> 	*/</span><span class="WHIT">
<span class='line'>2368</span> </span><span class="WHIT">   	</span><span class="NAME">this.removeAllTweens</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2369</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.removeAllTweens</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2370</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2371</span> 
<span class='line'>2372</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2373</span> 	Pause all the tweens from every node.
<span class='line'>2374</span> 	@param  {void} Nothing
<span class='line'>2375</span> 	@return {void} Nothing
<span class='line'>2376</span> 	*/</span><span class="WHIT">
<span class='line'>2377</span> </span><span class="WHIT">	</span><span class="NAME">this.pauseAllTweens</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2378</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.pauseAllTweens</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2379</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2380</span> 
<span class='line'>2381</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2382</span> 	Resume all the tweens from every node.
<span class='line'>2383</span> 	@param  {void} Nothing
<span class='line'>2384</span> 	@return {void} Nothing
<span class='line'>2385</span> 	*/</span><span class="WHIT">
<span class='line'>2386</span> </span><span class="WHIT">   	</span><span class="NAME">this.resumeAllTweens</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2387</span> </span><span class="WHIT">   		</span><span class="NAME">this.plugin.resumeAllTweens</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2388</span> </span><span class="WHIT">   	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2389</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2390</span> 
<span class='line'>2391</span> </span><span class="COMM">// Setup class protoypes</span><span class="WHIT">
<span class='line'>2392</span> </span><span class="NAME">BaseSprite.prototype</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Osmosis</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2393</span> </span><span class="NAME">Sprite.prototype</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">BaseSprite</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2394</span> </span><span class="NAME">BaseLabel.prototype</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Osmosis</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2395</span> </span><span class="NAME">Label.prototype</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">BaseLabel</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2396</span> </span><span class="NAME">Primitive.prototype</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Osmosis</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2397</span> </span><span class="NAME">Layer.prototype</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Osmosis</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2398</span> </span><span class="NAME">Scene.prototype</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Osmosis</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2399</span> </span><span class="NAME">DropDown.prototype</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Osmosis</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2400</span> </span><span class="NAME">ScrollBar.prototype</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Osmosis</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2401</span> </span><span class="NAME">Button.prototype</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">BaseSprite</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2402</span> </span><span class="NAME">TextBox.prototype</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">BaseLabel</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2403</span> </span><span class="NAME">Bezier.prototype</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Osmosis</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2404</span> </span><span class="NAME">Checkbox.prototype</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Osmosis</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2405</span> </span><span class="NAME">RadioButton.prototype</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Osmosis</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2406</span> </span><span class="NAME">Line.prototype</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Osmosis</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2407</span> </span><span class="COMM">/*! THM_point.js */</span><span class="WHIT">
<span class='line'>2408</span> </span><span class="COMM">// ---------------------------------------------------------------------</span><span class="WHIT">
<span class='line'>2409</span> </span><span class="COMM">// A two dimensional point class for MGL</span><span class="WHIT">
<span class='line'>2410</span> </span><span class="COMM">// Author: Ethan Greavette</span><span class="WHIT">
<span class='line'>2411</span> </span><span class="COMM">// Date: 7/07/2010</span><span class="WHIT">
<span class='line'>2412</span> </span><span class="COMM">// Comments: Contains a x,y point location</span><span class="WHIT">
<span class='line'>2413</span> </span><span class="COMM">// ---------------------------------------------------------------------</span><span class="WHIT">
<span class='line'>2414</span> 
<span class='line'>2415</span> </span><span class="COMM">/**
<span class='line'>2416</span> A class for representing a two dimensional point.
<span class='line'>2417</span> @class Point
<span class='line'>2418</span> @param  {number} passX The x position of the point
<span class='line'>2419</span> @param  {number} passY The y position of the point
<span class='line'>2420</span> @return {void} Nothing
<span class='line'>2421</span> */</span><span class="WHIT">
<span class='line'>2422</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">Point</span><span class="PUNC">(</span><span class="NAME">passX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">passY</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2423</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2424</span> </span><span class="WHIT">	</span><span class="COMM">// Optional parameter x, y default to 0</span><span class="WHIT">
<span class='line'>2425</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">passX</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">passX</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2426</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">passY</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">passY</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2427</span> 
<span class='line'>2428</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2429</span> 	This function checks if another point is equal to "this" one.
<span class='line'>2430</span> 	@param  {object} comparedPoint The point to compare "this" point to.
<span class='line'>2431</span> 	@return {boolean} True if this point equals the passed in point and false otherwise.
<span class='line'>2432</span> 	*/</span><span class="WHIT">
<span class='line'>2433</span> </span><span class="WHIT">	</span><span class="NAME">this.equals</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">comparedPoint</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2434</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">comparedPoint.y</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">comparedPoint.x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2435</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2436</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2437</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2438</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2439</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2440</span> 
<span class='line'>2441</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2442</span> 	Create a copy of this point and return it.
<span class='line'>2443</span> 	@param {void} Nothing.
<span class='line'>2444</span> 	@return {object} Returns a new copy of this point.
<span class='line'>2445</span> 	*/</span><span class="WHIT">
<span class='line'>2446</span> </span><span class="WHIT">	</span><span class="NAME">this.clone</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2447</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">tempPoint</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Point</span><span class="PUNC">(</span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="NAME">this.y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2448</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">tempPoint</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2449</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2450</span> 
<span class='line'>2451</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2452</span> 	Normalizes this point to be in between 0-1.
<span class='line'>2453</span> 	@param {void} Nothing.
<span class='line'>2454</span> 	@return {void} Nothing.
<span class='line'>2455</span> 	*/</span><span class="WHIT">
<span class='line'>2456</span> </span><span class="WHIT">	</span><span class="NAME">this.normalize</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2457</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">length</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Math.sqrt</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">*</span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">*</span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2458</span> </span><span class="WHIT">		</span><span class="NAME">this.x</span><span class="PUNC">=</span><span class="NAME">this.x</span><span class="PUNC">/</span><span class="NAME">length</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2459</span> </span><span class="WHIT">		</span><span class="NAME">this.y</span><span class="PUNC">=</span><span class="NAME">this.y</span><span class="PUNC">/</span><span class="NAME">length</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2460</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2461</span> 
<span class='line'>2462</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2463</span> 	Offset this point by the passed in numbers
<span class='line'>2464</span> 	@param  {number} passX The new x position to offset this point by.
<span class='line'>2465</span> 	@param  {number} passY The new y position to offset this point by.
<span class='line'>2466</span> 	@return {void} Nothing
<span class='line'>2467</span> 	*/</span><span class="WHIT">
<span class='line'>2468</span> </span><span class="WHIT">	</span><span class="NAME">this.offset</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">pass_dx</span><span class="PUNC">,</span><span class="NAME">pass_dy</span><span class="PUNC">)</span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2469</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">dx</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2470</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">dy</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2471</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">pass_dx</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">dx</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">dx</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">pass_dx</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2472</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">pass_dy</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">dy</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">dy</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">pass_dy</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2473</span> </span><span class="WHIT">		</span><span class="NAME">this.x</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">dx</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2474</span> </span><span class="WHIT">		</span><span class="NAME">this.y</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">dy</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2475</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2476</span> 
<span class='line'>2477</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2478</span> 	Return a string containing the x and y positions
<span class='line'>2479</span> 	@param {void} Nothing.
<span class='line'>2480</span> 	@return {string} The x and y positions in a formatted string
<span class='line'>2481</span> 	*/</span><span class="WHIT">
<span class='line'>2482</span> </span><span class="WHIT">	</span><span class="NAME">this.toString</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2483</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="STRN">"(x="</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">", y="</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">")"</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2484</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2485</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2486</span> 
<span class='line'>2487</span> </span><span class="COMM">/**
<span class='line'>2488</span> Create a new point inbetween the two points passed in and the ratio of the new point.
<span class='line'>2489</span> @class interpolatePoints
<span class='line'>2490</span> @param  {object} point1 The frist point to interpolate inbetween.
<span class='line'>2491</span> @param  {object} point2 The second point to interpolate inbetween.
<span class='line'>2492</span> @param	{number} f The ratio between (0-1) with 0 being point2 and 1 being point1.
<span class='line'>2493</span> @return {object} The new interpolated point.
<span class='line'>2494</span> */</span><span class="WHIT">
<span class='line'>2495</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">interpolatePoints</span><span class="PUNC">(</span><span class="NAME">point1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">point2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">f</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2496</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2497</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">interpolatedPoint</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Point</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2498</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">deltaX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">point2.x</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">point1.x</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2499</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">deltaY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">point2.y</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">point1.y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2500</span> 
<span class='line'>2501</span> </span><span class="WHIT">	</span><span class="NAME">interpolatedPoint.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">point2.x</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">deltaX</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NAME">f</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2502</span> </span><span class="WHIT">	</span><span class="NAME">interpolatedPoint.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">point2.y</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">deltaY</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NAME">f</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2503</span> 
<span class='line'>2504</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">interpolatedPoint</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2505</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2506</span> 
<span class='line'>2507</span> </span><span class="COMM">/**
<span class='line'>2508</span> Measures the distance inbetween the two points passed in.
<span class='line'>2509</span> @class distancePoints
<span class='line'>2510</span> @param  {object} point1 The frist point to measure from.
<span class='line'>2511</span> @param  {object} point2 The second point to measure to.
<span class='line'>2512</span> @return {number} The distance inbetween the two passed in points.
<span class='line'>2513</span> */</span><span class="WHIT">
<span class='line'>2514</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">distancePoints</span><span class="PUNC">(</span><span class="NAME">point1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">point2</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2515</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2516</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">distance</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2517</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">deltaX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">point2.x</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">point1.x</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2518</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">deltaY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">point2.y</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">point1.y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2519</span> 
<span class='line'>2520</span> </span><span class="WHIT">	</span><span class="NAME">distance</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Math.sqrt</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">deltaX</span><span class="PUNC">*</span><span class="NAME">deltaX</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">deltaY</span><span class="PUNC">*</span><span class="NAME">deltaY</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2521</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">distance</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2522</span> </span><span class="PUNC">}</span><span class="COMM">/*! THM_publisher_light.js */</span><span class="WHIT">
<span class='line'>2523</span> </span><span class="COMM">// ---------------------------------------------------------------------</span><span class="WHIT">
<span class='line'>2524</span> </span><span class="COMM">// The comunication layer between the demo and our server</span><span class="WHIT">
<span class='line'>2525</span> </span><span class="COMM">// Author: Ethan Greavette</span><span class="WHIT">
<span class='line'>2526</span> </span><span class="COMM">// Date: 7/07/2010</span><span class="WHIT">
<span class='line'>2527</span> </span><span class="COMM">// Comments: This is a "lite" version of the publisher used on our website.</span><span class="WHIT">
<span class='line'>2528</span> </span><span class="COMM">// ---------------------------------------------------------------------</span><span class="WHIT">
<span class='line'>2529</span> 
<span class='line'>2530</span> 
<span class='line'>2531</span> </span><span class="COMM">/*
<span class='line'>2532</span> Math.uuid.js (v1.4)
<span class='line'>2533</span> http://www.broofa.com
<span class='line'>2534</span> mailto:robert@broofa.com
<span class='line'>2535</span> 
<span class='line'>2536</span> Copyright (c) 2010 Robert Kieffer
<span class='line'>2537</span> Dual licensed under the MIT and GPL licenses.
<span class='line'>2538</span> */</span><span class="WHIT">
<span class='line'>2539</span> 
<span class='line'>2540</span> </span><span class="COMM">/*
<span class='line'>2541</span>  * Generate a random uuid.
<span class='line'>2542</span>  *
<span class='line'>2543</span>  * USAGE: Math.uuid(length, radix)
<span class='line'>2544</span>  *   length - the desired number of characters
<span class='line'>2545</span>  *   radix  - the number of allowable values for each character.
<span class='line'>2546</span>  *
<span class='line'>2547</span>  * EXAMPLES:
<span class='line'>2548</span>  *   // No arguments  - returns RFC4122, version 4 ID
<span class='line'>2549</span>  *   >>> Math.uuid()
<span class='line'>2550</span>  *   "92329D39-6F5C-4520-ABFC-AAB64544E172"
<span class='line'>2551</span>  *
<span class='line'>2552</span>  *   // One argument - returns ID of the specified length
<span class='line'>2553</span>  *   >>> Math.uuid(15)     // 15 character ID (default base=62)
<span class='line'>2554</span>  *   "VcydxgltxrVZSTV"
<span class='line'>2555</span>  *
<span class='line'>2556</span>  *   // Two arguments - returns ID of the specified length, and radix. (Radix must be &lt;= 62)
<span class='line'>2557</span>  *   >>> Math.uuid(8, 2)  // 8 character ID (base=2)
<span class='line'>2558</span>  *   "01001010"
<span class='line'>2559</span>  *   >>> Math.uuid(8, 10) // 8 character ID (base=10)
<span class='line'>2560</span>  *   "47473046"
<span class='line'>2561</span>  *   >>> Math.uuid(8, 16) // 8 character ID (base=16)
<span class='line'>2562</span>  *   "098F4D35"
<span class='line'>2563</span>  */</span><span class="WHIT">
<span class='line'>2564</span> </span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2565</span> </span><span class="WHIT">  </span><span class="COMM">// Private array of chars to use</span><span class="WHIT">
<span class='line'>2566</span> </span><span class="WHIT">  </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">CHARS</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'</span><span class="PUNC">.</span><span class="NAME">split</span><span class="PUNC">(</span><span class="STRN">''</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2567</span> 
<span class='line'>2568</span> </span><span class="WHIT">  </span><span class="NAME">Math.uuid</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">len</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">radix</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2569</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">chars</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">CHARS</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">uuid</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2570</span> </span><span class="WHIT">	</span><span class="NAME">radix</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">radix</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">chars.length</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2571</span> 
<span class='line'>2572</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">len</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2573</span> </span><span class="WHIT">	  </span><span class="COMM">// Compact form</span><span class="WHIT">
<span class='line'>2574</span> </span><span class="WHIT">	  </span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">len</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">uuid</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">chars</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">|</span><span class="WHIT"> </span><span class="NAME">Math.random</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">radix</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2575</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2576</span> </span><span class="WHIT">	  </span><span class="COMM">// rfc4122, version 4 form</span><span class="WHIT">
<span class='line'>2577</span> </span><span class="WHIT">	  </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">r</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2578</span> 
<span class='line'>2579</span> </span><span class="WHIT">	  </span><span class="COMM">// rfc4122 requires these characters</span><span class="WHIT">
<span class='line'>2580</span> </span><span class="WHIT">	  </span><span class="NAME">uuid</span><span class="PUNC">[</span><span class="NUMB">8</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">uuid</span><span class="PUNC">[</span><span class="NUMB">13</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">uuid</span><span class="PUNC">[</span><span class="NUMB">18</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">uuid</span><span class="PUNC">[</span><span class="NUMB">23</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'-'</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2581</span> </span><span class="WHIT">	  </span><span class="NAME">uuid</span><span class="PUNC">[</span><span class="NUMB">14</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'4'</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2582</span> 
<span class='line'>2583</span> </span><span class="WHIT">	  </span><span class="COMM">// Fill in random data.  At i==19 set the high bits of clock sequence as</span><span class="WHIT">
<span class='line'>2584</span> </span><span class="WHIT">	  </span><span class="COMM">// per rfc4122, sec. 4.1.5</span><span class="WHIT">
<span class='line'>2585</span> </span><span class="WHIT">	  </span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">36</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2586</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">uuid</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2587</span> </span><span class="WHIT">		  </span><span class="NAME">r</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">|</span><span class="WHIT"> </span><span class="NAME">Math.random</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">16</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2588</span> </span><span class="WHIT">		  </span><span class="NAME">uuid</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">chars</span><span class="PUNC">[</span><span class="PUNC">(</span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NUMB">19</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">r</span><span class="WHIT"> </span><span class="PUNC">&</span><span class="WHIT"> </span><span class="NUMB">0x3</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">|</span><span class="WHIT"> </span><span class="NUMB">0x8</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">r</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2589</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2590</span> </span><span class="WHIT">	  </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2591</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2592</span> 
<span class='line'>2593</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">uuid.join</span><span class="PUNC">(</span><span class="STRN">''</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2594</span> </span><span class="WHIT">  </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2595</span> 
<span class='line'>2596</span> </span><span class="WHIT">  </span><span class="COMM">// A more performant, but slightly bulkier, RFC4122v4 solution.  We boost performance</span><span class="WHIT">
<span class='line'>2597</span> </span><span class="WHIT">  </span><span class="COMM">// by minimizing calls to random()</span><span class="WHIT">
<span class='line'>2598</span> </span><span class="WHIT">  </span><span class="NAME">Math.uuidFast</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2599</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">chars</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">CHARS</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">uuid</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Array</span><span class="PUNC">(</span><span class="NUMB">36</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rnd</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">r</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2600</span> </span><span class="WHIT">	</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">36</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2601</span> </span><span class="WHIT">	  </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">==</span><span class="NUMB">8</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">==</span><span class="NUMB">13</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT">  </span><span class="NAME">i</span><span class="PUNC">==</span><span class="NUMB">18</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">==</span><span class="NUMB">23</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2602</span> </span><span class="WHIT">		</span><span class="NAME">uuid</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'-'</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2603</span> </span><span class="WHIT">	  </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">==</span><span class="NUMB">14</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2604</span> </span><span class="WHIT">		</span><span class="NAME">uuid</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'4'</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2605</span> </span><span class="WHIT">	  </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2606</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">rnd</span><span class="WHIT"> </span><span class="PUNC">&lt;=</span><span class="WHIT"> </span><span class="NUMB">0x02</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">rnd</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0x2000000</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">Math.random</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">0x1000000</span><span class="PUNC">)</span><span class="PUNC">|</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2607</span> </span><span class="WHIT">		</span><span class="NAME">r</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rnd</span><span class="WHIT"> </span><span class="PUNC">&</span><span class="WHIT"> </span><span class="NUMB">0xf</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2608</span> </span><span class="WHIT">		</span><span class="NAME">rnd</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rnd</span><span class="WHIT"> </span><span class="PUNC">>></span><span class="WHIT"> </span><span class="NUMB">4</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2609</span> </span><span class="WHIT">		</span><span class="NAME">uuid</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">chars</span><span class="PUNC">[</span><span class="PUNC">(</span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NUMB">19</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">r</span><span class="WHIT"> </span><span class="PUNC">&</span><span class="WHIT"> </span><span class="NUMB">0x3</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">|</span><span class="WHIT"> </span><span class="NUMB">0x8</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">r</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2610</span> </span><span class="WHIT">	  </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2611</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2612</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">uuid.join</span><span class="PUNC">(</span><span class="STRN">''</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2613</span> </span><span class="WHIT">  </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2614</span> 
<span class='line'>2615</span> </span><span class="WHIT">  </span><span class="COMM">// A more compact, but less performant, RFC4122v4 solution:</span><span class="WHIT">
<span class='line'>2616</span> </span><span class="WHIT">  </span><span class="NAME">Math.uuidCompact</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2617</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="STRN">'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/[xy]/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">c</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2618</span> </span><span class="WHIT">	  </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">r</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Math.random</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">16</span><span class="PUNC">|</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">v</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">c</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="STRN">'x'</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">r</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">r</span><span class="PUNC">&</span><span class="NUMB">0x3</span><span class="PUNC">|</span><span class="NUMB">0x8</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2619</span> </span><span class="WHIT">	  </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">v.toString</span><span class="PUNC">(</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2620</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">toUpperCase</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2621</span> </span><span class="WHIT">  </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2622</span> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2623</span> 
<span class='line'>2624</span> </span><span class="COMM">// If no jQuery then don't load server code</span><span class="WHIT">
<span class='line'>2625</span> </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">jQuery</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"undefined"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2626</span> </span><span class="WHIT">	</span><span class="COMM">/*************************
<span class='line'>2627</span> 	jquery-json
<span class='line'>2628</span> 	*************************/</span><span class="WHIT">
<span class='line'>2629</span> 
<span class='line'>2630</span> </span><span class="WHIT">	</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">$.toJSON</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">o</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2631</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">type</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2632</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="PUNC">(</span><span class="NAME">JSON</span><span class="PUNC">)</span><span class="PUNC">==</span><span class="STRN">'object'</span><span class="PUNC">&&</span><span class="NAME">JSON.stringify</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2633</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">JSON.stringify</span><span class="PUNC">(</span><span class="NAME">o</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">type</span><span class="PUNC">=</span><span class="KEYW">typeof</span><span class="PUNC">(</span><span class="NAME">o</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">o</span><span class="PUNC">===</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2634</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="STRN">"null"</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">type</span><span class="PUNC">==</span><span class="STRN">"undefined"</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2635</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">type</span><span class="PUNC">==</span><span class="STRN">"number"</span><span class="PUNC">||</span><span class="NAME">type</span><span class="PUNC">==</span><span class="STRN">"boolean"</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2636</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">o</span><span class="PUNC">+</span><span class="STRN">""</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">type</span><span class="PUNC">==</span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2637</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">$.quoteString</span><span class="PUNC">(</span><span class="NAME">o</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">type</span><span class="PUNC">==</span><span class="STRN">'object'</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2638</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">o.toJSON</span><span class="PUNC">==</span><span class="STRN">"function"</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2639</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">$.toJSON</span><span class="PUNC">(</span><span class="NAME">o.toJSON</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">o.constructor</span><span class="PUNC">===</span><span class="NAME">Date</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2640</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">month</span><span class="PUNC">=</span><span class="NAME">o.getUTCMonth</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">month</span><span class="PUNC">&lt;</span><span class="NUMB">10</span><span class="PUNC">)</span><span class="NAME">month</span><span class="PUNC">=</span><span class="STRN">'0'</span><span class="PUNC">+</span><span class="NAME">month</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">day</span><span class="PUNC">=</span><span class="NAME">o.getUTCDate</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">day</span><span class="PUNC">&lt;</span><span class="NUMB">10</span><span class="PUNC">)</span><span class="NAME">day</span><span class="PUNC">=</span><span class="STRN">'0'</span><span class="PUNC">+</span><span class="NAME">day</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">year</span><span class="PUNC">=</span><span class="NAME">o.getUTCFullYear</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">hours</span><span class="PUNC">=</span><span class="NAME">o.getUTCHours</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">hours</span><span class="PUNC">&lt;</span><span class="NUMB">10</span><span class="PUNC">)</span><span class="NAME">hours</span><span class="PUNC">=</span><span class="STRN">'0'</span><span class="PUNC">+</span><span class="NAME">hours</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">minutes</span><span class="PUNC">=</span><span class="NAME">o.getUTCMinutes</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">minutes</span><span class="PUNC">&lt;</span><span class="NUMB">10</span><span class="PUNC">)</span><span class="NAME">minutes</span><span class="PUNC">=</span><span class="STRN">'0'</span><span class="PUNC">+</span><span class="NAME">minutes</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">seconds</span><span class="PUNC">=</span><span class="NAME">o.getUTCSeconds</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">seconds</span><span class="PUNC">&lt;</span><span class="NUMB">10</span><span class="PUNC">)</span><span class="NAME">seconds</span><span class="PUNC">=</span><span class="STRN">'0'</span><span class="PUNC">+</span><span class="NAME">seconds</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">milli</span><span class="PUNC">=</span><span class="NAME">o.getUTCMilliseconds</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">milli</span><span class="PUNC">&lt;</span><span class="NUMB">100</span><span class="PUNC">)</span><span class="NAME">milli</span><span class="PUNC">=</span><span class="STRN">'0'</span><span class="PUNC">+</span><span class="NAME">milli</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">milli</span><span class="PUNC">&lt;</span><span class="NUMB">10</span><span class="PUNC">)</span><span class="NAME">milli</span><span class="PUNC">=</span><span class="STRN">'0'</span><span class="PUNC">+</span><span class="NAME">milli</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="STRN">'"'</span><span class="PUNC">+</span><span class="NAME">year</span><span class="PUNC">+</span><span class="STRN">'-'</span><span class="PUNC">+</span><span class="NAME">month</span><span class="PUNC">+</span><span class="STRN">'-'</span><span class="PUNC">+</span><span class="NAME">day</span><span class="PUNC">+</span><span class="STRN">'T'</span><span class="PUNC">+</span><span class="WHIT">
<span class='line'>2641</span> </span><span class="WHIT">	</span><span class="NAME">hours</span><span class="PUNC">+</span><span class="STRN">':'</span><span class="PUNC">+</span><span class="NAME">minutes</span><span class="PUNC">+</span><span class="STRN">':'</span><span class="PUNC">+</span><span class="NAME">seconds</span><span class="PUNC">+</span><span class="STRN">'.'</span><span class="PUNC">+</span><span class="NAME">milli</span><span class="PUNC">+</span><span class="STRN">'Z"'</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2642</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">o.constructor</span><span class="PUNC">===</span><span class="NAME">Array</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2643</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ret</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">&lt;</span><span class="NAME">o.length</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2644</span> </span><span class="WHIT">	</span><span class="NAME">ret.push</span><span class="PUNC">(</span><span class="NAME">$.toJSON</span><span class="PUNC">(</span><span class="NAME">o</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="STRN">"null"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="STRN">"["</span><span class="PUNC">+</span><span class="NAME">ret.join</span><span class="PUNC">(</span><span class="STRN">","</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="STRN">"]"</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2645</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">pairs</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">k</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">o</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">name</span><span class="PUNC">;</span><span class="NAME">type</span><span class="PUNC">=</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">k</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">type</span><span class="PUNC">==</span><span class="STRN">"number"</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2646</span> </span><span class="WHIT">	</span><span class="NAME">name</span><span class="PUNC">=</span><span class="STRN">'"'</span><span class="PUNC">+</span><span class="NAME">k</span><span class="PUNC">+</span><span class="STRN">'"'</span><span class="PUNC">;</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">type</span><span class="PUNC">==</span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2647</span> </span><span class="WHIT">	</span><span class="NAME">name</span><span class="PUNC">=</span><span class="NAME">$.quoteString</span><span class="PUNC">(</span><span class="NAME">k</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">else</span><span class="WHIT">
<span class='line'>2648</span> </span><span class="WHIT">	</span><span class="KEYW">continue</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">o</span><span class="PUNC">[</span><span class="NAME">k</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"function"</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2649</span> </span><span class="WHIT">	</span><span class="KEYW">continue</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">=</span><span class="NAME">$.toJSON</span><span class="PUNC">(</span><span class="NAME">o</span><span class="PUNC">[</span><span class="NAME">k</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">pairs.push</span><span class="PUNC">(</span><span class="NAME">name</span><span class="PUNC">+</span><span class="STRN">":"</span><span class="PUNC">+</span><span class="NAME">val</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2650</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="STRN">"{"</span><span class="PUNC">+</span><span class="NAME">pairs.join</span><span class="PUNC">(</span><span class="STRN">", "</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="STRN">"}"</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">$.evalJSON</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">src</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2651</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="PUNC">(</span><span class="NAME">JSON</span><span class="PUNC">)</span><span class="PUNC">==</span><span class="STRN">'object'</span><span class="PUNC">&&</span><span class="NAME">JSON.parse</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2652</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">JSON.parse</span><span class="PUNC">(</span><span class="NAME">src</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">eval</span><span class="PUNC">(</span><span class="STRN">"("</span><span class="PUNC">+</span><span class="NAME">src</span><span class="PUNC">+</span><span class="STRN">")"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">$.secureEvalJSON</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">src</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2653</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="PUNC">(</span><span class="NAME">JSON</span><span class="PUNC">)</span><span class="PUNC">==</span><span class="STRN">'object'</span><span class="PUNC">&&</span><span class="NAME">JSON.parse</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2654</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">JSON.parse</span><span class="PUNC">(</span><span class="NAME">src</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">filtered</span><span class="PUNC">=</span><span class="NAME">src</span><span class="PUNC">;</span><span class="NAME">filtered</span><span class="PUNC">=</span><span class="NAME">filtered.replace</span><span class="PUNC">(</span><span class="REGX">/\\["\\\/bfnrtu]/g</span><span class="PUNC">,</span><span class="STRN">'@'</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">filtered</span><span class="PUNC">=</span><span class="NAME">filtered.replace</span><span class="PUNC">(</span><span class="REGX">/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g</span><span class="PUNC">,</span><span class="STRN">']'</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">filtered</span><span class="PUNC">=</span><span class="NAME">filtered.replace</span><span class="PUNC">(</span><span class="REGX">/(?:^|:|,)(?:\s*\[)+/g</span><span class="PUNC">,</span><span class="STRN">''</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="REGX">/^[\],:{}\s]*$/</span><span class="PUNC">.</span><span class="NAME">test</span><span class="PUNC">(</span><span class="NAME">filtered</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2655</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">eval</span><span class="PUNC">(</span><span class="STRN">"("</span><span class="PUNC">+</span><span class="NAME">src</span><span class="PUNC">+</span><span class="STRN">")"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">else</span><span class="WHIT">
<span class='line'>2656</span> </span><span class="WHIT">	</span><span class="KEYW">throw</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SyntaxError</span><span class="PUNC">(</span><span class="STRN">"Error parsing JSON, source is not valid."</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">$.quoteString</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">string</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2657</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">string.match</span><span class="PUNC">(</span><span class="NAME">_escapeable</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2658</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="STRN">'"'</span><span class="PUNC">+</span><span class="NAME">string.replace</span><span class="PUNC">(</span><span class="NAME">_escapeable</span><span class="PUNC">,</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>2659</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">c</span><span class="PUNC">=</span><span class="NAME">_meta</span><span class="PUNC">[</span><span class="NAME">a</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">c</span><span class="PUNC">===</span><span class="STRN">'string'</span><span class="PUNC">)</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">c</span><span class="PUNC">;</span><span class="NAME">c</span><span class="PUNC">=</span><span class="NAME">a.charCodeAt</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="STRN">'\\u00'</span><span class="PUNC">+</span><span class="NAME">Math.floor</span><span class="PUNC">(</span><span class="NAME">c</span><span class="PUNC">/</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">toString</span><span class="PUNC">(</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">c</span><span class="PUNC">%</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">toString</span><span class="PUNC">(</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="STRN">'"'</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2660</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="STRN">'"'</span><span class="PUNC">+</span><span class="NAME">string</span><span class="PUNC">+</span><span class="STRN">'"'</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">_escapeable</span><span class="PUNC">=</span><span class="REGX">/["\\\x00-\x1f\x7f-\x9f]/g</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">_meta</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="STRN">'\b'</span><span class="PUNC">:</span><span class="STRN">'\\b'</span><span class="PUNC">,</span><span class="STRN">'\t'</span><span class="PUNC">:</span><span class="STRN">'\\t'</span><span class="PUNC">,</span><span class="STRN">'\n'</span><span class="PUNC">:</span><span class="STRN">'\\n'</span><span class="PUNC">,</span><span class="STRN">'\f'</span><span class="PUNC">:</span><span class="STRN">'\\f'</span><span class="PUNC">,</span><span class="STRN">'\r'</span><span class="PUNC">:</span><span class="STRN">'\\r'</span><span class="PUNC">,</span><span class="STRN">'"'</span><span class="PUNC">:</span><span class="STRN">'\\"'</span><span class="PUNC">,</span><span class="STRN">'\\'</span><span class="PUNC">:</span><span class="STRN">'\\\\'</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">(</span><span class="NAME">jQuery</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2661</span> 
<span class='line'>2662</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2663</span> 	An ajax push for when a demo questions is answered
<span class='line'>2664</span> 	@class submit_demo_quiz_answer
<span class='line'>2665</span> 	@param  {string} demo_name The name of this demo
<span class='line'>2666</span> 	@param  {string} quiz_name The name of the question in this demo being answered
<span class='line'>2667</span> 	@param  {boolean} is_correct True if the answer was correct and false otherwise
<span class='line'>2668</span> 	@param  {object} callback The function to call on success
<span class='line'>2669</span> 	@return {void} Nothing
<span class='line'>2670</span> 	*/</span><span class="WHIT">
<span class='line'>2671</span> </span><span class="WHIT">	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">submit_demo_quiz_answer</span><span class="PUNC">(</span><span class="NAME">demo_name</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">quiz_name</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">is_correct</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2672</span> </span><span class="WHIT">	    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">uuid</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Math.uuid</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2673</span> </span><span class="WHIT">	    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">timestamp</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">timestamp</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Date</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getTime</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">1000.0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2674</span> </span><span class="WHIT">	    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">publisherURL</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"http://"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">targetURL</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/epublisher/"</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2675</span> </span><span class="WHIT">	    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">data</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2676</span> </span><span class="WHIT">	        </span><span class="STRN">"module_id"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"demo"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2677</span> </span><span class="WHIT">	        </span><span class="STRN">"command_id"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"student_submit_demo_question_answer"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2678</span> </span><span class="WHIT">	        </span><span class="STRN">"command_uuid"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">uuid</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2679</span> </span><span class="WHIT">	        </span><span class="STRN">"timestamp"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">timestamp</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2680</span> </span><span class="WHIT">	        </span><span class="STRN">"data"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2681</span> </span><span class="WHIT">	        </span><span class="STRN">"args"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2682</span> </span><span class="WHIT">	            </span><span class="STRN">"demo_name"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">demo_name</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2683</span> </span><span class="WHIT">	            </span><span class="STRN">"question_name"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">quiz_name</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2684</span> </span><span class="WHIT">	            </span><span class="STRN">"is_correct"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">is_correct</span><span class="WHIT">
<span class='line'>2685</span> </span><span class="WHIT">	        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2686</span> </span><span class="WHIT">	    </span><span class="PUNC">}</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2687</span> </span><span class="WHIT">	    </span><span class="NAME">data</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">$.toJSON</span><span class="PUNC">(</span><span class="NAME">data</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2688</span> </span><span class="WHIT">	    </span><span class="NAME">$.ajax</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2689</span> </span><span class="WHIT">	        </span><span class="STRN">"url"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">publisherURL</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2690</span> </span><span class="WHIT">	        </span><span class="STRN">"type"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"POST"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2691</span> </span><span class="WHIT">	        </span><span class="STRN">"data"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">data</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">data</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2692</span> </span><span class="WHIT">	        </span><span class="STRN">"success"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="WHIT">
<span class='line'>2693</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2694</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2695</span> 
<span class='line'>2696</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2697</span> 	An ajax push the register new questions.
<span class='line'>2698</span> 	@class submit_demo_quiz_answer
<span class='line'>2699</span> 	@param  {string} demo_name The name of this demo.
<span class='line'>2700</span> 	@param  {number} number_of_questions The total number of quizzes in this demo.
<span class='line'>2701</span> 	@param  {array} quiz_names The array of all the question names in this demo.
<span class='line'>2702</span> 	@return {boolean} Returns true if user has teacher role and false otherwise.
<span class='line'>2703</span> 	*/</span><span class="WHIT">
<span class='line'>2704</span> </span><span class="WHIT">	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">register_questions</span><span class="PUNC">(</span><span class="NAME">demo_name</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">number_of_questions</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">question_names</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2705</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">window.site_data</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"undefined"</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2706</span> </span><span class="WHIT">        		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">window.site_data.settings.THM_USER_ROLE</span><span class="WHIT">  </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"teacher"</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2707</span> 
<span class='line'>2708</span> </span><span class="WHIT">			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">uuid</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Math.uuid</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2709</span> </span><span class="WHIT">			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">timestamp</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">timestamp</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Date</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getTime</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">1000.0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2710</span> </span><span class="WHIT">			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">publisherURL</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"http://"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">targetURL</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/epublisher/"</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2711</span> </span><span class="WHIT">			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">data</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2712</span> </span><span class="WHIT">			    </span><span class="STRN">"module_id"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"demo"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2713</span> </span><span class="WHIT">			    </span><span class="STRN">"command_id"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"add_demo_questions"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2714</span> </span><span class="WHIT">			    </span><span class="STRN">"command_uuid"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">uuid</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2715</span> </span><span class="WHIT">			    </span><span class="STRN">"timestamp"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">timestamp</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2716</span> </span><span class="WHIT">			    </span><span class="STRN">"data"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2717</span> </span><span class="WHIT">			    </span><span class="STRN">"args"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2718</span> </span><span class="WHIT">			        </span><span class="STRN">"demo_target_id"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">demo_name</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2719</span> </span><span class="WHIT">			        </span><span class="STRN">"array_of_demo_question_names"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">question_names</span><span class="WHIT">
<span class='line'>2720</span> </span><span class="WHIT">			    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2721</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2722</span> </span><span class="WHIT">			</span><span class="NAME">data</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">$.toJSON</span><span class="PUNC">(</span><span class="NAME">data</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2723</span> </span><span class="WHIT">			</span><span class="NAME">$.ajax</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2724</span> </span><span class="WHIT">			    </span><span class="STRN">"url"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">publisherURL</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2725</span> </span><span class="WHIT">			    </span><span class="STRN">"type"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"POST"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>2726</span> </span><span class="WHIT">			    </span><span class="STRN">"data"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">data</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">data</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2727</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2728</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2729</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2730</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2731</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2732</span> </span><span class="COMM">/*! THM_rectangle.js */</span><span class="WHIT">
<span class='line'>2733</span> </span><span class="COMM">// ---------------------------------------------------------------------</span><span class="WHIT">
<span class='line'>2734</span> </span><span class="COMM">// A two dimensional rectangle class for MGL</span><span class="WHIT">
<span class='line'>2735</span> </span><span class="COMM">// Author: Ethan Greavette</span><span class="WHIT">
<span class='line'>2736</span> </span><span class="COMM">// Date: 7/07/2010</span><span class="WHIT">
<span class='line'>2737</span> </span><span class="COMM">// Comments: Contain a x, y, width and height box</span><span class="WHIT">
<span class='line'>2738</span> </span><span class="COMM">// ---------------------------------------------------------------------</span><span class="WHIT">
<span class='line'>2739</span> 
<span class='line'>2740</span> </span><span class="COMM">/**
<span class='line'>2741</span> A class for representing a two dimensional rectangle.
<span class='line'>2742</span> @class Rectangle
<span class='line'>2743</span> @param  {number} passX The x position of the rectangle.
<span class='line'>2744</span> @param  {number} passY The y position of the rectangle.
<span class='line'>2745</span> @param  {number} passW The width of the rectangle.
<span class='line'>2746</span> @param  {number} passH The height of the rectangle.
<span class='line'>2747</span> @return {void} Nothing
<span class='line'>2748</span> */</span><span class="WHIT">
<span class='line'>2749</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">Rectangle</span><span class="PUNC">(</span><span class="NAME">passX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">passY</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">passW</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">passH</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2750</span> 
<span class='line'>2751</span> </span><span class="WHIT">	</span><span class="COMM">// Optional parameter default to default to 0</span><span class="WHIT">
<span class='line'>2752</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">passX</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">passX</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2753</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">passY</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">passY</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2754</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">passW</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">passW</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2755</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">passH</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">passH</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2756</span> 
<span class='line'>2757</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2758</span> 	Checks if two rectangles intersect.
<span class='line'>2759</span> 	@param  {object} passRect The rectangle to test against this rectangle.
<span class='line'>2760</span> 	@return {boolean} Return true if the rectangles intersect or false otherwise.
<span class='line'>2761</span> 	*/</span><span class="WHIT">
<span class='line'>2762</span> </span><span class="WHIT">	</span><span class="NAME">this.intersects</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">passRect</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2763</span> </span><span class="WHIT">	    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">passRect.x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">passRect.x</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">passRect.width</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">passRect.y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">passRect.y</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">passRect.height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2764</span> </span><span class="WHIT">		   </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2765</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2766</span> </span><span class="WHIT">		   </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2767</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2768</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2769</span> 
<span class='line'>2770</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2771</span> 	Checks if this rectangle contains the passed in point
<span class='line'>2772</span> 	@param  {object} passPoint The point to test against this rectangle.
<span class='line'>2773</span> 	@return {boolean} Return true if the rectangle contains the passed point or false otherwise.
<span class='line'>2774</span> 	*/</span><span class="WHIT">
<span class='line'>2775</span> </span><span class="WHIT">	</span><span class="NAME">this.containsPoint</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">passPoint</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2776</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">passPoint.x</span><span class="WHIT"> </span><span class="PUNC">>=</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">passPoint.x</span><span class="WHIT"> </span><span class="PUNC">&lt;=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.x</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">passPoint.y</span><span class="WHIT"> </span><span class="PUNC">>=</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">passPoint.y</span><span class="WHIT"> </span><span class="PUNC">&lt;=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.y</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2777</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2778</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2779</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2780</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2781</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2782</span> 
<span class='line'>2783</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2784</span> 	Checks if this rectangle contains the passed in rectangle completely.
<span class='line'>2785</span> 	@param  {object} passRect The rectangle to test against this rectangle.
<span class='line'>2786</span> 	@return {boolean} Return true if the rectangle contains the passed rectangle or false otherwise.
<span class='line'>2787</span> 	*/</span><span class="WHIT">
<span class='line'>2788</span> </span><span class="WHIT">	</span><span class="NAME">this.containsRect</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">passRect</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2789</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">testRect</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">passRect</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2790</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">point1</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Array</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2791</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">point2</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Array</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2792</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">counter</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2793</span> 
<span class='line'>2794</span> </span><span class="WHIT">		</span><span class="NAME">point1.push</span><span class="PUNC">(</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Point</span><span class="PUNC">(</span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="NAME">this.y</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2795</span> </span><span class="WHIT">		</span><span class="NAME">point1.push</span><span class="PUNC">(</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Point</span><span class="PUNC">(</span><span class="NAME">this.x</span><span class="PUNC">+</span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="NAME">this.y</span><span class="PUNC">+</span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2796</span> 
<span class='line'>2797</span> </span><span class="WHIT">		</span><span class="NAME">point2.push</span><span class="PUNC">(</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Point</span><span class="PUNC">(</span><span class="NAME">passRect.x</span><span class="PUNC">,</span><span class="NAME">passRect.y</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2798</span> </span><span class="WHIT">		</span><span class="NAME">point2.push</span><span class="PUNC">(</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Point</span><span class="PUNC">(</span><span class="NAME">passRect.x</span><span class="PUNC">+</span><span class="NAME">passRect.width</span><span class="PUNC">,</span><span class="NAME">passRect.y</span><span class="PUNC">+</span><span class="NAME">passRect.height</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2799</span> 
<span class='line'>2800</span> </span><span class="WHIT">		</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">point2.length</span><span class="WHIT"> </span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2801</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">point2</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">>=</span><span class="WHIT"> </span><span class="NAME">point1</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">point2</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">&lt;=</span><span class="WHIT"> </span><span class="NAME">point1</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">point2</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">>=</span><span class="WHIT"> </span><span class="NAME">point1</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">point2</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">&lt;=</span><span class="WHIT"> </span><span class="NAME">point1</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2802</span> </span><span class="WHIT">				</span><span class="NAME">counter</span><span class="PUNC">++</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2803</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2804</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2805</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">counter</span><span class="PUNC">==</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2806</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2807</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2808</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2809</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2810</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2811</span> 
<span class='line'>2812</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>2813</span> 	Create a copy of this rectangle and return it.
<span class='line'>2814</span> 	@param {void} Nothing.
<span class='line'>2815</span> 	@return {object} Returns a new copy of this rectangle.
<span class='line'>2816</span> 	*/</span><span class="WHIT">
<span class='line'>2817</span> </span><span class="WHIT">	</span><span class="NAME">this.clone</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2818</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">tempRect</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Rectangle</span><span class="PUNC">(</span><span class="NAME">this.x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2819</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">tempRect</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2820</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2821</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2822</span> </span><span class="COMM">/*! THP_Template.js */</span><span class="WHIT">
<span class='line'>2823</span> </span><span class="COMM">// ---------------------------------------------------------------------</span><span class="WHIT">
<span class='line'>2824</span> </span><span class="COMM">// THP_Template.js</span><span class="WHIT">
<span class='line'>2825</span> </span><span class="COMM">// Author: Anson MacKeracher, Ethan Greavette</span><span class="WHIT">
<span class='line'>2826</span> </span><span class="COMM">// Date: 6/21/2010</span><span class="WHIT">
<span class='line'>2827</span> </span><span class="COMM">// Comments: This template script constructs the demo template that the</span><span class="WHIT">
<span class='line'>2828</span> </span><span class="COMM">//           demo lives in. Please note that THP_Template.js requires</span><span class="WHIT">
<span class='line'>2829</span> </span><span class="COMM">//           the presence of osmosis.js compatibility layer to function</span><span class="WHIT">
<span class='line'>2830</span> </span><span class="COMM">//           properly!</span><span class="WHIT">
<span class='line'>2831</span> </span><span class="COMM">// ---------------------------------------------------------------------</span><span class="WHIT">
<span class='line'>2832</span> </span><span class="COMM">/**
<span class='line'>2833</span> The main object of the demo
<span class='line'>2834</span> @class THP_Template
<span class='line'>2835</span> @param  {object} plugin The monocleGL plugin object
<span class='line'>2836</span> @param  {number} width The width of the sprite
<span class='line'>2837</span> @param  {number} height The height of the sprite
<span class='line'>2838</span> @param  {number} sceneDescriptor The number of scenes in this demo
<span class='line'>2839</span> @return {void} Nothing
<span class='line'>2840</span> */</span><span class="WHIT">
<span class='line'>2841</span> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">THP_Template</span><span class="PUNC">(</span><span class="NAME">plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">sceneDescriptor</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2842</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">that</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2843</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">jQuery</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"undefined"</span><span class="PUNC">)</span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2844</span> </span><span class="WHIT">		</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"Demo on local server"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2845</span> </span><span class="WHIT">		</span><span class="NAME">this.boolSimulate</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2846</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2847</span> </span><span class="WHIT">		</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"Demo on THM server"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2848</span> </span><span class="WHIT">		</span><span class="NAME">this.boolSimulate</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2849</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2850</span> 
<span class='line'>2851</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">plugin.isMobile</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"undefined"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2852</span> </span><span class="WHIT">		</span><span class="NAME">this.boolMobile</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin.isMobile</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2853</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2854</span> </span><span class="WHIT">		</span><span class="COMM">// TODO use only isMobile once implemented</span><span class="WHIT">
<span class='line'>2855</span> </span><span class="WHIT">		</span><span class="NAME">this.boolMobile</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2856</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2857</span> 
<span class='line'>2858</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">plugin.getPluginVersion</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"undefined"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2859</span> </span><span class="WHIT">		</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"No plugin found"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2860</span> </span><span class="WHIT">	 	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2861</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2862</span> </span><span class="WHIT">	</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"monocleGL version: "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">plugin.getPluginVersion</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2863</span> 
<span class='line'>2864</span> </span><span class="WHIT">	</span><span class="COMM">// Record plugin infromation</span><span class="WHIT">
<span class='line'>2865</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">plugin</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">// Keep a reference to the plugin object</span><span class="WHIT">
<span class='line'>2866</span> </span><span class="WHIT">    </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2867</span> </span><span class="WHIT">    </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2868</span> </span><span class="WHIT">	</span><span class="NAME">this.travelTime</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0.25</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2869</span> 
<span class='line'>2870</span> </span><span class="WHIT">	</span><span class="COMM">// Set demo spefic varibles</span><span class="WHIT">
<span class='line'>2871</span> </span><span class="WHIT">    </span><span class="NAME">this.totalFinished</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2872</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin.setInteractive</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2873</span> </span><span class="WHIT">	</span><span class="NAME">this.demo_name</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">window.demo_name</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2874</span> </span><span class="WHIT">	</span><span class="NAME">this.submissionRetryID</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2875</span> 
<span class='line'>2876</span> 
<span class='line'>2877</span> </span><span class="WHIT">	</span><span class="COMM">// Setup explore mode varibles</span><span class="WHIT">
<span class='line'>2878</span> </span><span class="WHIT">	</span><span class="NAME">this.funcExploreInit</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2879</span> </span><span class="WHIT">	</span><span class="NAME">this.funcExploreCleanUp</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2880</span> </span><span class="WHIT">	</span><span class="NAME">this.scnExplore</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Scene</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2881</span> </span><span class="WHIT">	</span><span class="NAME">this.boolExplore</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2882</span> </span><span class="WHIT">	</span><span class="NAME">this.boolExploring</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2883</span> </span><span class="WHIT">	</span><span class="NAME">this.expLayer</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Layer</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">480</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">320</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2884</span> </span><span class="WHIT">	</span><span class="NAME">this.expLayer.setColor</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2885</span> </span><span class="WHIT">	</span><span class="NAME">this.scnLast</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2886</span> 
<span class='line'>2887</span> </span><span class="WHIT">	</span><span class="COMM">// Create the scene array if the user entered a number for the # of questions</span><span class="WHIT">
<span class='line'>2888</span> </span><span class="WHIT">	</span><span class="NAME">this.currentScene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2889</span> </span><span class="WHIT">    </span><span class="NAME">this.totalScenes</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2890</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">sceneDescriptor</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"number"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2891</span> </span><span class="WHIT">		</span><span class="NAME">this.totalScenes</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">sceneDescriptor</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2892</span> </span><span class="WHIT">		</span><span class="NAME">sceneDescriptor</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Array</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2893</span> 
<span class='line'>2894</span> </span><span class="WHIT">		</span><span class="COMM">// Push a 1 for each question in the demo</span><span class="WHIT">
<span class='line'>2895</span> </span><span class="WHIT">		</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">this.totalScenes</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2896</span> </span><span class="WHIT">			</span><span class="NAME">sceneDescriptor.push</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2897</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2898</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2899</span> </span><span class="WHIT">		</span><span class="COMM">// Record of the total number of questions</span><span class="WHIT">
<span class='line'>2900</span> </span><span class="WHIT">		</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">sceneDescriptor.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2901</span> </span><span class="WHIT">			</span><span class="NAME">this.totalScenes</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.totalScenes</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">sceneDescriptor</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2902</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2903</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2904</span> 
<span class='line'>2905</span> </span><span class="WHIT">    </span><span class="COMM">// ---------------------------------------------------------------------</span><span class="WHIT">
<span class='line'>2906</span> </span><span class="WHIT">    </span><span class="COMM">// Set up demo layers and sprites</span><span class="WHIT">
<span class='line'>2907</span> 
<span class='line'>2908</span> </span><span class="WHIT"> 	</span><span class="COMM">// Create the very back layer</span><span class="WHIT">
<span class='line'>2909</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_layer</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Layer</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">480</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">320</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2910</span> 
<span class='line'>2911</span> </span><span class="WHIT">	</span><span class="COMM">// Create the background image</span><span class="WHIT">
<span class='line'>2912</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_sprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"thm_loader.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">480</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">320</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2913</span> 
<span class='line'>2914</span> </span><span class="WHIT">	</span><span class="COMM">// Create the progress bar</span><span class="WHIT">
<span class='line'>2915</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_loadingbar_container</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Primitive</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"rectangle"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">115</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">30</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">250</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2916</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_loadingbar_container.setColor</span><span class="PUNC">(</span><span class="NUMB">0.7</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.7</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.7</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.7</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2917</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_loadingbar</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Primitive</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"rectangle"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">118</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">33</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">14</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2918</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_loadingbar.setColor</span><span class="PUNC">(</span><span class="NUMB">0.3</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.3</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.9</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2919</span> 
<span class='line'>2920</span> </span><span class="WHIT">	</span><span class="COMM">// Create the loading label</span><span class="WHIT">
<span class='line'>2921</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_label</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Label</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"Loading..."</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">115</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">30</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">250</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2922</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_label.setColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2923</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_label.setCaptionColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2924</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_label.setCaptionColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2925</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_label.setAnchor</span><span class="PUNC">(</span><span class="STRN">"center"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2926</span> 
<span class='line'>2927</span> </span><span class="WHIT">	</span><span class="COMM">// Make a new scene and add all the childern</span><span class="WHIT">
<span class='line'>2928</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_scene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Scene</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2929</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_scene.addChild</span><span class="PUNC">(</span><span class="NAME">this.preload_layer</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2930</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_layer.addChild</span><span class="PUNC">(</span><span class="NAME">this.preload_sprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2931</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_layer.addChild</span><span class="PUNC">(</span><span class="NAME">this.preload_loadingbar_container</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2932</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_layer.addChild</span><span class="PUNC">(</span><span class="NAME">this.preload_loadingbar</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2933</span> </span><span class="WHIT">    </span><span class="NAME">this.preload_layer.addChild</span><span class="PUNC">(</span><span class="NAME">this.preload_label</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2934</span> </span><span class="WHIT">    </span><span class="NAME">this.plugin.setScene</span><span class="PUNC">(</span><span class="NAME">this.preload_scene.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2935</span> 
<span class='line'>2936</span> </span><span class="WHIT">    </span><span class="COMM">// Demo background</span><span class="WHIT">
<span class='line'>2937</span> </span><span class="WHIT">    </span><span class="NAME">this.layoutFrameSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"demo_layout_frame.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">480</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">320</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2938</span> 
<span class='line'>2939</span> </span><span class="WHIT">    </span><span class="COMM">// Set up menus and their callbacks.</span><span class="WHIT">
<span class='line'>2940</span> </span><span class="WHIT">    </span><span class="NAME">this.answerPanelLayer</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Layer</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">480</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">65</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">320</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2941</span> </span><span class="WHIT">    </span><span class="NAME">this.answerPanelLayer.setColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2942</span> 
<span class='line'>2943</span> </span><span class="WHIT">    </span><span class="COMM">// Submit answer button</span><span class="WHIT">
<span class='line'>2944</span> </span><span class="WHIT">    </span><span class="NAME">this.submitButton</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Button</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"submit"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">250</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">60</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">39</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2945</span> </span><span class="WHIT">    </span><span class="NAME">this.submitButton.subscribe</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2946</span> </span><span class="WHIT">    </span><span class="NAME">this.submitButton.clickCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"submitAnswer"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2947</span> 
<span class='line'>2948</span> </span><span class="WHIT">    </span><span class="COMM">// Answer button appears once the tries are used up</span><span class="WHIT">
<span class='line'>2949</span> </span><span class="WHIT">    </span><span class="NAME">this.answerButton</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Button</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"answer"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">250</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">60</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">39</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2950</span> </span><span class="WHIT">    </span><span class="NAME">this.answerButton.clickCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"showAnswer"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2951</span> </span><span class="WHIT">	</span><span class="NAME">this.answerButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2952</span> </span><span class="WHIT">    </span><span class="NAME">this.answerButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2953</span> 
<span class='line'>2954</span> </span><span class="WHIT">    </span><span class="COMM">// Explore button appears once the tries are used up</span><span class="WHIT">
<span class='line'>2955</span> </span><span class="WHIT">    </span><span class="NAME">this.readyButton</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Button</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"ready"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">250</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">60</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">39</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2956</span> </span><span class="WHIT">    </span><span class="NAME">this.readyButton.clickCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"endExplore"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2957</span> </span><span class="WHIT">	</span><span class="NAME">this.readyButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2958</span> </span><span class="WHIT">	</span><span class="NAME">this.readyButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2959</span> 
<span class='line'>2960</span> 
<span class='line'>2961</span> </span><span class="WHIT">	</span><span class="COMM">// The "wifi connecting" indicator</span><span class="WHIT">
<span class='line'>2962</span> </span><span class="WHIT">    </span><span class="NAME">this.wifiGreySprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"wifiGrey.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">35</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">230</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2963</span> </span><span class="WHIT">    </span><span class="NAME">this.wifiGreySprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2964</span> 
<span class='line'>2965</span> </span><span class="WHIT">	</span><span class="COMM">// The "wifi connected" indicator</span><span class="WHIT">
<span class='line'>2966</span> </span><span class="WHIT">    </span><span class="NAME">this.wifiGreenSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"wifiGreen.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">35</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">230</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2967</span> </span><span class="WHIT">    </span><span class="NAME">this.wifiGreenSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2968</span> 
<span class='line'>2969</span> </span><span class="WHIT">	</span><span class="COMM">// The "wifi simulated" indicator</span><span class="WHIT">
<span class='line'>2970</span> </span><span class="WHIT">    </span><span class="NAME">this.wifiBlueSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"wifiBlue.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">35</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">230</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2971</span> </span><span class="WHIT">    </span><span class="NAME">this.wifiBlueSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2972</span> 
<span class='line'>2973</span> </span><span class="WHIT">    </span><span class="COMM">// The "correct answer" indicator</span><span class="WHIT">
<span class='line'>2974</span> </span><span class="WHIT">    </span><span class="NAME">this.checkSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"check.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">6</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">230</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">24</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2975</span> </span><span class="WHIT">    </span><span class="NAME">this.checkSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2976</span> 
<span class='line'>2977</span> </span><span class="WHIT">    </span><span class="COMM">// The "incorrect answer" indicator</span><span class="WHIT">
<span class='line'>2978</span> </span><span class="WHIT">    </span><span class="NAME">this.crossSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"cross.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">230</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2979</span> </span><span class="WHIT">    </span><span class="NAME">this.crossSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2980</span> 
<span class='line'>2981</span> </span><span class="WHIT">	</span><span class="COMM">// The answer panel graphics</span><span class="WHIT">
<span class='line'>2982</span> </span><span class="WHIT">    </span><span class="NAME">this.answerPanelSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"demo_menu_right.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">65</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">320</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2983</span> 
<span class='line'>2984</span> </span><span class="WHIT">	</span><span class="COMM">// The label "title" on the progress bar</span><span class="WHIT">
<span class='line'>2985</span> </span><span class="WHIT">    </span><span class="NAME">this.questionLabel</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Label</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">12</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">210</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">460</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">80</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2986</span> </span><span class="WHIT">    </span><span class="NAME">this.questionLabel.setColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2987</span> </span><span class="WHIT">    </span><span class="NAME">this.questionLabel.setCaptionColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2988</span> </span><span class="WHIT">	</span><span class="NAME">this.questionLabel.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2989</span> </span><span class="WHIT">	</span><span class="NAME">this.questionLabel.setWrap</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2990</span> 
<span class='line'>2991</span> </span><span class="WHIT">	</span><span class="COMM">// The label "title" on the progress bar</span><span class="WHIT">
<span class='line'>2992</span> </span><span class="WHIT">    </span><span class="NAME">this.titleLabel</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Label</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">12</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">320</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">290</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">315</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2993</span> </span><span class="WHIT">    </span><span class="NAME">this.titleLabel.setColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2994</span> </span><span class="WHIT">    </span><span class="NAME">this.titleLabel.setCaptionColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2995</span> </span><span class="WHIT">    </span><span class="NAME">this.titleLabel.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2996</span> </span><span class="WHIT">    </span><span class="NAME">this.titleLabel.setAnchor</span><span class="PUNC">(</span><span class="STRN">"right"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2997</span> 
<span class='line'>2998</span> </span><span class="WHIT">	</span><span class="COMM">// Add all the childern to the answer panel layer</span><span class="WHIT">
<span class='line'>2999</span> </span><span class="WHIT">    </span><span class="NAME">this.answerPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.answerPanelSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3000</span> </span><span class="WHIT">    </span><span class="NAME">this.answerPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.titleLabel</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3001</span> </span><span class="WHIT">    </span><span class="NAME">this.answerPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.submitButton</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3002</span> </span><span class="WHIT">    </span><span class="NAME">this.answerPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.answerButton</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3003</span> </span><span class="WHIT">	</span><span class="NAME">this.answerPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.readyButton</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3004</span> </span><span class="WHIT">	</span><span class="NAME">this.answerPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.wifiGreySprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3005</span> </span><span class="WHIT">	</span><span class="NAME">this.answerPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.wifiGreenSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3006</span> </span><span class="WHIT">	</span><span class="NAME">this.answerPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.wifiBlueSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3007</span> </span><span class="WHIT">    </span><span class="NAME">this.answerPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.checkSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3008</span> </span><span class="WHIT">    </span><span class="NAME">this.answerPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.crossSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3009</span> 
<span class='line'>3010</span> </span><span class="WHIT">	</span><span class="COMM">// Create the bottom panel layer</span><span class="WHIT">
<span class='line'>3011</span> </span><span class="WHIT">    </span><span class="NAME">this.bottomPanelLayer</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Layer</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">51</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">480</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">51</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3012</span> </span><span class="WHIT">    </span><span class="NAME">this.bottomPanelLayer.setColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3013</span> 
<span class='line'>3014</span> </span><span class="WHIT">	</span><span class="COMM">// The bottom panel graphic</span><span class="WHIT">
<span class='line'>3015</span> </span><span class="WHIT">    </span><span class="NAME">this.menuBottomSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"demo_menu_bottom.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">480</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">51</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3016</span> 
<span class='line'>3017</span> </span><span class="WHIT">	</span><span class="COMM">// The status bar for showing user how many questions they have</span><span class="WHIT">
<span class='line'>3018</span> </span><span class="WHIT">    </span><span class="NAME">this.demoStatusSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"demo_status_white.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">45</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">6</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">259</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">26</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3019</span> 
<span class='line'>3020</span> </span><span class="WHIT">	</span><span class="COMM">// The previous scene button</span><span class="WHIT">
<span class='line'>3021</span> </span><span class="WHIT">    </span><span class="NAME">this.previousSceneButton</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Button</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"prevScene"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">39</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">39</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3022</span> </span><span class="WHIT">    </span><span class="NAME">this.previousSceneButton.upCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"prevScene"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3023</span> </span><span class="WHIT">	</span><span class="NAME">this.previousSceneButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3024</span> 
<span class='line'>3025</span> </span><span class="WHIT">	</span><span class="COMM">// The next scene button</span><span class="WHIT">
<span class='line'>3026</span> </span><span class="WHIT">    </span><span class="NAME">this.nextSceneButton</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Button</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"nextScene"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">437</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">39</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">39</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3027</span> </span><span class="WHIT">    </span><span class="NAME">this.nextSceneButton.upCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"nextScene"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3028</span> </span><span class="WHIT">	</span><span class="NAME">this.nextSceneButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3029</span> 
<span class='line'>3030</span> </span><span class="WHIT">	</span><span class="COMM">// The reset scene button</span><span class="WHIT">
<span class='line'>3031</span> </span><span class="WHIT">    </span><span class="NAME">this.refreshButton</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Button</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"refresh"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">320</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">6</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">42</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">27</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3032</span> </span><span class="WHIT">    </span><span class="NAME">this.refreshButton.upCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"resetButtonClickCallback"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3033</span> </span><span class="WHIT">	</span><span class="NAME">this.refreshButton.setActive</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3034</span> 
<span class='line'>3035</span> </span><span class="WHIT">	</span><span class="COMM">// The explore button</span><span class="WHIT">
<span class='line'>3036</span> </span><span class="WHIT">    </span><span class="NAME">this.exploreButton</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Button</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"explore"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">360</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">6</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">42</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">27</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3037</span> </span><span class="WHIT">	</span><span class="NAME">this.exploreButton.clickCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"gotoExplore"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3038</span> </span><span class="WHIT">	</span><span class="NAME">this.exploreButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3039</span> 
<span class='line'>3040</span> </span><span class="WHIT">	</span><span class="COMM">// Set up the tries & status labels</span><span class="WHIT">
<span class='line'>3041</span> </span><span class="WHIT">    </span><span class="NAME">this.triesLabel</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Label</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"Quiz: Submission chances left 3"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">50</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">12</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">200</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3042</span> </span><span class="WHIT">    </span><span class="NAME">this.triesLabel.setColor</span><span class="PUNC">(</span><span class="NUMB">1.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3043</span> </span><span class="WHIT">    </span><span class="NAME">this.triesLabel.setCaptionColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3044</span> 
<span class='line'>3045</span> </span><span class="WHIT">	</span><span class="COMM">// Add all the childern to the bottom panel layer</span><span class="WHIT">
<span class='line'>3046</span> </span><span class="WHIT">    </span><span class="NAME">this.bottomPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.menuBottomSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3047</span> </span><span class="WHIT">    </span><span class="NAME">this.bottomPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.nextSceneButton</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3048</span> </span><span class="WHIT">    </span><span class="NAME">this.bottomPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.previousSceneButton</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3049</span> </span><span class="WHIT">    </span><span class="NAME">this.bottomPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.demoStatusSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3050</span> </span><span class="WHIT">    </span><span class="NAME">this.bottomPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.refreshButton</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3051</span> </span><span class="WHIT">    </span><span class="NAME">this.bottomPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.exploreButton</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3052</span> </span><span class="WHIT">    </span><span class="NAME">this.bottomPanelLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.triesLabel</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3053</span> 
<span class='line'>3054</span> </span><span class="WHIT">	</span><span class="COMM">// Add the arrows pointing up to the bottom of the screen</span><span class="WHIT">
<span class='line'>3055</span> </span><span class="WHIT">    </span><span class="NAME">this.bottomPanelHoverSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">32</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3056</span> </span><span class="WHIT">    </span><span class="NAME">this.bottomPanelHoverSprite.subscribe</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3057</span> </span><span class="WHIT">    </span><span class="NAME">this.bottomPanelHoverSprite.overCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"bottomPanelHoverCallback"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3058</span> </span><span class="WHIT">	</span><span class="NAME">this.bottomPanelHoverSprite.clickCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"bottomPanelHoverCallback"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3059</span> 
<span class='line'>3060</span> </span><span class="WHIT">	</span><span class="COMM">// Add the arrows pointing left to the right of the screen</span><span class="WHIT">
<span class='line'>3061</span> </span><span class="WHIT">    </span><span class="NAME">this.answerPanelHoverSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">460</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3062</span> </span><span class="WHIT">    </span><span class="NAME">this.answerPanelHoverSprite.subscribe</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3063</span> </span><span class="WHIT">    </span><span class="NAME">this.answerPanelHoverSprite.overCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"answerPanelHoverCallback"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3064</span> </span><span class="WHIT">	</span><span class="NAME">this.answerPanelHoverSprite.clickCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"answerPanelHoverCallback"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3065</span> 
<span class='line'>3066</span> </span><span class="WHIT">	</span><span class="COMM">// Add to the middle of the screen from moving panel back</span><span class="WHIT">
<span class='line'>3067</span> </span><span class="WHIT">    </span><span class="NAME">this.problemAreaHoverSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">50</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">400</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">270</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3068</span> </span><span class="WHIT">    </span><span class="NAME">this.problemAreaHoverSprite.subscribe</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3069</span> </span><span class="WHIT">    </span><span class="NAME">this.problemAreaHoverSprite.overCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"problemAreaHoverCallback"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3070</span> </span><span class="WHIT">	</span><span class="NAME">this.problemAreaHoverSprite.clickCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"problemAreaHoverCallback"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3071</span> 
<span class='line'>3072</span> </span><span class="WHIT">	</span><span class="COMM">// The arrow on the answer and bottom panel</span><span class="WHIT">
<span class='line'>3073</span> </span><span class="WHIT">    </span><span class="NAME">this.bottomPanelHoverArrowSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"btnSmallArrowUpGrey.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">230</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3074</span> </span><span class="WHIT">    </span><span class="NAME">this.answerPanelHoverArrowSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"btnSmallArrowLeftGrey.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">460</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">150</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3075</span> 
<span class='line'>3076</span> </span><span class="WHIT">	</span><span class="COMM">// Back to PhoneGap button</span><span class="WHIT">
<span class='line'>3077</span> </span><span class="WHIT">    </span><span class="COMM">// TODO: Make the functionality of this button more obvious</span><span class="WHIT">
<span class='line'>3078</span> </span><span class="WHIT">    </span><span class="NAME">this.backToPG</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Button</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"prevScene"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">285</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">30</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">30</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3079</span> </span><span class="WHIT">    </span><span class="NAME">this.backToPG.bind</span><span class="PUNC">(</span><span class="STRN">"mouse_up"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3080</span> </span><span class="WHIT">            </span><span class="NAME">that.plugin.loadPhoneGap</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3081</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3082</span> </span><span class="WHIT">    </span><span class="NAME">this.backToPG.subscribe</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3083</span> 
<span class='line'>3084</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">xOffset</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3085</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.boolMobile</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">xOffset</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">30</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3086</span> 
<span class='line'>3087</span> </span><span class="WHIT">	</span><span class="COMM">// The progress bar sprite</span><span class="WHIT">
<span class='line'>3088</span> </span><span class="WHIT">    </span><span class="NAME">this.progressBarSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"demo_progress_red.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">15</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">xOffset</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">290</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">110</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3089</span> 
<span class='line'>3090</span> </span><span class="WHIT">	</span><span class="COMM">// The label "update" on the progress bar</span><span class="WHIT">
<span class='line'>3091</span> </span><span class="WHIT">    </span><span class="NAME">this.progressBarLabel</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Label</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"Progress "</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">28</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">xOffset</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">292</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">40</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3092</span> </span><span class="WHIT">    </span><span class="NAME">this.progressBarLabel.setColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3093</span> </span><span class="WHIT">    </span><span class="NAME">this.progressBarLabel.setCaptionColor</span><span class="PUNC">(</span><span class="NUMB">1.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3094</span> 
<span class='line'>3095</span> </span><span class="WHIT">	</span><span class="COMM">// The label to update how many quizzes the user has finished</span><span class="WHIT">
<span class='line'>3096</span> </span><span class="WHIT">    </span><span class="NAME">this.progressBarCount</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Label</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"("</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.totalFinished</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.totalScenes</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">")"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">80</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">xOffset</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">292</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">30</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3097</span> </span><span class="WHIT">    </span><span class="NAME">this.progressBarCount.setColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3098</span> </span><span class="WHIT">    </span><span class="NAME">this.progressBarCount.setCaptionColor</span><span class="PUNC">(</span><span class="NUMB">1.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3099</span> 
<span class='line'>3100</span> </span><span class="WHIT">    </span><span class="COMM">// Add the left "cap" to the progress bar</span><span class="WHIT">
<span class='line'>3101</span> </span><span class="WHIT">    </span><span class="NAME">this.progressLeftSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"demo_progress_left.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">15</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">xOffset</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">290</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">8</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3102</span> </span><span class="WHIT">    </span><span class="NAME">this.progressLeftSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3103</span> 
<span class='line'>3104</span> </span><span class="WHIT">    </span><span class="COMM">// Add the right "cap" to the progress bar</span><span class="WHIT">
<span class='line'>3105</span> </span><span class="WHIT">    </span><span class="NAME">this.progressRightSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"demo_progress_right.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">120</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">xOffset</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">290</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">8</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3106</span> </span><span class="WHIT">    </span><span class="NAME">this.progressRightSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3107</span> 
<span class='line'>3108</span> </span><span class="WHIT">    </span><span class="COMM">// Add the "middle" sprite to the progress bar</span><span class="WHIT">
<span class='line'>3109</span> </span><span class="WHIT">    </span><span class="NAME">this.progressMiddleSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"demo_progress_middle.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">17</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">xOffset</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">290</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">8</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3110</span> 
<span class='line'>3111</span> </span><span class="WHIT">	</span><span class="COMM">// Add the instruct sprite at the beginning</span><span class="WHIT">
<span class='line'>3112</span> </span><span class="WHIT">    </span><span class="NAME">this.instructionsSprite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Sprite</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"demo_instructions_bg.png"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">115</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">65</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">250</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">200</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3113</span> </span><span class="WHIT">    </span><span class="NAME">this.instructionsSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3114</span> 
<span class='line'>3115</span> </span><span class="WHIT">	</span><span class="COMM">// Add the "ok" button the allow the user to continue</span><span class="WHIT">
<span class='line'>3116</span> </span><span class="WHIT">    </span><span class="NAME">this.instructionsButton</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Button</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"ok"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">318</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">79</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">36</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">28</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3117</span> </span><span class="WHIT">    </span><span class="NAME">this.instructionsButton.subscribe</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3118</span> </span><span class="WHIT">    </span><span class="NAME">this.instructionsButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3119</span> </span><span class="WHIT">    </span><span class="NAME">this.instructionsButton.upCallback</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"hideInstructions"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3120</span> 
<span class='line'>3121</span> </span><span class="WHIT">	</span><span class="COMM">// Add the label for "Instructions:"</span><span class="WHIT">
<span class='line'>3122</span> </span><span class="WHIT">    </span><span class="NAME">this.instructionsLabel</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Label</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"Instructions:"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">130</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">200</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">200</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">50</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3123</span> </span><span class="WHIT">    </span><span class="NAME">this.instructionsLabel.setColor</span><span class="PUNC">(</span><span class="NUMB">1.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3124</span> </span><span class="WHIT">    </span><span class="NAME">this.instructionsLabel.setCaptionColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3125</span> </span><span class="WHIT">    </span><span class="NAME">this.instructionsLabel.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3126</span> 
<span class='line'>3127</span> </span><span class="WHIT">	</span><span class="COMM">// Add the label for the instruction text</span><span class="WHIT">
<span class='line'>3128</span> </span><span class="WHIT">    </span><span class="NAME">this.instructionsTextLabel</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Label</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"Placeholder"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">130</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">200</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">100</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3129</span> </span><span class="WHIT">    </span><span class="NAME">this.instructionsTextLabel.setColor</span><span class="PUNC">(</span><span class="NUMB">1.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3130</span> </span><span class="WHIT">    </span><span class="NAME">this.instructionsTextLabel.setCaptionColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3131</span> </span><span class="WHIT">    </span><span class="NAME">this.instructionsTextLabel.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3132</span> </span><span class="WHIT">    </span><span class="NAME">this.instructionsTextLabel.setWrap</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3133</span> 
<span class='line'>3134</span> </span><span class="WHIT">    </span><span class="COMM">// Setup the promblem area label layers</span><span class="WHIT">
<span class='line'>3135</span> </span><span class="WHIT">    </span><span class="NAME">this.problemLayer</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Layer</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">480</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">320</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3136</span> </span><span class="WHIT">    </span><span class="NAME">this.problemLayer.setColor</span><span class="PUNC">(</span><span class="NUMB">0.88</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.88</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.88</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3137</span> </span><span class="WHIT">    </span><span class="NAME">this.problemLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.layoutFrameSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3138</span> </span><span class="WHIT">    </span><span class="NAME">this.problemLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.bottomPanelHoverArrowSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3139</span> </span><span class="WHIT">    </span><span class="NAME">this.problemLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.answerPanelHoverArrowSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3140</span> 
<span class='line'>3141</span> </span><span class="WHIT">    </span><span class="COMM">// Setup the curtain layer to darken the screen</span><span class="WHIT">
<span class='line'>3142</span> </span><span class="WHIT">    </span><span class="NAME">this.curtainLayer</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Layer</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3143</span> </span><span class="WHIT">    </span><span class="NAME">this.curtainLayer.setColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3144</span> </span><span class="WHIT">    </span><span class="NAME">this.curtainLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.instructionsSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3145</span> </span><span class="WHIT">    </span><span class="NAME">this.curtainLayer.addChild</span><span class="PUNC">(</span><span class="NAME">this.instructionsButton</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3146</span> 
<span class='line'>3147</span> </span><span class="WHIT">    </span><span class="NAME">this.panelState</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3148</span> </span><span class="WHIT">        </span><span class="NAME">RETRACTED</span><span class="WHIT">  </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>3149</span> </span><span class="WHIT">        </span><span class="NAME">EXTENDING</span><span class="WHIT">  </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>3150</span> </span><span class="WHIT">        </span><span class="NAME">EXTENDED</span><span class="WHIT">   </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>3151</span> </span><span class="WHIT">        </span><span class="NAME">RETRACTING</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="WHIT">
<span class='line'>3152</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3153</span> 
<span class='line'>3154</span> </span><span class="WHIT">    </span><span class="COMM">// Initialize the state machine</span><span class="WHIT">
<span class='line'>3155</span> </span><span class="WHIT">    </span><span class="NAME">this.bottomPanelState</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.panelState.RETRACTED</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3156</span> </span><span class="WHIT">    </span><span class="NAME">this.answerPanelState</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.panelState.RETRACTED</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3157</span> 
<span class='line'>3158</span> </span><span class="WHIT">    </span><span class="COMM">// Controls whether the panels are locked</span><span class="WHIT">
<span class='line'>3159</span> </span><span class="WHIT">	</span><span class="NAME">this.bottomPanelLock</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3160</span> </span><span class="WHIT">    </span><span class="NAME">this.answerPanelLock</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3161</span> 
<span class='line'>3162</span> </span><span class="WHIT">	</span><span class="COMM">// Setup the scene array</span><span class="WHIT">
<span class='line'>3163</span> </span><span class="WHIT">    </span><span class="NAME">this.sceneArray</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3164</span> </span><span class="WHIT">	</span><span class="NAME">this.quizNames</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3165</span> </span><span class="WHIT">    </span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">j</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">j</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">sceneDescriptor.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">j</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3166</span> </span><span class="WHIT">        </span><span class="NAME">this.sceneArray</span><span class="PUNC">[</span><span class="NAME">j</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Scene</span><span class="PUNC">(</span><span class="NAME">this.plugin</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3167</span> </span><span class="WHIT">		</span><span class="NAME">this.quizNames.push</span><span class="PUNC">(</span><span class="STRN">"Q"</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">j</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3168</span> </span><span class="WHIT">		</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"Scene created "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.quizNames</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3169</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3170</span> 
<span class='line'>3171</span> </span><span class="WHIT">    </span><span class="COMM">// CLIPPING INFORMATION FOR PLUGIN</span><span class="WHIT">
<span class='line'>3172</span> </span><span class="WHIT">    </span><span class="COMM">// Ask Anson before fux0ring with this plz</span><span class="WHIT">
<span class='line'>3173</span> </span><span class="WHIT">    </span><span class="NAME">this.headerClipping</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">60</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3174</span> </span><span class="WHIT">    </span><span class="NAME">this.footerClipping</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">25</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3175</span> 
<span class='line'>3176</span> </span><span class="WHIT">	</span><span class="COMM">// -------------------------------------------------------------------------</span><span class="WHIT">
<span class='line'>3177</span> </span><span class="WHIT">    </span><span class="COMM">// Functions</span><span class="WHIT">
<span class='line'>3178</span> 
<span class='line'>3179</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3180</span> 	Returns the cliping information for the top and the bottom of the plugin
<span class='line'>3181</span> 	@param  {void} Nothing
<span class='line'>3182</span> 	@return {array} An array with the 1st element the header clipping value and the 2nd element being the footer clipping value.
<span class='line'>3183</span> 	*/</span><span class="WHIT">
<span class='line'>3184</span> </span><span class="WHIT">    </span><span class="NAME">this.getWindowClipping</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3185</span> </span><span class="WHIT">    		</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"Clipping infromation called, header: "</span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.headerClipping</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">" footer: "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.footerClipping</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3186</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="NAME">this.headerClipping</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.footerClipping</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3187</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3188</span> 
<span class='line'>3189</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3190</span> 	Set up callback functions for when the show answer button is pressed.
<span class='line'>3191</span> 	@param  {number} x The x position of the mouse.
<span class='line'>3192</span> 	@param  {number} y The y position of the mouse.
<span class='line'>3193</span> 	@return {void} Nothing.
<span class='line'>3194</span> 	*/</span><span class="WHIT">
<span class='line'>3195</span> </span><span class="WHIT">    </span><span class="NAME">this.showAnswer</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3196</span> </span><span class="WHIT">   		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">scene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3197</span> </span><span class="WHIT">		</span><span class="NAME">scene.showCorrectAnswer</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3198</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3199</span> 
<span class='line'>3200</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>3201</span> 	Set up callback functions for when the submit button is pressed.
<span class='line'>3202</span> 	@param  {void} Nothing.
<span class='line'>3203</span> 	@return {void} Nothing.
<span class='line'>3204</span> 	*/</span><span class="WHIT">
<span class='line'>3205</span> </span><span class="WHIT">    </span><span class="NAME">this.submitAnswer</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3206</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">this.totalFinished</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">this.totalScenes</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getCompleted</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3207</span> </span><span class="WHIT">        		</span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"The demo tried to submit a question after it's done answering all the questions."</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3208</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3209</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3210</span> 
<span class='line'>3211</span> </span><span class="WHIT">		</span><span class="COMM">// Check if answer is right or not</span><span class="WHIT">
<span class='line'>3212</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">checkAnswer</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3213</span> 
<span class='line'>3214</span> </span><span class="WHIT">			</span><span class="COMM">// If the user was correct then update progress and set scene bits</span><span class="WHIT">
<span class='line'>3215</span> </span><span class="WHIT">			</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"Check answer true"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3216</span> </span><span class="WHIT">			</span><span class="NAME">this.totalFinished</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.totalFinished</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3217</span> </span><span class="WHIT">			</span><span class="NAME">this.updateProgress</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3218</span> </span><span class="WHIT">			</span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">setCorrect</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3219</span> </span><span class="WHIT">			</span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">setCompleted</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3220</span> 
<span class='line'>3221</span> </span><span class="WHIT">			</span><span class="COMM">// Send the correct message to the server</span><span class="WHIT">
<span class='line'>3222</span> </span><span class="WHIT">			</span><span class="NAME">this.persistentSubmission</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3223</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3224</span> 
<span class='line'>3225</span> </span><span class="WHIT">			</span><span class="COMM">// If the user was incorrect subtract a try from the scene</span><span class="WHIT">
<span class='line'>3226</span> </span><span class="WHIT">			</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"Check answer false"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3227</span> </span><span class="WHIT">            </span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">decrementTries</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3228</span> </span><span class="WHIT">            </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getTries</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3229</span> 
<span class='line'>3230</span> </span><span class="WHIT">            		</span><span class="COMM">// Update progress and set scene bits</span><span class="WHIT">
<span class='line'>3231</span> </span><span class="WHIT">				</span><span class="NAME">this.totalFinished</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.totalFinished</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3232</span> </span><span class="WHIT">				</span><span class="NAME">this.updateProgress</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3233</span> </span><span class="WHIT">				</span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">setCorrect</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3234</span> </span><span class="WHIT">				</span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">setCompleted</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3235</span> 
<span class='line'>3236</span> </span><span class="WHIT">				</span><span class="COMM">// Send the correct message to the server and show the answer</span><span class="WHIT">
<span class='line'>3237</span> </span><span class="WHIT">				</span><span class="NAME">this.persistentSubmission</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3238</span> </span><span class="WHIT">				</span><span class="NAME">this.showAnswer</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3239</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3240</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3241</span> 
<span class='line'>3242</span> </span><span class="WHIT">        </span><span class="COMM">// Update the UI to reflect the new state changes</span><span class="WHIT">
<span class='line'>3243</span> </span><span class="WHIT">        </span><span class="NAME">this.drawUI</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3244</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3245</span> 
<span class='line'>3246</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3247</span> 	Set up the callback function to extend the bottom panel when the mouse goes over the bottom part of the screen.
<span class='line'>3248</span> 	@param  {number} x The x position of the mouse.
<span class='line'>3249</span> 	@param  {number} y The y position of the mouse.
<span class='line'>3250</span> 	@return {void} Nothing.
<span class='line'>3251</span> 	*/</span><span class="WHIT">
<span class='line'>3252</span> </span><span class="WHIT">    </span><span class="NAME">this.bottomPanelHoverCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3253</span> </span><span class="WHIT">    		</span><span class="COMM">// Check if state of bottom panel is retracted then extend the bottom panel</span><span class="WHIT">
<span class='line'>3254</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.bottomPanelState</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">this.panelState.RETRACTED</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3255</span> </span><span class="WHIT">            </span><span class="NAME">this.extendBottomPanel</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3256</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3257</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3258</span> 
<span class='line'>3259</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3260</span> 	Set up the callback function to extend the answer panel when the mouse goes over the right part of the screen.
<span class='line'>3261</span> 	@param  {number} x The x position of the mouse.
<span class='line'>3262</span> 	@param  {number} y The y position of the mouse.
<span class='line'>3263</span> 	@return {void} Nothing.
<span class='line'>3264</span> 	*/</span><span class="WHIT">
<span class='line'>3265</span> </span><span class="WHIT">    </span><span class="NAME">this.answerPanelHoverCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3266</span> </span><span class="WHIT">    		</span><span class="COMM">// Check if state of answer panel is retracted then extend the answer panel</span><span class="WHIT">
<span class='line'>3267</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.answerPanelState</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">this.panelState.RETRACTED</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3268</span> </span><span class="WHIT">            </span><span class="NAME">this.extendAnswerPanel</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3269</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3270</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3271</span> 
<span class='line'>3272</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3273</span> 	Set up the callback function to retract the answer and bottom panels when the mouse goes over the middle of the screen.
<span class='line'>3274</span> 	@param  {number} x The x position of the mouse.
<span class='line'>3275</span> 	@param  {number} y The y position of the mouse.
<span class='line'>3276</span> 	@return {void} Nothing.
<span class='line'>3277</span> 	*/</span><span class="WHIT">
<span class='line'>3278</span> </span><span class="WHIT">    </span><span class="NAME">this.problemAreaHoverCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3279</span> </span><span class="WHIT">    		</span><span class="COMM">// Check if the answer panel is extended then retract the answer panel</span><span class="WHIT">
<span class='line'>3280</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.answerPanelState</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">this.panelState.EXTENDED</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3281</span> </span><span class="WHIT">            </span><span class="NAME">this.retractAnswerPanel</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3282</span> </span><span class="WHIT">        </span><span class="COMM">// Check if the answer panel is extending then set the waiting bit to retract after extension</span><span class="WHIT">
<span class='line'>3283</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.answerPanelState</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">this.panelState.EXTENDING</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3284</span> </span><span class="WHIT">            </span><span class="NAME">this.waitingToRetractAnswer</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3285</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3286</span> 
<span class='line'>3287</span> </span><span class="WHIT">        </span><span class="COMM">// Check if the bottom panel is extended then retract the bottom panel</span><span class="WHIT">
<span class='line'>3288</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.bottomPanelState</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">this.panelState.EXTENDED</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3289</span> </span><span class="WHIT">            </span><span class="NAME">this.retractBottomPanel</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3290</span> </span><span class="WHIT">        </span><span class="COMM">// Check if the bottom panel is extending then set the waiting bit to retract after extension</span><span class="WHIT">
<span class='line'>3291</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.bottomPanelState</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">this.panelState.EXTENDING</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3292</span> </span><span class="WHIT">            </span><span class="NAME">this.waitingToRetractBottom</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3293</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3294</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3295</span> 
<span class='line'>3296</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3297</span> 	Retract the answer panel if it's extended and is not currently being tweened.
<span class='line'>3298</span> 	@param  {void} Nothing.
<span class='line'>3299</span> 	@return {void} Nothing.
<span class='line'>3300</span> 	*/</span><span class="WHIT">
<span class='line'>3301</span> </span><span class="WHIT">	</span><span class="NAME">this.retractAnswerPanel</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3302</span> </span><span class="WHIT">		</span><span class="COMM">// Check if the answer panel is locked before retracting it</span><span class="WHIT">
<span class='line'>3303</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.answerPanelLock</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3304</span> </span><span class="WHIT">        		</span><span class="COMM">// Set the answer panel state to retracting and the arrows the by visible</span><span class="WHIT">
<span class='line'>3305</span> </span><span class="WHIT">            </span><span class="NAME">this.answerPanelState</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.panelState.RETRACTING</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3306</span> </span><span class="WHIT">			</span><span class="NAME">this.answerPanelHoverArrowSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3307</span> 
<span class='line'>3308</span> </span><span class="WHIT">			</span><span class="COMM">// Set the tweens to retract the answer panel and a callback when complete</span><span class="WHIT">
<span class='line'>3309</span> </span><span class="WHIT">			</span><span class="NAME">this.answerPanelLayer.addTween</span><span class="PUNC">(</span><span class="STRN">"x:480,persistent:true,transition:ease_out,time:"</span><span class="PUNC">+</span><span class="NAME">this.travelTime</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3310</span> </span><span class="WHIT">			</span><span class="NAME">setTimeout</span><span class="PUNC">(</span><span class="NAME">this.answerMoveDone</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.travelTime</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">1000</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NUMB">250</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3311</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3312</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3313</span> 
<span class='line'>3314</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3315</span> 	Extend the answer panel if it's retracted and is not currently being tweened.
<span class='line'>3316</span> 	@param  {void} Nothing.
<span class='line'>3317</span> 	@return {void} Nothing.
<span class='line'>3318</span> 	*/</span><span class="WHIT">
<span class='line'>3319</span> </span><span class="WHIT">	</span><span class="NAME">this.extendAnswerPanel</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3320</span> </span><span class="WHIT">		</span><span class="COMM">// Check if the answer panel is locked before extending it</span><span class="WHIT">
<span class='line'>3321</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.answerPanelLock</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3322</span> </span><span class="WHIT">        		</span><span class="COMM">// Set the answer panel state to extending and the arrows the by invisible</span><span class="WHIT">
<span class='line'>3323</span> </span><span class="WHIT">            </span><span class="NAME">this.answerPanelState</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.panelState.EXTENDING</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3324</span> </span><span class="WHIT">			</span><span class="NAME">this.answerPanelHoverArrowSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3325</span> 
<span class='line'>3326</span> </span><span class="WHIT">			</span><span class="COMM">// Set the tweens to extend the answer panel and a callback when complete</span><span class="WHIT">
<span class='line'>3327</span> </span><span class="WHIT">			</span><span class="NAME">this.answerPanelLayer.addTween</span><span class="PUNC">(</span><span class="STRN">"x:415,persistent:true,transition:ease_out,time:"</span><span class="PUNC">+</span><span class="NAME">this.travelTime</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3328</span> </span><span class="WHIT">			</span><span class="NAME">setTimeout</span><span class="PUNC">(</span><span class="NAME">this.answerMoveDone</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.travelTime</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">1000</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NUMB">250</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3329</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3330</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3331</span> 
<span class='line'>3332</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3333</span> 	Retract the bottom panel if it's extended and is not currently being tweened.
<span class='line'>3334</span> 	@param  {void} Nothing.
<span class='line'>3335</span> 	@return {void} Nothing.
<span class='line'>3336</span> 	*/</span><span class="WHIT">
<span class='line'>3337</span> </span><span class="WHIT">	</span><span class="NAME">this.retractBottomPanel</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3338</span> </span><span class="WHIT">		</span><span class="COMM">// Check if the bottom panel is locked before retracting it</span><span class="WHIT">
<span class='line'>3339</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.bottomPanelLock</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3340</span> </span><span class="WHIT">      		</span><span class="COMM">// Set the bottom panel state to retracting and the arrows the by visible</span><span class="WHIT">
<span class='line'>3341</span> </span><span class="WHIT">            </span><span class="NAME">this.bottomPanelState</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.panelState.RETRACTING</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3342</span> </span><span class="WHIT">            </span><span class="NAME">this.bottomPanelHoverArrowSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3343</span> 
<span class='line'>3344</span> </span><span class="WHIT">            </span><span class="COMM">// Set the tweens to retract the bottom panel and a callback when complete</span><span class="WHIT">
<span class='line'>3345</span> </span><span class="WHIT">            </span><span class="NAME">this.bottomPanelLayer.addTween</span><span class="PUNC">(</span><span class="STRN">"y:-51,persistent:true,transition:ease_out,time:"</span><span class="PUNC">+</span><span class="NAME">this.travelTime</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3346</span> </span><span class="WHIT">			</span><span class="NAME">setTimeout</span><span class="PUNC">(</span><span class="NAME">this.bottomMoveDone</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.travelTime</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">1000</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NUMB">250</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3347</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3348</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3349</span> 
<span class='line'>3350</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3351</span> 	Extend the bottom panel if it's retracted and is not currently being tweened.
<span class='line'>3352</span> 	@param  {void} Nothing.
<span class='line'>3353</span> 	@return {void} Nothing.
<span class='line'>3354</span> 	*/</span><span class="WHIT">
<span class='line'>3355</span> </span><span class="WHIT">	</span><span class="NAME">this.extendBottomPanel</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3356</span> </span><span class="WHIT">		</span><span class="COMM">// Check if the bottom panel is locked before extending it</span><span class="WHIT">
<span class='line'>3357</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.bottomPanelLock</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3358</span> </span><span class="WHIT">        		</span><span class="COMM">// Set the bottom panel state to extending and the arrows the by invisible</span><span class="WHIT">
<span class='line'>3359</span> </span><span class="WHIT">            </span><span class="NAME">this.bottomPanelState</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.panelState.EXTENDING</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3360</span> </span><span class="WHIT">            </span><span class="NAME">this.bottomPanelHoverArrowSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3361</span> 
<span class='line'>3362</span> </span><span class="WHIT">            </span><span class="COMM">// Set the tweens to retract the answer panel and a callback when complete</span><span class="WHIT">
<span class='line'>3363</span> </span><span class="WHIT">            </span><span class="NAME">this.bottomPanelLayer.addTween</span><span class="PUNC">(</span><span class="STRN">"y:0,persistent:true,transition:ease_out,time:"</span><span class="PUNC">+</span><span class="NAME">this.travelTime</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3364</span> </span><span class="WHIT">			</span><span class="NAME">setTimeout</span><span class="PUNC">(</span><span class="NAME">this.bottomMoveDone</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.travelTime</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">1000</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NUMB">250</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3365</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3366</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3367</span> 
<span class='line'>3368</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>3369</span> 	Called when the answer panel is done moving.
<span class='line'>3370</span> 	@param  {object} instance The reference to this template object instance.
<span class='line'>3371</span> 	@return {void} Nothing.
<span class='line'>3372</span> 	*/</span><span class="WHIT">
<span class='line'>3373</span> </span><span class="WHIT">	</span><span class="NAME">this.answerMoveDone</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">instance</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3374</span> </span><span class="WHIT">		</span><span class="COMM">// Check if the answer panel is state is extending</span><span class="WHIT">
<span class='line'>3375</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">instance.answerPanelState</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">instance.panelState.EXTENDING</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3376</span> </span><span class="WHIT">			</span><span class="COMM">// Check if the waitingToRetractAnswer bit is set</span><span class="WHIT">
<span class='line'>3377</span> </span><span class="WHIT">            </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">instance.waitingToRetractAnswer</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3378</span> </span><span class="WHIT">            		</span><span class="COMM">// Start answer panel retraction and turn off the bit</span><span class="WHIT">
<span class='line'>3379</span> </span><span class="WHIT">                </span><span class="NAME">instance.retractAnswerPanel</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3380</span> </span><span class="WHIT">                </span><span class="NAME">instance.waitingToRetractAnswer</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3381</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3382</span> </span><span class="WHIT">            		</span><span class="COMM">// Change the answer panel state to be fully extended</span><span class="WHIT">
<span class='line'>3383</span> </span><span class="WHIT">                </span><span class="NAME">instance.answerPanelState</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">instance.panelState.EXTENDED</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3384</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3385</span> </span><span class="WHIT">        </span><span class="COMM">// Check if the answer panel is state is retracting</span><span class="WHIT">
<span class='line'>3386</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">instance.answerPanelState</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">instance.panelState.RETRACTING</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3387</span> </span><span class="WHIT">        		</span><span class="COMM">// Change the answer panel state to be fully retracted</span><span class="WHIT">
<span class='line'>3388</span> </span><span class="WHIT">            </span><span class="NAME">instance.answerPanelState</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">instance.panelState.RETRACTED</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3389</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3390</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3391</span> 
<span class='line'>3392</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3393</span> 	Called when the bottom panel is done moving.
<span class='line'>3394</span> 	@param  {object} instance The reference to this template object instance.
<span class='line'>3395</span> 	@return {void} Nothing.
<span class='line'>3396</span> 	*/</span><span class="WHIT">
<span class='line'>3397</span> </span><span class="WHIT">	</span><span class="NAME">this.bottomMoveDone</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">instance</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3398</span> </span><span class="WHIT">		</span><span class="COMM">// Check if the bottom panel is state is extending</span><span class="WHIT">
<span class='line'>3399</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">instance.bottomPanelState</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">instance.panelState.EXTENDING</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3400</span> </span><span class="WHIT">       		</span><span class="COMM">// Check if the waitingToRetractBottom bit is set</span><span class="WHIT">
<span class='line'>3401</span> </span><span class="WHIT">            </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">instance.waitingToRetractBottom</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3402</span> </span><span class="WHIT">            		</span><span class="COMM">// Start bottom panel retraction and turn off the bit</span><span class="WHIT">
<span class='line'>3403</span> </span><span class="WHIT">                </span><span class="NAME">instance.retractBottomPanel</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3404</span> </span><span class="WHIT">                </span><span class="NAME">instance.waitingToRetractBottom</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3405</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3406</span> </span><span class="WHIT">            		</span><span class="COMM">// Change the bottom panel state to be fully extended</span><span class="WHIT">
<span class='line'>3407</span> </span><span class="WHIT">                </span><span class="NAME">instance.bottomPanelState</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">instance.panelState.EXTENDED</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3408</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3409</span> </span><span class="WHIT">        </span><span class="COMM">// Check if the bottom panel is state is retracting</span><span class="WHIT">
<span class='line'>3410</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">instance.bottomPanelState</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">instance.panelState.RETRACTING</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3411</span> </span><span class="WHIT">        		</span><span class="COMM">// Change the bottom panel state to be fully retracted</span><span class="WHIT">
<span class='line'>3412</span> </span><span class="WHIT">            </span><span class="NAME">instance.bottomPanelState</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">instance.panelState.RETRACTED</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3413</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3414</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3415</span> 
<span class='line'>3416</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>3417</span> 	Callback for when the reset button is pressed.
<span class='line'>3418</span> 	@param  {number} x The x position of the mouse.
<span class='line'>3419</span> 	@param  {number} y The y position of the mouse.
<span class='line'>3420</span> 	@return {void} Nothing.
<span class='line'>3421</span> 	*/</span><span class="WHIT">
<span class='line'>3422</span> </span><span class="WHIT">	</span><span class="NAME">this.resetButtonClickCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3423</span> </span><span class="WHIT">		</span><span class="COMM">// Check if in explore mode</span><span class="WHIT">
<span class='line'>3424</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.boolExploring</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3425</span> </span><span class="WHIT">			</span><span class="COMM">// Reset explore mode</span><span class="WHIT">
<span class='line'>3426</span> </span><span class="WHIT">			</span><span class="NAME">this.scnExplore.resetQuiz</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3427</span> </span><span class="WHIT">			</span><span class="COMM">// Run the init script for explore mode</span><span class="WHIT">
<span class='line'>3428</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.funcExploreInit</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">this.funcExploreInit</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3429</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3430</span> </span><span class="WHIT">			</span><span class="COMM">// Reset the question and run the load quiz again</span><span class="WHIT">
<span class='line'>3431</span> </span><span class="WHIT">			</span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">resetQuiz</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3432</span> </span><span class="WHIT">  	  	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3433</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3434</span> 
<span class='line'>3435</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>3436</span> 	Change the title displayed at the top left corner of the demo.
<span class='line'>3437</span> 	@param  {string} title The string to replace the current title with.
<span class='line'>3438</span> 	@return {void} Nothing.
<span class='line'>3439</span> 	*/</span><span class="WHIT">
<span class='line'>3440</span> </span><span class="WHIT">    </span><span class="NAME">this.setTitle</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">title</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3441</span> </span><span class="WHIT">        </span><span class="NAME">this.titleLabel.setText</span><span class="PUNC">(</span><span class="NAME">title</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3442</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3443</span> 
<span class='line'>3444</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>3445</span> 	Change the number of tries allowed for the passed in scene.
<span class='line'>3446</span> 	@param  {number} tries The new number of tries allowed for the passed in scene.
<span class='line'>3447</span> 	@param  {object} scene The scene to change the number of tries in.
<span class='line'>3448</span> 	@return {void} Nothing.
<span class='line'>3449</span> 	*/</span><span class="WHIT">
<span class='line'>3450</span> </span><span class="WHIT">	</span><span class="NAME">this.setTries</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">tries</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scene</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3451</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">tries</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">"number"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3452</span> </span><span class="WHIT">			</span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"Demo tried to set the number of tries with a non-numeric varible."</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3453</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3454</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3455</span> </span><span class="WHIT">        </span><span class="NAME">scene.setTries</span><span class="PUNC">(</span><span class="NAME">tries</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3456</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3457</span> 
<span class='line'>3458</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>3459</span> 	Return the scene object for the scene number passed in.
<span class='line'>3460</span> 	@param  {number} scene The scene number starting at 0.
<span class='line'>3461</span> 	@param  {number} step Depercated, used for scene with multiple steps.
<span class='line'>3462</span> 	@return {object} The scene object for the scene number passed in.
<span class='line'>3463</span> 	*/</span><span class="WHIT">
<span class='line'>3464</span> </span><span class="WHIT">	</span><span class="NAME">this.getScene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">scene</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">step</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3465</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.sceneArray</span><span class="PUNC">[</span><span class="NAME">scene</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3466</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3467</span> 
<span class='line'>3468</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>3469</span> 	Returns the scene object currently being presented.
<span class='line'>3470</span> 	@param  {void} Nothing.
<span class='line'>3471</span> 	@return {object} The scene object for the scene currently being presented.
<span class='line'>3472</span> 	*/</span><span class="WHIT">
<span class='line'>3473</span> </span><span class="WHIT">    </span><span class="NAME">this.getCurrentScene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3474</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.getScene</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">this.currentScene</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3475</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3476</span> 
<span class='line'>3477</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>3478</span> 	Returns the scene number currently being presented.
<span class='line'>3479</span> 	@param  {void} Nothing.
<span class='line'>3480</span> 	@return {number} The scene number for the scene currently being presented.
<span class='line'>3481</span> 	*/</span><span class="WHIT">
<span class='line'>3482</span> </span><span class="WHIT">    </span><span class="NAME">this.getSceneNumber</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3483</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.currentScene</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3484</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3485</span> 
<span class='line'>3486</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3487</span> 	Returns a flat array with each scene's id.
<span class='line'>3488</span> 	@param  {void} Nothing.
<span class='line'>3489</span> 	@return {array} Returns a array of all the scene id's.
<span class='line'>3490</span> 	*/</span><span class="WHIT">
<span class='line'>3491</span> </span><span class="WHIT">    </span><span class="NAME">this.getFlatSceneIdList</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3492</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">flatSceneIdList</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Array</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3493</span> </span><span class="WHIT">		</span><span class="NAME">flatSceneIdList.push</span><span class="PUNC">(</span><span class="NAME">this.scnExplore.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3494</span> 
<span class='line'>3495</span> </span><span class="WHIT">        </span><span class="COMM">// Populate the flat ID array with the ID with the ID for every scene</span><span class="WHIT">
<span class='line'>3496</span> </span><span class="WHIT">        </span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">this.sceneArray.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3497</span> </span><span class="WHIT">            </span><span class="NAME">flatSceneIdList.push</span><span class="PUNC">(</span><span class="NAME">this.sceneArray</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3498</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3499</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">flatSceneIdList</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3500</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3501</span> 
<span class='line'>3502</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3503</span> 	Returns a flat array with each scene.
<span class='line'>3504</span> 	@param  {void} Nothing.
<span class='line'>3505</span> 	@return {array} Returns a array of all the scene objects.
<span class='line'>3506</span> 	*/</span><span class="WHIT">
<span class='line'>3507</span> </span><span class="WHIT">    </span><span class="NAME">this.getFlatSceneList</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3508</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">flatSceneList</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Array</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3509</span> </span><span class="WHIT">		</span><span class="NAME">flatSceneList.push</span><span class="PUNC">(</span><span class="NAME">this.scnExplore</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3510</span> 
<span class='line'>3511</span> </span><span class="WHIT">        </span><span class="COMM">// Populate the flat scene array with the refence for every scene</span><span class="WHIT">
<span class='line'>3512</span> </span><span class="WHIT">        </span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">this.sceneArray.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3513</span> </span><span class="WHIT">            </span><span class="NAME">flatSceneList.push</span><span class="PUNC">(</span><span class="NAME">this.sceneArray</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3514</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3515</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">flatSceneList</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3516</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3517</span> 
<span class='line'>3518</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3519</span> 	Called when the preloader has finished completely.
<span class='line'>3520</span> 	@param  {void} Nothing.
<span class='line'>3521</span> 	@return {void} Nothing.
<span class='line'>3522</span> 	*/</span><span class="WHIT">
<span class='line'>3523</span> </span><span class="WHIT">    </span><span class="NAME">this.donePreload</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3524</span> </span><span class="WHIT">		</span><span class="COMM">// Show 100% complete progress bar</span><span class="WHIT">
<span class='line'>3525</span> </span><span class="WHIT">        </span><span class="NAME">that.preload_loadingbar.setDimensions</span><span class="PUNC">(</span><span class="NUMB">240</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">14</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3526</span> 
<span class='line'>3527</span> </span><span class="WHIT">		</span><span class="NAME">that.plugin.setScene</span><span class="PUNC">(</span><span class="NAME">that.sceneArray</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3528</span> </span><span class="WHIT">        </span><span class="NAME">that.showInstructions</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3529</span> 
<span class='line'>3530</span> </span><span class="WHIT">        </span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"Preload complete"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3531</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3532</span> 
<span class='line'>3533</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3534</span> 	Called when the preloader has finished loading a single resource
<span class='line'>3535</span> 	@param  {void} Nothing.
<span class='line'>3536</span> 	@return {void} Nothing.
<span class='line'>3537</span> 	*/</span><span class="WHIT">
<span class='line'>3538</span> </span><span class="WHIT">    </span><span class="NAME">this.updatePreload</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">increment</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">total</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3539</span> </span><span class="WHIT">		</span><span class="COMM">// Update the width based on precent done</span><span class="WHIT">
<span class='line'>3540</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">240</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">increment</span><span class="PUNC">/</span><span class="NAME">total</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3541</span> </span><span class="WHIT">        </span><span class="NAME">that.preload_loadingbar.setDimensions</span><span class="PUNC">(</span><span class="NAME">width</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">14</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3542</span> </span><span class="WHIT">        </span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"loaded: "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">increment</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NAME">total</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3543</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3544</span> 
<span class='line'>3545</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>3546</span> 	Start the demo by preload all the images and running the initQuiz functions
<span class='line'>3547</span> 	@param  {void} Nothing.
<span class='line'>3548</span> 	@return {void} Nothing.
<span class='line'>3549</span> 	*/</span><span class="WHIT">
<span class='line'>3550</span> </span><span class="WHIT">    </span><span class="NAME">this.begin</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3551</span> </span><span class="WHIT">        </span><span class="NAME">plugin.hideSpinner</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3552</span> 
<span class='line'>3553</span> </span><span class="WHIT">		</span><span class="COMM">// Create the flat scene list and id list</span><span class="WHIT">
<span class='line'>3554</span> </span><span class="WHIT">        </span><span class="NAME">sceneIdArray</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getFlatSceneIdList</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3555</span> </span><span class="WHIT">        </span><span class="NAME">sceneArray</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getFlatSceneList</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3556</span> 
<span class='line'>3557</span> </span><span class="WHIT">		</span><span class="COMM">// Register questions with the</span><span class="WHIT">
<span class='line'>3558</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">register_questions</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">"function"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3559</span> </span><span class="WHIT">			</span><span class="NAME">register_questions</span><span class="PUNC">(</span><span class="NAME">this.demo_name</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.js_getNumberOfQuizzes</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.js_getQuizNames</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3560</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3561</span> 
<span class='line'>3562</span> </span><span class="WHIT">		</span><span class="COMM">// Build up explore mode</span><span class="WHIT">
<span class='line'>3563</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.funcExploreInit</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">this.funcExploreInit</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3564</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.boolExplore</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">this.scnExplore.initQuiz</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3565</span> </span><span class="WHIT">		</span><span class="NAME">this.buildExplore</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3566</span> 
<span class='line'>3567</span> </span><span class="WHIT">		</span><span class="COMM">// Build up each scene and call initQuiz function</span><span class="WHIT">
<span class='line'>3568</span> </span><span class="WHIT">		</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">this.sceneArray.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3569</span> </span><span class="WHIT">			</span><span class="NAME">this.sceneArray</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">initQuiz</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3570</span> </span><span class="WHIT">			</span><span class="NAME">this.buildScene</span><span class="PUNC">(</span><span class="NAME">this.sceneArray</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3571</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3572</span> 
<span class='line'>3573</span> </span><span class="WHIT">		</span><span class="COMM">// Start the preload</span><span class="WHIT">
<span class='line'>3574</span> </span><span class="WHIT">        </span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"starting preload"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3575</span> </span><span class="WHIT">        </span><span class="NAME">this.preload_layer.bind</span><span class="PUNC">(</span><span class="STRN">"preload_update"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.updatePreload</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3576</span> </span><span class="WHIT">        </span><span class="NAME">this.preload_layer.bind</span><span class="PUNC">(</span><span class="STRN">"preload_complete"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.donePreload</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3577</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.preload</span><span class="PUNC">(</span><span class="NAME">this.preload_layer.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">sceneIdArray</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3578</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3579</span> 
<span class='line'>3580</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>3581</span> 	Change the current scene to the next scene
<span class='line'>3582</span> 	@param  {void} Nothing.
<span class='line'>3583</span> 	@return {void} Nothing.
<span class='line'>3584</span> 	*/</span><span class="WHIT">
<span class='line'>3585</span> </span><span class="WHIT">    </span><span class="NAME">this.nextScene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3586</span> </span><span class="WHIT">		</span><span class="NAME">clearTimeout</span><span class="PUNC">(</span><span class="NAME">this.submissionRetryID</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3587</span> 
<span class='line'>3588</span> </span><span class="WHIT">        </span><span class="COMM">// Check if current scene is the last one</span><span class="WHIT">
<span class='line'>3589</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.currentScene</span><span class="WHIT">  </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">this.totalScenes</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3590</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3591</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3592</span> </span><span class="WHIT">        </span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">cleanUp</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3593</span> 
<span class='line'>3594</span> </span><span class="WHIT">        </span><span class="COMM">// We are out of steps</span><span class="WHIT">
<span class='line'>3595</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.currentScene</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">this.sceneArray.length</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3596</span> </span><span class="WHIT">            </span><span class="NAME">this.nextSceneButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3597</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3598</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3599</span> 
<span class='line'>3600</span> </span><span class="WHIT">        </span><span class="COMM">// Increment the scene and change it</span><span class="WHIT">
<span class='line'>3601</span> </span><span class="WHIT">        </span><span class="NAME">this.currentScene</span><span class="PUNC">++</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3602</span> </span><span class="WHIT">        </span><span class="NAME">this.changeScene</span><span class="PUNC">(</span><span class="NAME">this.sceneArray</span><span class="PUNC">[</span><span class="NAME">this.currentScene</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3603</span> 
<span class='line'>3604</span> </span><span class="WHIT">		</span><span class="COMM">// If the question is complete but it doesn't has the response on the server then try to resend</span><span class="WHIT">
<span class='line'>3605</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getCompleted</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getServerStatus</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3606</span> </span><span class="WHIT">			</span><span class="NAME">this.submissionRetryID</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">setTimeout</span><span class="PUNC">(</span><span class="NAME">this.persistentSubmission</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">8000</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3607</span> </span><span class="WHIT">			</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"Submissive number = "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.submissionRetryID</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3608</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3609</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3610</span> 
<span class='line'>3611</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3612</span> 	Change the current scene to the one provided
<span class='line'>3613</span> 	@param  {object} scene The new scene to change to.
<span class='line'>3614</span> 	@return {void} Nothing.
<span class='line'>3615</span> 	*/</span><span class="WHIT">
<span class='line'>3616</span> </span><span class="WHIT">    </span><span class="NAME">this.changeScene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">scene</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3617</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.setScene</span><span class="PUNC">(</span><span class="NAME">scene.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3618</span> </span><span class="WHIT">        </span><span class="NAME">this.drawUI</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3619</span> </span><span class="WHIT">		</span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">loadQuiz</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3620</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3621</span> 
<span class='line'>3622</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>3623</span> 	Change the current scene to the previous scene
<span class='line'>3624</span> 	@param  {void} Nothing.
<span class='line'>3625</span> 	@return {void} Nothing.
<span class='line'>3626</span> 	*/</span><span class="WHIT">
<span class='line'>3627</span> </span><span class="WHIT">    </span><span class="NAME">this.prevScene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3628</span> </span><span class="WHIT">		</span><span class="NAME">clearTimeout</span><span class="PUNC">(</span><span class="NAME">this.submissionRetryID</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3629</span> 
<span class='line'>3630</span> </span><span class="WHIT">		</span><span class="COMM">// Is this the frist step</span><span class="WHIT">
<span class='line'>3631</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.currentScene</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3632</span> </span><span class="WHIT">        		</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"Frist scene"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3633</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3634</span> </span><span class="WHIT">        </span><span class="COMM">// Decrement the scene and change it</span><span class="WHIT">
<span class='line'>3635</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3636</span> </span><span class="WHIT">       		</span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">cleanUp</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3637</span> </span><span class="WHIT">            </span><span class="NAME">this.currentScene</span><span class="PUNC">--</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3638</span> </span><span class="WHIT">            </span><span class="NAME">this.changeScene</span><span class="PUNC">(</span><span class="NAME">this.sceneArray</span><span class="PUNC">[</span><span class="NAME">this.currentScene</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3639</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3640</span> 
<span class='line'>3641</span> </span><span class="WHIT">		</span><span class="COMM">// If the question is complete but it doesn't has the response on the server then try to resend</span><span class="WHIT">
<span class='line'>3642</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getCompleted</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getServerStatus</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3643</span> </span><span class="WHIT">			</span><span class="NAME">this.submissionRetryID</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">setTimeout</span><span class="PUNC">(</span><span class="NAME">this.persistentSubmission</span><span class="PUNC">,</span><span class="NUMB">8000</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3644</span> </span><span class="WHIT">			</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"Submissive number = "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.submissionRetryID</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3645</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3646</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3647</span> 
<span class='line'>3648</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>3649</span> 	Draw the current scene as well as the controls & menus.
<span class='line'>3650</span> 	@param  {void} Nothing.
<span class='line'>3651</span> 	@return {void} Nothing.
<span class='line'>3652</span> 	*/</span><span class="WHIT">
<span class='line'>3653</span> </span><span class="WHIT">    </span><span class="NAME">this.drawUI</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3654</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">scene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3655</span> 
<span class='line'>3656</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">scene.strInstruction</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3657</span> </span><span class="WHIT">			</span><span class="NAME">this.questionLabel.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3658</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3659</span> </span><span class="WHIT">			</span><span class="NAME">this.questionLabel.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3660</span> </span><span class="WHIT">			</span><span class="NAME">this.questionLabel.setText</span><span class="PUNC">(</span><span class="NAME">scene.strInstruction</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3661</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3662</span> 
<span class='line'>3663</span> </span><span class="WHIT">        </span><span class="COMM">// Update correct/incorrect indicators</span><span class="WHIT">
<span class='line'>3664</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">scene.getCompleted</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3665</span> </span><span class="WHIT">            </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">scene.getCorrect</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3666</span> </span><span class="WHIT">				</span><span class="COMM">// is correct so show check</span><span class="WHIT">
<span class='line'>3667</span> </span><span class="WHIT">                </span><span class="NAME">this.crossSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3668</span> </span><span class="WHIT">                </span><span class="NAME">this.checkSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3669</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3670</span> </span><span class="WHIT">				</span><span class="COMM">// Is incorrect so shown 'X'</span><span class="WHIT">
<span class='line'>3671</span> </span><span class="WHIT">                </span><span class="NAME">this.crossSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3672</span> </span><span class="WHIT">                </span><span class="NAME">this.checkSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3673</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3674</span> 
<span class='line'>3675</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">scene.getServerStatus</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">this.boolSimulate</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3676</span> </span><span class="WHIT">				</span><span class="COMM">// received by server (simulated)</span><span class="WHIT">
<span class='line'>3677</span> </span><span class="WHIT">				</span><span class="NAME">this.wifiGreenSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3678</span> </span><span class="WHIT">				</span><span class="NAME">this.wifiBlueSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3679</span> </span><span class="WHIT">				</span><span class="NAME">this.wifiGreySprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3680</span> </span><span class="WHIT">				</span><span class="COMM">// receive by server</span><span class="WHIT">
<span class='line'>3681</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">scene.getServerStatus</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">this.boolSimulate</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3682</span> </span><span class="WHIT">				</span><span class="NAME">this.wifiGreenSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3683</span> </span><span class="WHIT">                </span><span class="NAME">this.wifiBlueSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3684</span> </span><span class="WHIT">				</span><span class="NAME">this.wifiGreySprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3685</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3686</span> </span><span class="WHIT">				</span><span class="COMM">// not received by server</span><span class="WHIT">
<span class='line'>3687</span> </span><span class="WHIT">				</span><span class="NAME">this.wifiGreenSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3688</span> </span><span class="WHIT">                </span><span class="NAME">this.wifiBlueSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3689</span> </span><span class="WHIT">				</span><span class="NAME">this.wifiGreySprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3690</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3691</span> 
<span class='line'>3692</span> </span><span class="WHIT">			</span><span class="COMM">// Activate the answer button</span><span class="WHIT">
<span class='line'>3693</span> </span><span class="WHIT">            </span><span class="NAME">this.submitButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3694</span> </span><span class="WHIT">			</span><span class="NAME">this.answerButton.setActive</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3695</span> </span><span class="WHIT">			</span><span class="NAME">this.readyButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3696</span> 
<span class='line'>3697</span> </span><span class="WHIT">			</span><span class="COMM">// Set the answer button to be visible</span><span class="WHIT">
<span class='line'>3698</span> </span><span class="WHIT">	  	  	</span><span class="NAME">this.submitButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3699</span> </span><span class="WHIT">		    </span><span class="NAME">this.answerButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3700</span> </span><span class="WHIT">		    </span><span class="NAME">this.readyButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3701</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3702</span> </span><span class="WHIT">			</span><span class="COMM">// Set check and "X" icon off</span><span class="WHIT">
<span class='line'>3703</span> </span><span class="WHIT">			</span><span class="NAME">this.crossSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3704</span> </span><span class="WHIT">            </span><span class="NAME">this.checkSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3705</span> 
<span class='line'>3706</span> </span><span class="WHIT">			</span><span class="COMM">// Set all the wifi icons off</span><span class="WHIT">
<span class='line'>3707</span> </span><span class="WHIT">			</span><span class="NAME">this.wifiGreySprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3708</span> </span><span class="WHIT">			</span><span class="NAME">this.wifiGreenSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3709</span> </span><span class="WHIT">			</span><span class="NAME">this.wifiBlueSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3710</span> 
<span class='line'>3711</span> </span><span class="WHIT">			</span><span class="COMM">// Show grey wifi if the user has tried at least once</span><span class="WHIT">
<span class='line'>3712</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">scene.getTries</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3713</span> </span><span class="WHIT">				</span><span class="NAME">this.wifiGreySprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3714</span> </span><span class="WHIT">				</span><span class="NAME">this.crossSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3715</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3716</span> 
<span class='line'>3717</span> </span><span class="WHIT">			</span><span class="COMM">// Activate the submit button</span><span class="WHIT">
<span class='line'>3718</span> </span><span class="WHIT">			</span><span class="NAME">this.submitButton.setActive</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3719</span> </span><span class="WHIT">			</span><span class="NAME">this.answerButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3720</span> </span><span class="WHIT">			</span><span class="NAME">this.readyButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3721</span> 
<span class='line'>3722</span> </span><span class="WHIT">			</span><span class="COMM">// Set the submit button to be visible</span><span class="WHIT">
<span class='line'>3723</span> </span><span class="WHIT">	  	  	</span><span class="NAME">this.submitButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3724</span> </span><span class="WHIT">		    </span><span class="NAME">this.answerButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3725</span> </span><span class="WHIT">		    </span><span class="NAME">this.readyButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3726</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3727</span> 
<span class='line'>3728</span> </span><span class="WHIT">        </span><span class="COMM">// Update the next scene buttons</span><span class="WHIT">
<span class='line'>3729</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="PUNC">(</span><span class="NAME">this.currentScene</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">this.sceneArray.length</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3730</span> </span><span class="WHIT">			</span><span class="COMM">// If the question is complete and not at the end of the demo set next button to be active</span><span class="WHIT">
<span class='line'>3731</span> </span><span class="WHIT">            </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">scene.getCompleted</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3732</span> </span><span class="WHIT">                </span><span class="NAME">this.nextSceneButton.setActive</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3733</span> </span><span class="WHIT">            </span><span class="COMM">//Else set next button to be inactive</span><span class="WHIT">
<span class='line'>3734</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3735</span> </span><span class="WHIT">                </span><span class="NAME">this.nextSceneButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3736</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3737</span> </span><span class="WHIT">        </span><span class="COMM">// If on the last question set next button to be inactive</span><span class="WHIT">
<span class='line'>3738</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3739</span> </span><span class="WHIT">            </span><span class="NAME">this.nextSceneButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3740</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3741</span> 
<span class='line'>3742</span> </span><span class="WHIT">        </span><span class="COMM">// Update the previous scene buttons</span><span class="WHIT">
<span class='line'>3743</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="PUNC">(</span><span class="NAME">this.currentScene</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3744</span> </span><span class="WHIT">        		</span><span class="COMM">// If NOT on the frist question set previous button to be active</span><span class="WHIT">
<span class='line'>3745</span> </span><span class="WHIT">            </span><span class="NAME">this.previousSceneButton.setActive</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3746</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3747</span> </span><span class="WHIT">       	 	</span><span class="COMM">// If on the frist question set previous button to be inactive</span><span class="WHIT">
<span class='line'>3748</span> </span><span class="WHIT">            </span><span class="NAME">this.previousSceneButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3749</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3750</span> 
<span class='line'>3751</span> </span><span class="WHIT">		</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>3752</span> </span><span class="WHIT">        </span><span class="NAME">this.triesLabel.setText</span><span class="PUNC">(</span><span class="STRN">"Quiz: Submission chances left "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">scene.getTries</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3753</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3754</span> 
<span class='line'>3755</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3756</span> 	Update the progress bar to reflect the current state of the demo.
<span class='line'>3757</span> 	@param  {void} Nothing.
<span class='line'>3758</span> 	@return {void} Nothing.
<span class='line'>3759</span> 	*/</span><span class="WHIT">
<span class='line'>3760</span> </span><span class="WHIT">    </span><span class="NAME">this.updateProgress</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3761</span> </span><span class="WHIT">        	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">progressWidth</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3762</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.totalFinished</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3763</span> </span><span class="WHIT">			</span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"The demo has tried to up date the progress with 0 totalFinished"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3764</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3765</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3766</span> 
<span class='line'>3767</span> </span><span class="WHIT">		</span><span class="COMM">// Set the progress bar text to update the totalFinished</span><span class="WHIT">
<span class='line'>3768</span> </span><span class="WHIT">        </span><span class="NAME">this.progressBarCount.setText</span><span class="PUNC">(</span><span class="STRN">"("</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.totalFinished</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.totalScenes</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">")"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3769</span> 
<span class='line'>3770</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.totalFinished</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">this.totalScenes</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3771</span> </span><span class="WHIT">            </span><span class="COMM">// Remaining percentage of scenes</span><span class="WHIT">
<span class='line'>3772</span> </span><span class="WHIT">			</span><span class="NAME">progressWidth</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.totalFinished</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NAME">this.totalScenes</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">94</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3773</span> </span><span class="WHIT">            </span><span class="NAME">this.progressMiddleSprite.setDimensions</span><span class="PUNC">(</span><span class="NAME">progressWidth</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3774</span> 
<span class='line'>3775</span> </span><span class="WHIT">            </span><span class="COMM">// Add the left "cap" to the progress bar</span><span class="WHIT">
<span class='line'>3776</span> </span><span class="WHIT">            </span><span class="NAME">this.progressLeftSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3777</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.totalFinished</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">this.totalScenes</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3778</span> 
<span class='line'>3779</span> </span><span class="WHIT">        		</span><span class="COMM">// Setup the middle and right cap to make it look complete</span><span class="WHIT">
<span class='line'>3780</span> </span><span class="WHIT">            </span><span class="NAME">this.progressMiddleSprite.setDimensions</span><span class="PUNC">(</span><span class="NUMB">109</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3781</span> </span><span class="WHIT">            </span><span class="NAME">this.progressRightSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3782</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3783</span> 
<span class='line'>3784</span> </span><span class="WHIT">            </span><span class="COMM">// We are somewhere in the middle of the scene list</span><span class="WHIT">
<span class='line'>3785</span> </span><span class="WHIT">            </span><span class="NAME">progressWidth</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.totalFinished</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NAME">this.totalScenes</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">94</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3786</span> </span><span class="WHIT">            </span><span class="NAME">this.progressMiddleSprite.setDimensions</span><span class="PUNC">(</span><span class="NAME">progressWidth</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3787</span> </span><span class="WHIT">            </span><span class="NAME">this.progressRightSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3788</span> </span><span class="WHIT">            </span><span class="NAME">this.progressLeftSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3789</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3790</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3791</span> 
<span class='line'>3792</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3793</span> 	Show the curtain and disable the interactive events
<span class='line'>3794</span> 	@param  {void} Nothing.
<span class='line'>3795</span> 	@return {void} Nothing.
<span class='line'>3796</span> 	*/</span><span class="WHIT">
<span class='line'>3797</span> </span><span class="WHIT">	</span><span class="NAME">this.showCurtain</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3798</span> </span><span class="WHIT">		</span><span class="NAME">this.curtainLayer.setColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.25</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3799</span> </span><span class="WHIT">		</span><span class="NAME">this.plugin.setInteractive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3800</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3801</span> 
<span class='line'>3802</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3803</span> 	Hide the curtain and enable the interactive events.
<span class='line'>3804</span> 	@param  {void} Nothing.
<span class='line'>3805</span> 	@return {void} Nothing.
<span class='line'>3806</span> 	*/</span><span class="WHIT">
<span class='line'>3807</span> </span><span class="WHIT">	</span><span class="NAME">this.hideCurtain</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3808</span> </span><span class="WHIT">		</span><span class="NAME">this.curtainLayer.setColor</span><span class="PUNC">(</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0.0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3809</span> </span><span class="WHIT">		</span><span class="NAME">this.plugin.setInteractive</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3810</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3811</span> 
<span class='line'>3812</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>3813</span> 	Show the instructions panel (auto-show the curtain).
<span class='line'>3814</span> 	@param  {void} Nothing.
<span class='line'>3815</span> 	@return {void} Nothing.
<span class='line'>3816</span> 	*/</span><span class="WHIT">
<span class='line'>3817</span> </span><span class="WHIT">    </span><span class="NAME">this.showInstructions</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3818</span> </span><span class="WHIT">		</span><span class="COMM">// Make the OK button active during the curtain</span><span class="WHIT">
<span class='line'>3819</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.addSpecial</span><span class="PUNC">(</span><span class="NAME">this.instructionsButton.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3820</span> </span><span class="WHIT">        </span><span class="NAME">this.showCurtain</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3821</span> 
<span class='line'>3822</span> </span><span class="WHIT">		</span><span class="COMM">// Set the instruction box to be visible</span><span class="WHIT">
<span class='line'>3823</span> </span><span class="WHIT">        </span><span class="NAME">this.instructionsSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3824</span> </span><span class="WHIT">        </span><span class="NAME">this.instructionsLabel.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3825</span> </span><span class="WHIT">        </span><span class="NAME">this.instructionsTextLabel.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3826</span> </span><span class="WHIT">        </span><span class="NAME">this.instructionsButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3827</span> </span><span class="WHIT">        </span><span class="NAME">this.instructionsButton.subscribe</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3828</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3829</span> 
<span class='line'>3830</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>3831</span> 	Hide the instructions panel (auto-hide the curtain).
<span class='line'>3832</span> 	@param  {void} Nothing.
<span class='line'>3833</span> 	@return {void} Nothing.
<span class='line'>3834</span> 	*/</span><span class="WHIT">
<span class='line'>3835</span> </span><span class="WHIT">    </span><span class="NAME">this.hideInstructions</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3836</span> </span><span class="WHIT">   		</span><span class="COMM">// Make the OK button active during the curtain</span><span class="WHIT">
<span class='line'>3837</span> </span><span class="WHIT">        </span><span class="NAME">this.plugin.removeSpecial</span><span class="PUNC">(</span><span class="NAME">this.instructionsButton.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3838</span> </span><span class="WHIT">        </span><span class="NAME">this.hideCurtain</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3839</span> 
<span class='line'>3840</span> </span><span class="WHIT">        </span><span class="COMM">// Set the instruction box to be invisible</span><span class="WHIT">
<span class='line'>3841</span> </span><span class="WHIT">        </span><span class="NAME">this.instructionsSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3842</span> </span><span class="WHIT">        </span><span class="NAME">this.instructionsLabel.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3843</span> </span><span class="WHIT">        </span><span class="NAME">this.instructionsTextLabel.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3844</span> </span><span class="WHIT">        </span><span class="NAME">this.instructionsButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3845</span> </span><span class="WHIT">        </span><span class="NAME">this.instructionsButton.unsubscribe</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3846</span> 
<span class='line'>3847</span> </span><span class="WHIT">        </span><span class="COMM">// Test if explore mode has been defined otherwise goto question 1</span><span class="WHIT">
<span class='line'>3848</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.funcExploreInit</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">this.boolExplore</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3849</span> </span><span class="WHIT">       	 	</span><span class="NAME">this.startExplore</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3850</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3851</span> </span><span class="WHIT">			</span><span class="NAME">this.changeScene</span><span class="PUNC">(</span><span class="NAME">this.sceneArray</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3852</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3853</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3854</span> 
<span class='line'>3855</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>3856</span> 	Change the actual text displayed in the instructions panel.
<span class='line'>3857</span> 	@param  {string} text The text to be displayed intstruction panel.
<span class='line'>3858</span> 	@return {void} Nothing.
<span class='line'>3859</span> 	*/</span><span class="WHIT">
<span class='line'>3860</span> </span><span class="WHIT">    </span><span class="NAME">this.setInstructionText</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">text</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3861</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">text</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3862</span> </span><span class="WHIT">            </span><span class="NAME">logError</span><span class="PUNC">(</span><span class="STRN">"Cannnot set text of label to non-string value"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3863</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3864</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3865</span> </span><span class="WHIT">        </span><span class="NAME">this.instructionsTextLabel.setText</span><span class="PUNC">(</span><span class="NAME">text</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3866</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3867</span> 
<span class='line'>3868</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3869</span> 	Change scene to the scene number passed in.
<span class='line'>3870</span> 	@param  {number} numQ The scene number starting at 0.
<span class='line'>3871</span> 	@param  {number} numS Depercated, used for scene with multiple steps.
<span class='line'>3872</span> 	@return {void} Nothing.
<span class='line'>3873</span> 	*/</span><span class="WHIT">
<span class='line'>3874</span> </span><span class="WHIT">	</span><span class="NAME">this.gotoScene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">numQ</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">numS</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3875</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">scene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getScene</span><span class="PUNC">(</span><span class="NAME">numQ</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">numS</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3876</span> </span><span class="WHIT">		</span><span class="NAME">this.currentScene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">numQ</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3877</span> </span><span class="WHIT">		</span><span class="NAME">this.changeScene</span><span class="PUNC">(</span><span class="NAME">scene</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3878</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3879</span> 
<span class='line'>3880</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3881</span> 	Calls the current scenes clean up frist and then displays the explore mode scene.
<span class='line'>3882</span> 	@param  {void} Nothing.
<span class='line'>3883</span> 	@return {void} Nothing.
<span class='line'>3884</span> 	*/</span><span class="WHIT">
<span class='line'>3885</span> </span><span class="WHIT">    </span><span class="NAME">this.gotoExplore</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3886</span> </span><span class="WHIT">    	</span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">cleanUp</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3887</span> </span><span class="WHIT">    	</span><span class="NAME">this.startExplore</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3888</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3889</span> 
<span class='line'>3890</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>3891</span> 	Builds up the passed in scene as well as the controls & menus
<span class='line'>3892</span>     @param  {object} scene The scene object to add all the template resources to.
<span class='line'>3893</span> 	@return {void} Nothing.
<span class='line'>3894</span> 	*/</span><span class="WHIT">
<span class='line'>3895</span> </span><span class="WHIT">    </span><span class="NAME">this.buildScene</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">scene</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3896</span> </span><span class="WHIT">		</span><span class="COMM">// Add the problem layer, developer background the the question label</span><span class="WHIT">
<span class='line'>3897</span> </span><span class="WHIT">		</span><span class="NAME">scene.addChild</span><span class="PUNC">(</span><span class="NAME">this.problemLayer</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3898</span> </span><span class="WHIT">   		</span><span class="NAME">scene.addChild</span><span class="PUNC">(</span><span class="NAME">scene.bgLayer</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3899</span> </span><span class="WHIT">        </span><span class="NAME">scene.addChild</span><span class="PUNC">(</span><span class="NAME">this.questionLabel</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3900</span> 
<span class='line'>3901</span> </span><span class="WHIT">		</span><span class="COMM">// Add the panels</span><span class="WHIT">
<span class='line'>3902</span> </span><span class="WHIT">        </span><span class="NAME">scene.addChild</span><span class="PUNC">(</span><span class="NAME">this.answerPanelLayer</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3903</span> </span><span class="WHIT">        </span><span class="NAME">scene.addChild</span><span class="PUNC">(</span><span class="NAME">this.bottomPanelLayer</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3904</span> 
<span class='line'>3905</span> </span><span class="WHIT">        </span><span class="COMM">// Add the progress bar</span><span class="WHIT">
<span class='line'>3906</span> </span><span class="WHIT">		</span><span class="NAME">scene.addChild</span><span class="PUNC">(</span><span class="NAME">this.progressBarSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3907</span> </span><span class="WHIT">		</span><span class="NAME">scene.addChild</span><span class="PUNC">(</span><span class="NAME">this.progressMiddleSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3908</span> </span><span class="WHIT">		</span><span class="NAME">scene.addChild</span><span class="PUNC">(</span><span class="NAME">this.progressLeftSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3909</span> </span><span class="WHIT">		</span><span class="NAME">scene.addChild</span><span class="PUNC">(</span><span class="NAME">this.progressRightSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3910</span> </span><span class="WHIT">    	</span><span class="NAME">scene.addChild</span><span class="PUNC">(</span><span class="NAME">this.progressBarLabel</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3911</span> </span><span class="WHIT">        </span><span class="NAME">scene.addChild</span><span class="PUNC">(</span><span class="NAME">this.progressBarCount</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3912</span> 
<span class='line'>3913</span> </span><span class="WHIT">        </span><span class="COMM">// Add back to phone gap button if mobile</span><span class="WHIT">
<span class='line'>3914</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.boolMobile</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">scene.addChild</span><span class="PUNC">(</span><span class="NAME">this.backToPG</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3915</span> 
<span class='line'>3916</span> </span><span class="WHIT">		</span><span class="COMM">// Add the curtain and everything that should be displayed over it</span><span class="WHIT">
<span class='line'>3917</span> </span><span class="WHIT">        </span><span class="NAME">scene.addChild</span><span class="PUNC">(</span><span class="NAME">this.curtainLayer</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3918</span> </span><span class="WHIT">        </span><span class="NAME">scene.addChild</span><span class="PUNC">(</span><span class="NAME">this.instructionsLabel</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3919</span> </span><span class="WHIT">        </span><span class="NAME">scene.addChild</span><span class="PUNC">(</span><span class="NAME">this.instructionsTextLabel</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3920</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3921</span> 
<span class='line'>3922</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3923</span> 	Builds up the explore mode scene as well as the controls & menus
<span class='line'>3924</span>     @param  {void} Nothing.
<span class='line'>3925</span> 	@return {void} Nothing.
<span class='line'>3926</span> 	*/</span><span class="WHIT">
<span class='line'>3927</span> </span><span class="WHIT">	</span><span class="NAME">this.buildExplore</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3928</span> </span><span class="WHIT">		</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"Building up explore mode"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3929</span> 
<span class='line'>3930</span> </span><span class="WHIT">		</span><span class="COMM">// Add the problem layer, developer backgrond the the question label</span><span class="WHIT">
<span class='line'>3931</span> </span><span class="WHIT">		</span><span class="NAME">this.scnExplore.addChild</span><span class="PUNC">(</span><span class="NAME">this.problemLayer</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3932</span> </span><span class="WHIT">		</span><span class="NAME">this.scnExplore.addChild</span><span class="PUNC">(</span><span class="NAME">this.expLayer</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3933</span> </span><span class="WHIT">		</span><span class="NAME">this.scnExplore.addChild</span><span class="PUNC">(</span><span class="NAME">this.scnExplore.bgLayer</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3934</span> </span><span class="WHIT">		</span><span class="NAME">this.scnExplore.addChild</span><span class="PUNC">(</span><span class="NAME">this.questionLabel</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3935</span> 
<span class='line'>3936</span> </span><span class="WHIT">		</span><span class="COMM">// Add the panels</span><span class="WHIT">
<span class='line'>3937</span> </span><span class="WHIT">		</span><span class="NAME">this.scnExplore.addChild</span><span class="PUNC">(</span><span class="NAME">this.answerPanelLayer</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3938</span> </span><span class="WHIT">        </span><span class="NAME">this.scnExplore.addChild</span><span class="PUNC">(</span><span class="NAME">this.bottomPanelLayer</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3939</span> 
<span class='line'>3940</span> </span><span class="WHIT">		</span><span class="COMM">// Add the progress bar</span><span class="WHIT">
<span class='line'>3941</span> </span><span class="WHIT">	    </span><span class="NAME">this.scnExplore.addChild</span><span class="PUNC">(</span><span class="NAME">this.progressBarSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3942</span> </span><span class="WHIT">  	  	</span><span class="NAME">this.scnExplore.addChild</span><span class="PUNC">(</span><span class="NAME">this.progressMiddleSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3943</span> </span><span class="WHIT">  	  	</span><span class="NAME">this.scnExplore.addChild</span><span class="PUNC">(</span><span class="NAME">this.progressLeftSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3944</span> </span><span class="WHIT">   	 	</span><span class="NAME">this.scnExplore.addChild</span><span class="PUNC">(</span><span class="NAME">this.progressRightSprite</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3945</span> </span><span class="WHIT">        </span><span class="NAME">this.scnExplore.addChild</span><span class="PUNC">(</span><span class="NAME">this.progressBarLabel</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3946</span> </span><span class="WHIT">        </span><span class="NAME">this.scnExplore.addChild</span><span class="PUNC">(</span><span class="NAME">this.progressBarCount</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3947</span> 
<span class='line'>3948</span> </span><span class="WHIT">        </span><span class="COMM">// Add back to phone gap button if mobile</span><span class="WHIT">
<span class='line'>3949</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.boolMobile</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">this.scnExplore.addChild</span><span class="PUNC">(</span><span class="NAME">this.backToPG</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3950</span> 
<span class='line'>3951</span> </span><span class="WHIT">		</span><span class="COMM">// Add the curtain and everything that should be displayed over it</span><span class="WHIT">
<span class='line'>3952</span> </span><span class="WHIT">        </span><span class="NAME">this.scnExplore.addChild</span><span class="PUNC">(</span><span class="NAME">this.curtainLayer</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3953</span> </span><span class="WHIT">        </span><span class="NAME">this.scnExplore.addChild</span><span class="PUNC">(</span><span class="NAME">this.instructionsLabel</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3954</span> </span><span class="WHIT">        </span><span class="NAME">this.scnExplore.addChild</span><span class="PUNC">(</span><span class="NAME">this.instructionsTextLabel</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3955</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3956</span> 
<span class='line'>3957</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>3958</span> 	Cleans up all previous scenes and display explore mode
<span class='line'>3959</span>     @param  {void} Nothing.
<span class='line'>3960</span> 	@return {void} Nothing.
<span class='line'>3961</span> 	*/</span><span class="WHIT">
<span class='line'>3962</span> </span><span class="WHIT">    </span><span class="NAME">this.startExplore</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3963</span> </span><span class="WHIT">		</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"Starting in explore mode"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3964</span> 
<span class='line'>3965</span> </span><span class="WHIT">		</span><span class="COMM">// Record the current scene and change to explore mode</span><span class="WHIT">
<span class='line'>3966</span> </span><span class="WHIT">    		</span><span class="NAME">this.scnLast</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3967</span> </span><span class="WHIT">		</span><span class="NAME">this.plugin.setScene</span><span class="PUNC">(</span><span class="NAME">this.scnExplore.getId</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3968</span> 
<span class='line'>3969</span> </span><span class="WHIT">		</span><span class="COMM">// Use the internal instruction unless it is empty</span><span class="WHIT">
<span class='line'>3970</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.scnExplore.strInstruction</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3971</span> </span><span class="WHIT">			</span><span class="NAME">this.questionLabel.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3972</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3973</span> </span><span class="WHIT">			</span><span class="NAME">this.questionLabel.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3974</span> </span><span class="WHIT">			</span><span class="NAME">this.questionLabel.setText</span><span class="PUNC">(</span><span class="NAME">this.scnExplore.strInstruction</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3975</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3976</span> 
<span class='line'>3977</span> </span><span class="WHIT">        	</span><span class="COMM">// Set the ready button to be active</span><span class="WHIT">
<span class='line'>3978</span> </span><span class="WHIT">		</span><span class="NAME">this.submitButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3979</span> </span><span class="WHIT">		</span><span class="NAME">this.answerButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3980</span> </span><span class="WHIT">		</span><span class="NAME">this.readyButton.setActive</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3981</span> </span><span class="WHIT">		</span><span class="NAME">this.exploreButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3982</span> 
<span class='line'>3983</span> </span><span class="WHIT">		</span><span class="COMM">// Set the ready button to be visible</span><span class="WHIT">
<span class='line'>3984</span> </span><span class="WHIT">  	  	</span><span class="NAME">this.submitButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3985</span> </span><span class="WHIT">        </span><span class="NAME">this.answerButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3986</span> </span><span class="WHIT">        </span><span class="NAME">this.readyButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3987</span> 
<span class='line'>3988</span> </span><span class="WHIT">		</span><span class="COMM">// Set the all the status symbols to false</span><span class="WHIT">
<span class='line'>3989</span> </span><span class="WHIT">		</span><span class="NAME">this.crossSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3990</span> </span><span class="WHIT">		</span><span class="NAME">this.checkSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3991</span> </span><span class="WHIT">		</span><span class="NAME">this.wifiGreenSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3992</span> </span><span class="WHIT">        </span><span class="NAME">this.wifiBlueSprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3993</span> </span><span class="WHIT">		</span><span class="NAME">this.wifiGreySprite.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3994</span> 
<span class='line'>3995</span> </span><span class="WHIT">		</span><span class="COMM">// Run explore mode load function</span><span class="WHIT">
<span class='line'>3996</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.funcExploreInit</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>3997</span> </span><span class="WHIT">			</span><span class="NAME">this.funcExploreInit</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>3998</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>3999</span> </span><span class="WHIT">		</span><span class="NAME">this.boolExploring</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4000</span> </span><span class="WHIT">		</span><span class="NAME">this.scnExplore.loadQuiz</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4001</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4002</span> 
<span class='line'>4003</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>4004</span> 	Cleans up explore mode and displays the previous scene
<span class='line'>4005</span>     @param  {void} Nothing.
<span class='line'>4006</span> 	@return {void} Nothing.
<span class='line'>4007</span> 	*/</span><span class="WHIT">
<span class='line'>4008</span> </span><span class="WHIT">    </span><span class="NAME">this.endExplore</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>4009</span> </span><span class="WHIT">		</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="STRN">"Exiting explore mode"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4010</span> 
<span class='line'>4011</span> </span><span class="WHIT">		</span><span class="COMM">// Set the subbit button to be active</span><span class="WHIT">
<span class='line'>4012</span> </span><span class="WHIT">        </span><span class="NAME">this.submitButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4013</span> </span><span class="WHIT">		</span><span class="NAME">this.answerButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4014</span> </span><span class="WHIT">        </span><span class="NAME">this.readyButton.setVisibility</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4015</span> 
<span class='line'>4016</span> </span><span class="WHIT">		</span><span class="COMM">// Set the subbit button to be visible</span><span class="WHIT">
<span class='line'>4017</span> </span><span class="WHIT">		</span><span class="NAME">this.submitButton.setActive</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4018</span> </span><span class="WHIT">		</span><span class="NAME">this.answerButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4019</span> </span><span class="WHIT">		</span><span class="NAME">this.readyButton.setActive</span><span class="PUNC">(</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4020</span> </span><span class="WHIT">		</span><span class="NAME">this.exploreButton.setActive</span><span class="PUNC">(</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4021</span> 
<span class='line'>4022</span> </span><span class="WHIT">		</span><span class="COMM">// Run the clean function for explore mode</span><span class="WHIT">
<span class='line'>4023</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.funcExploreCleanUp</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>4024</span> </span><span class="WHIT">			</span><span class="NAME">this.funcExploreCleanUp</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4025</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>4026</span> </span><span class="WHIT">		</span><span class="NAME">this.boolExploring</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4027</span> </span><span class="WHIT">		</span><span class="NAME">this.scnExplore.cleanUp</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4028</span> 
<span class='line'>4029</span> </span><span class="WHIT">		</span><span class="COMM">// Return to the original question</span><span class="WHIT">
<span class='line'>4030</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">this.scnLast</span><span class="WHIT"> </span><span class="PUNC">!==</span><span class="WHIT"> </span><span class="STRN">'undefined'</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">this.changeScene</span><span class="PUNC">(</span><span class="NAME">this.scnLast</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4031</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4032</span> 
<span class='line'>4033</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>4034</span> 	Get the demo name for this quiz
<span class='line'>4035</span> 	@param  {void} Nothing.
<span class='line'>4036</span> 	@return {string} Return the demo's name string.
<span class='line'>4037</span> 	*/</span><span class="WHIT">
<span class='line'>4038</span> </span><span class="WHIT">    </span><span class="NAME">this.js_getDemoName</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>4039</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.demo_name</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4040</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4041</span> 
<span class='line'>4042</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>4043</span> 	Set the demo name for this quiz
<span class='line'>4044</span> 	@param  {string} passName The new demo's name string.
<span class='line'>4045</span> 	@return {void} Nothing.
<span class='line'>4046</span> 	*/</span><span class="WHIT">
<span class='line'>4047</span> </span><span class="WHIT">    </span><span class="NAME">this.js_setDemoName</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">passName</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>4048</span> </span><span class="WHIT">		</span><span class="NAME">this.demo_name</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">passName</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4049</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4050</span> 
<span class='line'>4051</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>4052</span> 	Gets the number of quizzes in demo
<span class='line'>4053</span> 	@param  {void} Nothing.
<span class='line'>4054</span> 	@return {number} Returns the number of quizzes in this demo
<span class='line'>4055</span> 	*/</span><span class="WHIT">
<span class='line'>4056</span> </span><span class="WHIT">    </span><span class="NAME">this.js_getNumberOfQuizzes</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>4057</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.sceneArray.length</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4058</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4059</span> 
<span class='line'>4060</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>4061</span> 	Gets the number of quizzes in demo
<span class='line'>4062</span> 	@param  {void} Nothing.
<span class='line'>4063</span> 	@return {array} Return an array of each question's name.
<span class='line'>4064</span> 	*/</span><span class="WHIT">
<span class='line'>4065</span> </span><span class="WHIT">    </span><span class="NAME">this.js_getQuizNames</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>4066</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.quizNames</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4067</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4068</span> 
<span class='line'>4069</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>4070</span> 	Called by the server when it's confirming it has recieved a submission.
<span class='line'>4071</span> 	@param  {string} result1 The name of the question that the server is confirming.
<span class='line'>4072</span> 	@param  {string} result2 The server returns "true" or "false" and if sent locally it will be "simulate".
<span class='line'>4073</span> 	@return {void} Nothing.
<span class='line'>4074</span> 	*/</span><span class="WHIT">
<span class='line'>4075</span> </span><span class="WHIT">	</span><span class="NAME">this.js_onQuizSubmit</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">result1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">result2</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>4076</span> </span><span class="WHIT">		</span><span class="COMM">// Set server status to true</span><span class="WHIT">
<span class='line'>4077</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">intQuiz</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">parseInt</span><span class="PUNC">(</span><span class="NAME">result1.substr</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4078</span> </span><span class="WHIT">		</span><span class="NAME">this.sceneArray</span><span class="PUNC">[</span><span class="NAME">intQuiz</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">serverStatus</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4079</span> 
<span class='line'>4080</span> </span><span class="WHIT">		</span><span class="COMM">// Clear previous timer</span><span class="WHIT">
<span class='line'>4081</span> </span><span class="WHIT">		</span><span class="NAME">clearTimeout</span><span class="PUNC">(</span><span class="NAME">this.submissionRetryID</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4082</span> 
<span class='line'>4083</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">result2</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT">  </span><span class="STRN">"Simulate"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>4084</span> </span><span class="WHIT">			</span><span class="COMM">//  Set wifi to the blue symbol</span><span class="WHIT">
<span class='line'>4085</span> </span><span class="WHIT">			</span><span class="NAME">this.boolSimulate</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4086</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>4087</span> </span><span class="WHIT">			</span><span class="COMM">//  Set wifi to the green symbol</span><span class="WHIT">
<span class='line'>4088</span> </span><span class="WHIT">			</span><span class="NAME">this.boolSimulate</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4089</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>4090</span> 
<span class='line'>4091</span> </span><span class="WHIT">		</span><span class="NAME">this.drawUI</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4092</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4093</span> 
<span class='line'>4094</span> </span><span class="WHIT">    </span><span class="COMM">/**
<span class='line'>4095</span> 	Once this functions is called it will retry to sent the answer submission to the server every 8 seconds.
<span class='line'>4096</span> 	@param  {object} that The reference to this template object instance.
<span class='line'>4097</span> 	@return {void} Nothing.
<span class='line'>4098</span> 	*/</span><span class="WHIT">
<span class='line'>4099</span> </span><span class="WHIT">	</span><span class="NAME">this.persistentSubmission</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">that</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>4100</span> </span><span class="WHIT">		</span><span class="COMM">// Clear previous timer</span><span class="WHIT">
<span class='line'>4101</span> </span><span class="WHIT">		</span><span class="NAME">clearTimeout</span><span class="PUNC">(</span><span class="NAME">that.submissionRetryID</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4102</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">strQuiz</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"Q"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">that.currentScene</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4103</span> 
<span class='line'>4104</span> </span><span class="WHIT">		</span><span class="COMM">// If the javascript is not on a remote server then use server simulation</span><span class="WHIT">
<span class='line'>4105</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.boolSimulate</span><span class="PUNC">)</span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>4106</span> </span><span class="WHIT">			</span><span class="NAME">that.js_onQuizSubmit</span><span class="PUNC">(</span><span class="NAME">strQuiz</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"Simulate"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4107</span> </span><span class="WHIT">			</span><span class="NAME">that.boolSimulate</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4108</span> </span><span class="WHIT">			</span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4109</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>4110</span> </span><span class="WHIT">			</span><span class="NAME">submit_demo_quiz_answer</span><span class="PUNC">(</span><span class="NAME">that.demo_name</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">strQuiz</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">that.getCurrentScene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getCorrect</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">that.js_onQuizSubmit</span><span class="PUNC">(</span><span class="NAME">strQuiz</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"THM"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4111</span> </span><span class="WHIT">			</span><span class="NAME">that.boolSimulate</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4112</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>4113</span> 
<span class='line'>4114</span> </span><span class="WHIT">		</span><span class="COMM">// Set timer to try sending data again in 8 seconds</span><span class="WHIT">
<span class='line'>4115</span> </span><span class="WHIT">		</span><span class="NAME">that.submissionRetryID</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">setTimeout</span><span class="PUNC">(</span><span class="NAME">that.persistentSubmission</span><span class="PUNC">,</span><span class="NUMB">8000</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">that</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4116</span> </span><span class="WHIT">		</span><span class="NAME">logDebug</span><span class="PUNC">(</span><span class="NAME">that.submissionRetryID</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">" id: Try submission"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4117</span> 
<span class='line'>4118</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4119</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4120</span> 
<span class='line'>4121</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>4122</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>4123</span> </span></pre></body></html>